var PS=Object.defineProperty;var AS=(i,e,t)=>e in i?PS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Le=(i,e,t)=>AS(i,typeof e!="symbol"?e+"":e,t);function OS(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jw={exports:{}},rp={},Ww={exports:{}},pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=Symbol.for("react.element"),DS=Symbol.for("react.portal"),zS=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),FS=Symbol.for("react.profiler"),IS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),BS=Symbol.for("react.forward_ref"),_S=Symbol.for("react.suspense"),jS=Symbol.for("react.memo"),WS=Symbol.for("react.lazy"),Qy=Symbol.iterator;function VS(i){return i===null||typeof i!="object"?null:(i=Qy&&i[Qy]||i["@@iterator"],typeof i=="function"?i:null)}var Vw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uw=Object.assign,Gw={};function el(i,e,t){this.props=i,this.context=e,this.refs=Gw,this.updater=t||Vw}el.prototype.isReactComponent={};el.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};el.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function Xw(){}Xw.prototype=el.prototype;function wb(i,e,t){this.props=i,this.context=e,this.refs=Gw,this.updater=t||Vw}var xb=wb.prototype=new Xw;xb.constructor=wb;Uw(xb,el.prototype);xb.isPureReactComponent=!0;var e0=Array.isArray,Yw=Object.prototype.hasOwnProperty,Cb={current:null},$w={key:!0,ref:!0,__self:!0,__source:!0};function Kw(i,e,t){var s,r={},o=null,h=null;if(e!=null)for(s in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(o=""+e.key),e)Yw.call(e,s)&&!$w.hasOwnProperty(s)&&(r[s]=e[s]);var p=arguments.length-2;if(p===1)r.children=t;else if(1<p){for(var g=Array(p),x=0;x<p;x++)g[x]=arguments[x+2];r.children=g}if(i&&i.defaultProps)for(s in p=i.defaultProps,p)r[s]===void 0&&(r[s]=p[s]);return{$$typeof:Uh,type:i,key:o,ref:h,props:r,_owner:Cb.current}}function US(i,e){return{$$typeof:Uh,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function Eb(i){return typeof i=="object"&&i!==null&&i.$$typeof===Uh}function GS(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(t){return e[t]})}var t0=/\/+/g;function Lm(i,e){return typeof i=="object"&&i!==null&&i.key!=null?GS(""+i.key):e.toString(36)}function qd(i,e,t,s,r){var o=typeof i;(o==="undefined"||o==="boolean")&&(i=null);var h=!1;if(i===null)h=!0;else switch(o){case"string":case"number":h=!0;break;case"object":switch(i.$$typeof){case Uh:case DS:h=!0}}if(h)return h=i,r=r(h),i=s===""?"."+Lm(h,0):s,e0(r)?(t="",i!=null&&(t=i.replace(t0,"$&/")+"/"),qd(r,e,t,"",function(x){return x})):r!=null&&(Eb(r)&&(r=US(r,t+(!r.key||h&&h.key===r.key?"":(""+r.key).replace(t0,"$&/")+"/")+i)),e.push(r)),1;if(h=0,s=s===""?".":s+":",e0(i))for(var p=0;p<i.length;p++){o=i[p];var g=s+Lm(o,p);h+=qd(o,e,t,g,r)}else if(g=VS(i),typeof g=="function")for(i=g.call(i),p=0;!(o=i.next()).done;)o=o.value,g=s+Lm(o,p++),h+=qd(o,e,t,g,r);else if(o==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function Ld(i,e,t){if(i==null)return i;var s=[],r=0;return qd(i,s,"","",function(o){return e.call(t,o,r++)}),s}function XS(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(t){(i._status===0||i._status===-1)&&(i._status=1,i._result=t)},function(t){(i._status===0||i._status===-1)&&(i._status=2,i._result=t)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var qi={current:null},Jd={transition:null},YS={ReactCurrentDispatcher:qi,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:Cb};function qw(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:Ld,forEach:function(i,e,t){Ld(i,function(){e.apply(this,arguments)},t)},count:function(i){var e=0;return Ld(i,function(){e++}),e},toArray:function(i){return Ld(i,function(e){return e})||[]},only:function(i){if(!Eb(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};pt.Component=el;pt.Fragment=zS;pt.Profiler=FS;pt.PureComponent=wb;pt.StrictMode=NS;pt.Suspense=_S;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YS;pt.act=qw;pt.cloneElement=function(i,e,t){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var s=Uw({},i.props),r=i.key,o=i.ref,h=i._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,h=Cb.current),e.key!==void 0&&(r=""+e.key),i.type&&i.type.defaultProps)var p=i.type.defaultProps;for(g in e)Yw.call(e,g)&&!$w.hasOwnProperty(g)&&(s[g]=e[g]===void 0&&p!==void 0?p[g]:e[g])}var g=arguments.length-2;if(g===1)s.children=t;else if(1<g){p=Array(g);for(var x=0;x<g;x++)p[x]=arguments[x+2];s.children=p}return{$$typeof:Uh,type:i.type,key:r,ref:o,props:s,_owner:h}};pt.createContext=function(i){return i={$$typeof:HS,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:IS,_context:i},i.Consumer=i};pt.createElement=Kw;pt.createFactory=function(i){var e=Kw.bind(null,i);return e.type=i,e};pt.createRef=function(){return{current:null}};pt.forwardRef=function(i){return{$$typeof:BS,render:i}};pt.isValidElement=Eb;pt.lazy=function(i){return{$$typeof:WS,_payload:{_status:-1,_result:i},_init:XS}};pt.memo=function(i,e){return{$$typeof:jS,type:i,compare:e===void 0?null:e}};pt.startTransition=function(i){var e=Jd.transition;Jd.transition={};try{i()}finally{Jd.transition=e}};pt.unstable_act=qw;pt.useCallback=function(i,e){return qi.current.useCallback(i,e)};pt.useContext=function(i){return qi.current.useContext(i)};pt.useDebugValue=function(){};pt.useDeferredValue=function(i){return qi.current.useDeferredValue(i)};pt.useEffect=function(i,e){return qi.current.useEffect(i,e)};pt.useId=function(){return qi.current.useId()};pt.useImperativeHandle=function(i,e,t){return qi.current.useImperativeHandle(i,e,t)};pt.useInsertionEffect=function(i,e){return qi.current.useInsertionEffect(i,e)};pt.useLayoutEffect=function(i,e){return qi.current.useLayoutEffect(i,e)};pt.useMemo=function(i,e){return qi.current.useMemo(i,e)};pt.useReducer=function(i,e,t){return qi.current.useReducer(i,e,t)};pt.useRef=function(i){return qi.current.useRef(i)};pt.useState=function(i){return qi.current.useState(i)};pt.useSyncExternalStore=function(i,e,t){return qi.current.useSyncExternalStore(i,e,t)};pt.useTransition=function(){return qi.current.useTransition()};pt.version="18.3.1";Ww.exports=pt;var he=Ww.exports;const Jw=yb(he),$S=OS({__proto__:null,default:Jw},[he]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=he,qS=Symbol.for("react.element"),JS=Symbol.for("react.fragment"),ZS=Object.prototype.hasOwnProperty,QS=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eM={key:!0,ref:!0,__self:!0,__source:!0};function Zw(i,e,t){var s,r={},o=null,h=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(h=e.ref);for(s in e)ZS.call(e,s)&&!eM.hasOwnProperty(s)&&(r[s]=e[s]);if(i&&i.defaultProps)for(s in e=i.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:qS,type:i,key:o,ref:h,props:r,_owner:QS.current}}rp.Fragment=JS;rp.jsx=Zw;rp.jsxs=Zw;jw.exports=rp;var U=jw.exports,lg={},Qw={exports:{}},ys={},ex={exports:{}},tx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(Pe,$e){var Xe=Pe.length;Pe.push($e);e:for(;0<Xe;){var ht=Xe-1>>>1,gt=Pe[ht];if(0<r(gt,$e))Pe[ht]=$e,Pe[Xe]=gt,Xe=ht;else break e}}function t(Pe){return Pe.length===0?null:Pe[0]}function s(Pe){if(Pe.length===0)return null;var $e=Pe[0],Xe=Pe.pop();if(Xe!==$e){Pe[0]=Xe;e:for(var ht=0,gt=Pe.length,ni=gt>>>1;ht<ni;){var Ut=2*(ht+1)-1,Pi=Pe[Ut],Ai=Ut+1,Ke=Pe[Ai];if(0>r(Pi,Xe))Ai<gt&&0>r(Ke,Pi)?(Pe[ht]=Ke,Pe[Ai]=Xe,ht=Ai):(Pe[ht]=Pi,Pe[Ut]=Xe,ht=Ut);else if(Ai<gt&&0>r(Ke,Xe))Pe[ht]=Ke,Pe[Ai]=Xe,ht=Ai;else break e}}return $e}function r(Pe,$e){var Xe=Pe.sortIndex-$e.sortIndex;return Xe!==0?Xe:Pe.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],x=[],k=1,R=null,D=3,W=!1,V=!1,Y=!1,ee=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(Pe){for(var $e=t(x);$e!==null;){if($e.callback===null)s(x);else if($e.startTime<=Pe)s(x),$e.sortIndex=$e.expirationTime,e(g,$e);else break;$e=t(x)}}function Z(Pe){if(Y=!1,X(Pe),!V)if(t(g)!==null)V=!0,Pt(ce);else{var $e=t(x);$e!==null&&Ui(Z,$e.startTime-Pe)}}function ce(Pe,$e){V=!1,Y&&(Y=!1,B(se),se=-1),W=!0;var Xe=D;try{for(X($e),R=t(g);R!==null&&(!(R.expirationTime>$e)||Pe&&!mt());){var ht=R.callback;if(typeof ht=="function"){R.callback=null,D=R.priorityLevel;var gt=ht(R.expirationTime<=$e);$e=i.unstable_now(),typeof gt=="function"?R.callback=gt:R===t(g)&&s(g),X($e)}else s(g);R=t(g)}if(R!==null)var ni=!0;else{var Ut=t(x);Ut!==null&&Ui(Z,Ut.startTime-$e),ni=!1}return ni}finally{R=null,D=Xe,W=!1}}var fe=!1,Te=null,se=-1,nt=5,_e=-1;function mt(){return!(i.unstable_now()-_e<nt)}function Ye(){if(Te!==null){var Pe=i.unstable_now();_e=Pe;var $e=!0;try{$e=Te(!0,Pe)}finally{$e?ii():(fe=!1,Te=null)}}else fe=!1}var ii;if(typeof j=="function")ii=function(){j(Ye)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Vi=Vt.port2;Vt.port1.onmessage=Ye,ii=function(){Vi.postMessage(null)}}else ii=function(){ee(Ye,0)};function Pt(Pe){Te=Pe,fe||(fe=!0,ii())}function Ui(Pe,$e){se=ee(function(){Pe(i.unstable_now())},$e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Pe){Pe.callback=null},i.unstable_continueExecution=function(){V||W||(V=!0,Pt(ce))},i.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<Pe?Math.floor(1e3/Pe):5},i.unstable_getCurrentPriorityLevel=function(){return D},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(Pe){switch(D){case 1:case 2:case 3:var $e=3;break;default:$e=D}var Xe=D;D=$e;try{return Pe()}finally{D=Xe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Pe,$e){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var Xe=D;D=Pe;try{return $e()}finally{D=Xe}},i.unstable_scheduleCallback=function(Pe,$e,Xe){var ht=i.unstable_now();switch(typeof Xe=="object"&&Xe!==null?(Xe=Xe.delay,Xe=typeof Xe=="number"&&0<Xe?ht+Xe:ht):Xe=ht,Pe){case 1:var gt=-1;break;case 2:gt=250;break;case 5:gt=1073741823;break;case 4:gt=1e4;break;default:gt=5e3}return gt=Xe+gt,Pe={id:k++,callback:$e,priorityLevel:Pe,startTime:Xe,expirationTime:gt,sortIndex:-1},Xe>ht?(Pe.sortIndex=Xe,e(x,Pe),t(g)===null&&Pe===t(x)&&(Y?(B(se),se=-1):Y=!0,Ui(Z,Xe-ht))):(Pe.sortIndex=gt,e(g,Pe),V||W||(V=!0,Pt(ce))),Pe},i.unstable_shouldYield=mt,i.unstable_wrapCallback=function(Pe){var $e=D;return function(){var Xe=D;D=$e;try{return Pe.apply(this,arguments)}finally{D=Xe}}}})(tx);ex.exports=tx;var tM=ex.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iM=he,vs=tM;function Ce(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ix=new Set,Sh={};function Uo(i,e){Xa(i,e),Xa(i+"Capture",e)}function Xa(i,e){for(Sh[i]=e,i=0;i<e.length;i++)ix.add(e[i])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hg=Object.prototype.hasOwnProperty,sM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i0={},s0={};function rM(i){return hg.call(s0,i)?!0:hg.call(i0,i)?!1:sM.test(i)?s0[i]=!0:(i0[i]=!0,!1)}function nM(i,e,t,s){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:t!==null?!t.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function oM(i,e,t,s){if(e===null||typeof e>"u"||nM(i,e,t,s))return!0;if(s)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ji(i,e,t,s,r,o,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=i,this.type=e,this.sanitizeURL=o,this.removeEmptyString=h}var Ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Ri[i]=new Ji(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];Ri[e]=new Ji(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Ri[i]=new Ji(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Ri[i]=new Ji(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Ri[i]=new Ji(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Ri[i]=new Ji(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Ri[i]=new Ji(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Ri[i]=new Ji(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Ri[i]=new Ji(i,5,!1,i.toLowerCase(),null,!1,!1)});var kb=/[\-:]([a-z])/g;function Sb(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(kb,Sb);Ri[e]=new Ji(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(kb,Sb);Ri[e]=new Ji(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(kb,Sb);Ri[e]=new Ji(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Ri[i]=new Ji(i,1,!1,i.toLowerCase(),null,!1,!1)});Ri.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Ri[i]=new Ji(i,1,!1,i.toLowerCase(),null,!0,!0)});function Mb(i,e,t,s){var r=Ri.hasOwnProperty(e)?Ri[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oM(e,t,r,s)&&(t=null),s||r===null?rM(e)&&(t===null?i.removeAttribute(e):i.setAttribute(e,""+t)):r.mustUseProperty?i[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,s=r.attributeNamespace,t===null?i.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,s?i.setAttributeNS(s,e,t):i.setAttribute(e,t))))}var Jr=iM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pd=Symbol.for("react.element"),Ea=Symbol.for("react.portal"),ka=Symbol.for("react.fragment"),Tb=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),Rb=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),Lb=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),nx=Symbol.for("react.offscreen"),r0=Symbol.iterator;function Kl(i){return i===null||typeof i!="object"?null:(i=r0&&i[r0]||i["@@iterator"],typeof i=="function"?i:null)}var Jt=Object.assign,Pm;function nh(i){if(Pm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Pm=e&&e[1]||""}return`
`+Pm+i}var Am=!1;function Om(i,e){if(!i||Am)return"";Am=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var s=x}Reflect.construct(i,[],e)}else{try{e.call()}catch(x){s=x}i.call(e.prototype)}else{try{throw Error()}catch(x){s=x}i()}}catch(x){if(x&&s&&typeof x.stack=="string"){for(var r=x.stack.split(`
`),o=s.stack.split(`
`),h=r.length-1,p=o.length-1;1<=h&&0<=p&&r[h]!==o[p];)p--;for(;1<=h&&0<=p;h--,p--)if(r[h]!==o[p]){if(h!==1||p!==1)do if(h--,p--,0>p||r[h]!==o[p]){var g=`
`+r[h].replace(" at new "," at ");return i.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",i.displayName)),g}while(1<=h&&0<=p);break}}}finally{Am=!1,Error.prepareStackTrace=t}return(i=i?i.displayName||i.name:"")?nh(i):""}function aM(i){switch(i.tag){case 5:return nh(i.type);case 16:return nh("Lazy");case 13:return nh("Suspense");case 19:return nh("SuspenseList");case 0:case 2:case 15:return i=Om(i.type,!1),i;case 11:return i=Om(i.type.render,!1),i;case 1:return i=Om(i.type,!0),i;default:return""}}function pg(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ka:return"Fragment";case Ea:return"Portal";case ug:return"Profiler";case Tb:return"StrictMode";case dg:return"Suspense";case cg:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case rx:return(i.displayName||"Context")+".Consumer";case sx:return(i._context.displayName||"Context")+".Provider";case Rb:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Lb:return e=i.displayName||null,e!==null?e:pg(i.type)||"Memo";case wn:e=i._payload,i=i._init;try{return pg(i(e))}catch{}}return null}function lM(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===Tb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wn(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ox(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hM(i){var e=ox(i)?"checked":"value",t=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),s=""+i[e];if(!i.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,o=t.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return r.call(this)},set:function(h){s=""+h,o.call(this,h)}}),Object.defineProperty(i,e,{enumerable:t.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function Ad(i){i._valueTracker||(i._valueTracker=hM(i))}function ax(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var t=e.getValue(),s="";return i&&(s=ox(i)?i.checked?"true":"false":i.value),i=s,i!==t?(e.setValue(i),!0):!1}function cc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function fg(i,e){var t=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??i._wrapperState.initialChecked})}function n0(i,e){var t=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;t=Wn(e.value!=null?e.value:t),i._wrapperState={initialChecked:s,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lx(i,e){e=e.checked,e!=null&&Mb(i,"checked",e,!1)}function mg(i,e){lx(i,e);var t=Wn(e.value),s=e.type;if(t!=null)s==="number"?(t===0&&i.value===""||i.value!=t)&&(i.value=""+t):i.value!==""+t&&(i.value=""+t);else if(s==="submit"||s==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?gg(i,e.type,t):e.hasOwnProperty("defaultValue")&&gg(i,e.type,Wn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function o0(i,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,t||e===i.value||(i.value=e),i.defaultValue=e}t=i.name,t!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,t!==""&&(i.name=t)}function gg(i,e,t){(e!=="number"||cc(i.ownerDocument)!==i)&&(t==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+t&&(i.defaultValue=""+t))}var oh=Array.isArray;function _a(i,e,t,s){if(i=i.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<i.length;t++)r=e.hasOwnProperty("$"+i[t].value),i[t].selected!==r&&(i[t].selected=r),r&&s&&(i[t].defaultSelected=!0)}else{for(t=""+Wn(t),e=null,r=0;r<i.length;r++){if(i[r].value===t){i[r].selected=!0,s&&(i[r].defaultSelected=!0);return}e!==null||i[r].disabled||(e=i[r])}e!==null&&(e.selected=!0)}}function bg(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function a0(i,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ce(92));if(oh(t)){if(1<t.length)throw Error(Ce(93));t=t[0]}e=t}e==null&&(e=""),t=e}i._wrapperState={initialValue:Wn(t)}}function hx(i,e){var t=Wn(e.value),s=Wn(e.defaultValue);t!=null&&(t=""+t,t!==i.value&&(i.value=t),e.defaultValue==null&&i.defaultValue!==t&&(i.defaultValue=t)),s!=null&&(i.defaultValue=""+s)}function l0(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function ux(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?ux(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Od,dx=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,s,r){MSApp.execUnsafeLocalFunction(function(){return i(e,t,s,r)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(Od=Od||document.createElement("div"),Od.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Od.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function Mh(i,e){if(e){var t=i.firstChild;if(t&&t===i.lastChild&&t.nodeType===3){t.nodeValue=e;return}}i.textContent=e}var uh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uM=["Webkit","ms","Moz","O"];Object.keys(uh).forEach(function(i){uM.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),uh[e]=uh[i]})});function cx(i,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||uh.hasOwnProperty(i)&&uh[i]?(""+e).trim():e+"px"}function px(i,e){i=i.style;for(var t in e)if(e.hasOwnProperty(t)){var s=t.indexOf("--")===0,r=cx(t,e[t],s);t==="float"&&(t="cssFloat"),s?i.setProperty(t,r):i[t]=r}}var dM=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yg(i,e){if(e){if(dM[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function wg(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function Pb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cg=null,ja=null,Wa=null;function h0(i){if(i=Yh(i)){if(typeof Cg!="function")throw Error(Ce(280));var e=i.stateNode;e&&(e=hp(e),Cg(i.stateNode,i.type,e))}}function fx(i){ja?Wa?Wa.push(i):Wa=[i]:ja=i}function mx(){if(ja){var i=ja,e=Wa;if(Wa=ja=null,h0(i),e)for(i=0;i<e.length;i++)h0(e[i])}}function gx(i,e){return i(e)}function bx(){}var Dm=!1;function vx(i,e,t){if(Dm)return i(e,t);Dm=!0;try{return gx(i,e,t)}finally{Dm=!1,(ja!==null||Wa!==null)&&(bx(),mx())}}function Th(i,e){var t=i.stateNode;if(t===null)return null;var s=hp(t);if(s===null)return null;t=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(i=i.type,s=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!s;break e;default:i=!1}if(i)return null;if(t&&typeof t!="function")throw Error(Ce(231,e,typeof t));return t}var Eg=!1;if(Xr)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{Eg=!1}function cM(i,e,t,s,r,o,h,p,g){var x=Array.prototype.slice.call(arguments,3);try{e.apply(t,x)}catch(k){this.onError(k)}}var dh=!1,pc=null,fc=!1,kg=null,pM={onError:function(i){dh=!0,pc=i}};function fM(i,e,t,s,r,o,h,p,g){dh=!1,pc=null,cM.apply(pM,arguments)}function mM(i,e,t,s,r,o,h,p,g){if(fM.apply(this,arguments),dh){if(dh){var x=pc;dh=!1,pc=null}else throw Error(Ce(198));fc||(fc=!0,kg=x)}}function Go(i){var e=i,t=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(t=e.return),i=e.return;while(i)}return e.tag===3?t:null}function yx(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function u0(i){if(Go(i)!==i)throw Error(Ce(188))}function gM(i){var e=i.alternate;if(!e){if(e=Go(i),e===null)throw Error(Ce(188));return e!==i?null:i}for(var t=i,s=e;;){var r=t.return;if(r===null)break;var o=r.alternate;if(o===null){if(s=r.return,s!==null){t=s;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===t)return u0(r),i;if(o===s)return u0(r),e;o=o.sibling}throw Error(Ce(188))}if(t.return!==s.return)t=r,s=o;else{for(var h=!1,p=r.child;p;){if(p===t){h=!0,t=r,s=o;break}if(p===s){h=!0,s=r,t=o;break}p=p.sibling}if(!h){for(p=o.child;p;){if(p===t){h=!0,t=o,s=r;break}if(p===s){h=!0,s=o,t=r;break}p=p.sibling}if(!h)throw Error(Ce(189))}}if(t.alternate!==s)throw Error(Ce(190))}if(t.tag!==3)throw Error(Ce(188));return t.stateNode.current===t?i:e}function wx(i){return i=gM(i),i!==null?xx(i):null}function xx(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=xx(i);if(e!==null)return e;i=i.sibling}return null}var Cx=vs.unstable_scheduleCallback,d0=vs.unstable_cancelCallback,bM=vs.unstable_shouldYield,vM=vs.unstable_requestPaint,ri=vs.unstable_now,yM=vs.unstable_getCurrentPriorityLevel,Ab=vs.unstable_ImmediatePriority,Ex=vs.unstable_UserBlockingPriority,mc=vs.unstable_NormalPriority,wM=vs.unstable_LowPriority,kx=vs.unstable_IdlePriority,np=null,wr=null;function xM(i){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(np,i,void 0,(i.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:kM,CM=Math.log,EM=Math.LN2;function kM(i){return i>>>=0,i===0?32:31-(CM(i)/EM|0)|0}var Dd=64,zd=4194304;function ah(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function gc(i,e){var t=i.pendingLanes;if(t===0)return 0;var s=0,r=i.suspendedLanes,o=i.pingedLanes,h=t&268435455;if(h!==0){var p=h&~r;p!==0?s=ah(p):(o&=h,o!==0&&(s=ah(o)))}else h=t&~r,h!==0?s=ah(h):o!==0&&(s=ah(o));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(s&4&&(s|=t&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=s;0<e;)t=31-Qs(e),r=1<<t,s|=i[t],e&=~r;return s}function SM(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MM(i,e){for(var t=i.suspendedLanes,s=i.pingedLanes,r=i.expirationTimes,o=i.pendingLanes;0<o;){var h=31-Qs(o),p=1<<h,g=r[h];g===-1?(!(p&t)||p&s)&&(r[h]=SM(p,e)):g<=e&&(i.expiredLanes|=p),o&=~p}}function Sg(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Sx(){var i=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),i}function zm(i){for(var e=[],t=0;31>t;t++)e.push(i);return e}function Gh(i,e,t){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-Qs(e),i[e]=t}function TM(i,e){var t=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var s=i.eventTimes;for(i=i.expirationTimes;0<t;){var r=31-Qs(t),o=1<<r;e[r]=0,s[r]=-1,i[r]=-1,t&=~o}}function Ob(i,e){var t=i.entangledLanes|=e;for(i=i.entanglements;t;){var s=31-Qs(t),r=1<<s;r&e|i[s]&e&&(i[s]|=e),t&=~r}}var kt=0;function Mx(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Tx,Db,Rx,Lx,Px,Mg=!1,Nd=[],zn=null,Nn=null,Fn=null,Rh=new Map,Lh=new Map,Rn=[],RM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c0(i,e){switch(i){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Rh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lh.delete(e.pointerId)}}function Jl(i,e,t,s,r,o){return i===null||i.nativeEvent!==o?(i={blockedOn:e,domEventName:t,eventSystemFlags:s,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Yh(e),e!==null&&Db(e)),i):(i.eventSystemFlags|=s,e=i.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),i)}function LM(i,e,t,s,r){switch(e){case"focusin":return zn=Jl(zn,i,e,t,s,r),!0;case"dragenter":return Nn=Jl(Nn,i,e,t,s,r),!0;case"mouseover":return Fn=Jl(Fn,i,e,t,s,r),!0;case"pointerover":var o=r.pointerId;return Rh.set(o,Jl(Rh.get(o)||null,i,e,t,s,r)),!0;case"gotpointercapture":return o=r.pointerId,Lh.set(o,Jl(Lh.get(o)||null,i,e,t,s,r)),!0}return!1}function Ax(i){var e=Lo(i.target);if(e!==null){var t=Go(e);if(t!==null){if(e=t.tag,e===13){if(e=yx(t),e!==null){i.blockedOn=e,Px(i.priority,function(){Rx(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){i.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zd(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var t=Tg(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(t===null){t=i.nativeEvent;var s=new t.constructor(t.type,t);xg=s,t.target.dispatchEvent(s),xg=null}else return e=Yh(t),e!==null&&Db(e),i.blockedOn=t,!1;e.shift()}return!0}function p0(i,e,t){Zd(i)&&t.delete(e)}function PM(){Mg=!1,zn!==null&&Zd(zn)&&(zn=null),Nn!==null&&Zd(Nn)&&(Nn=null),Fn!==null&&Zd(Fn)&&(Fn=null),Rh.forEach(p0),Lh.forEach(p0)}function Zl(i,e){i.blockedOn===e&&(i.blockedOn=null,Mg||(Mg=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,PM)))}function Ph(i){function e(r){return Zl(r,i)}if(0<Nd.length){Zl(Nd[0],i);for(var t=1;t<Nd.length;t++){var s=Nd[t];s.blockedOn===i&&(s.blockedOn=null)}}for(zn!==null&&Zl(zn,i),Nn!==null&&Zl(Nn,i),Fn!==null&&Zl(Fn,i),Rh.forEach(e),Lh.forEach(e),t=0;t<Rn.length;t++)s=Rn[t],s.blockedOn===i&&(s.blockedOn=null);for(;0<Rn.length&&(t=Rn[0],t.blockedOn===null);)Ax(t),t.blockedOn===null&&Rn.shift()}var Va=Jr.ReactCurrentBatchConfig,bc=!0;function AM(i,e,t,s){var r=kt,o=Va.transition;Va.transition=null;try{kt=1,zb(i,e,t,s)}finally{kt=r,Va.transition=o}}function OM(i,e,t,s){var r=kt,o=Va.transition;Va.transition=null;try{kt=4,zb(i,e,t,s)}finally{kt=r,Va.transition=o}}function zb(i,e,t,s){if(bc){var r=Tg(i,e,t,s);if(r===null)Um(i,e,s,vc,t),c0(i,s);else if(LM(r,i,e,t,s))s.stopPropagation();else if(c0(i,s),e&4&&-1<RM.indexOf(i)){for(;r!==null;){var o=Yh(r);if(o!==null&&Tx(o),o=Tg(i,e,t,s),o===null&&Um(i,e,s,vc,t),o===r)break;r=o}r!==null&&s.stopPropagation()}else Um(i,e,s,null,t)}}var vc=null;function Tg(i,e,t,s){if(vc=null,i=Pb(s),i=Lo(i),i!==null)if(e=Go(i),e===null)i=null;else if(t=e.tag,t===13){if(i=yx(e),i!==null)return i;i=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return vc=i,null}function Ox(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yM()){case Ab:return 1;case Ex:return 4;case mc:case wM:return 16;case kx:return 536870912;default:return 16}default:return 16}}var An=null,Nb=null,Qd=null;function Dx(){if(Qd)return Qd;var i,e=Nb,t=e.length,s,r="value"in An?An.value:An.textContent,o=r.length;for(i=0;i<t&&e[i]===r[i];i++);var h=t-i;for(s=1;s<=h&&e[t-s]===r[o-s];s++);return Qd=r.slice(i,1<s?1-s:void 0)}function ec(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function Fd(){return!0}function f0(){return!1}function ws(i){function e(t,s,r,o,h){this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var p in i)i.hasOwnProperty(p)&&(t=i[p],this[p]=t?t(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fd:f0,this.isPropagationStopped=f0,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),e}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fb=ws(tl),Xh=Jt({},tl,{view:0,detail:0}),DM=ws(Xh),Nm,Fm,Ql,op=Jt({},Xh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ib,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ql&&(Ql&&i.type==="mousemove"?(Nm=i.screenX-Ql.screenX,Fm=i.screenY-Ql.screenY):Fm=Nm=0,Ql=i),Nm)},movementY:function(i){return"movementY"in i?i.movementY:Fm}}),m0=ws(op),zM=Jt({},op,{dataTransfer:0}),NM=ws(zM),FM=Jt({},Xh,{relatedTarget:0}),Im=ws(FM),IM=Jt({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),HM=ws(IM),BM=Jt({},tl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_M=ws(BM),jM=Jt({},tl,{data:0}),g0=ws(jM),WM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GM(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=UM[i])?!!e[i]:!1}function Ib(){return GM}var XM=Jt({},Xh,{key:function(i){if(i.key){var e=WM[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=ec(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?VM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ib,charCode:function(i){return i.type==="keypress"?ec(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ec(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),YM=ws(XM),$M=Jt({},op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=ws($M),KM=Jt({},Xh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ib}),qM=ws(KM),JM=Jt({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZM=ws(JM),QM=Jt({},op,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),eT=ws(QM),tT=[9,13,27,32],Hb=Xr&&"CompositionEvent"in window,ch=null;Xr&&"documentMode"in document&&(ch=document.documentMode);var iT=Xr&&"TextEvent"in window&&!ch,zx=Xr&&(!Hb||ch&&8<ch&&11>=ch),v0=" ",y0=!1;function Nx(i,e){switch(i){case"keyup":return tT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sa=!1;function sT(i,e){switch(i){case"compositionend":return Fx(e);case"keypress":return e.which!==32?null:(y0=!0,v0);case"textInput":return i=e.data,i===v0&&y0?null:i;default:return null}}function rT(i,e){if(Sa)return i==="compositionend"||!Hb&&Nx(i,e)?(i=Dx(),Qd=Nb=An=null,Sa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var nT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w0(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!nT[i.type]:e==="textarea"}function Ix(i,e,t,s){fx(s),e=yc(e,"onChange"),0<e.length&&(t=new Fb("onChange","change",null,t,s),i.push({event:t,listeners:e}))}var ph=null,Ah=null;function oT(i){$x(i,0)}function ap(i){var e=Ra(i);if(ax(e))return i}function aT(i,e){if(i==="change")return e}var Hx=!1;if(Xr){var Hm;if(Xr){var Bm="oninput"in document;if(!Bm){var x0=document.createElement("div");x0.setAttribute("oninput","return;"),Bm=typeof x0.oninput=="function"}Hm=Bm}else Hm=!1;Hx=Hm&&(!document.documentMode||9<document.documentMode)}function C0(){ph&&(ph.detachEvent("onpropertychange",Bx),Ah=ph=null)}function Bx(i){if(i.propertyName==="value"&&ap(Ah)){var e=[];Ix(e,Ah,i,Pb(i)),vx(oT,e)}}function lT(i,e,t){i==="focusin"?(C0(),ph=e,Ah=t,ph.attachEvent("onpropertychange",Bx)):i==="focusout"&&C0()}function hT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ap(Ah)}function uT(i,e){if(i==="click")return ap(e)}function dT(i,e){if(i==="input"||i==="change")return ap(e)}function cT(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var tr=typeof Object.is=="function"?Object.is:cT;function Oh(i,e){if(tr(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var t=Object.keys(i),s=Object.keys(e);if(t.length!==s.length)return!1;for(s=0;s<t.length;s++){var r=t[s];if(!hg.call(e,r)||!tr(i[r],e[r]))return!1}return!0}function E0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function k0(i,e){var t=E0(i);i=0;for(var s;t;){if(t.nodeType===3){if(s=i+t.textContent.length,i<=e&&s>=e)return{node:t,offset:e-i};i=s}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=E0(t)}}function _x(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?_x(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function jx(){for(var i=window,e=cc();e instanceof i.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)i=e.contentWindow;else break;e=cc(i.document)}return e}function Bb(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function pT(i){var e=jx(),t=i.focusedElem,s=i.selectionRange;if(e!==t&&t&&t.ownerDocument&&_x(t.ownerDocument.documentElement,t)){if(s!==null&&Bb(t)){if(e=s.start,i=s.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var r=t.textContent.length,o=Math.min(s.start,r);s=s.end===void 0?o:Math.min(s.end,r),!i.extend&&o>s&&(r=s,s=o,o=r),r=k0(t,o);var h=k0(t,s);r&&h&&(i.rangeCount!==1||i.anchorNode!==r.node||i.anchorOffset!==r.offset||i.focusNode!==h.node||i.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),i.removeAllRanges(),o>s?(i.addRange(e),i.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var fT=Xr&&"documentMode"in document&&11>=document.documentMode,Ma=null,Rg=null,fh=null,Lg=!1;function S0(i,e,t){var s=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Lg||Ma==null||Ma!==cc(s)||(s=Ma,"selectionStart"in s&&Bb(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),fh&&Oh(fh,s)||(fh=s,s=yc(Rg,"onSelect"),0<s.length&&(e=new Fb("onSelect","select",null,e,t),i.push({event:e,listeners:s}),e.target=Ma)))}function Id(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit"+i]="webkit"+e,t["Moz"+i]="moz"+e,t}var Ta={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},_m={},Wx={};Xr&&(Wx=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function lp(i){if(_m[i])return _m[i];if(!Ta[i])return i;var e=Ta[i],t;for(t in e)if(e.hasOwnProperty(t)&&t in Wx)return _m[i]=e[t];return i}var Vx=lp("animationend"),Ux=lp("animationiteration"),Gx=lp("animationstart"),Xx=lp("transitionend"),Yx=new Map,M0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(i,e){Yx.set(i,e),Uo(e,[i])}for(var jm=0;jm<M0.length;jm++){var Wm=M0[jm],mT=Wm.toLowerCase(),gT=Wm[0].toUpperCase()+Wm.slice(1);Un(mT,"on"+gT)}Un(Vx,"onAnimationEnd");Un(Ux,"onAnimationIteration");Un(Gx,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(Xx,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("cancel close invalid load scroll toggle".split(" ").concat(lh));function T0(i,e,t){var s=i.type||"unknown-event";i.currentTarget=t,mM(s,e,void 0,i),i.currentTarget=null}function $x(i,e){e=(e&4)!==0;for(var t=0;t<i.length;t++){var s=i[t],r=s.event;s=s.listeners;e:{var o=void 0;if(e)for(var h=s.length-1;0<=h;h--){var p=s[h],g=p.instance,x=p.currentTarget;if(p=p.listener,g!==o&&r.isPropagationStopped())break e;T0(r,p,x),o=g}else for(h=0;h<s.length;h++){if(p=s[h],g=p.instance,x=p.currentTarget,p=p.listener,g!==o&&r.isPropagationStopped())break e;T0(r,p,x),o=g}}}if(fc)throw i=kg,fc=!1,kg=null,i}function Ht(i,e){var t=e[zg];t===void 0&&(t=e[zg]=new Set);var s=i+"__bubble";t.has(s)||(Kx(e,i,2,!1),t.add(s))}function Vm(i,e,t){var s=0;e&&(s|=4),Kx(t,i,s,e)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function Dh(i){if(!i[Hd]){i[Hd]=!0,ix.forEach(function(t){t!=="selectionchange"&&(bT.has(t)||Vm(t,!1,i),Vm(t,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[Hd]||(e[Hd]=!0,Vm("selectionchange",!1,e))}}function Kx(i,e,t,s){switch(Ox(e)){case 1:var r=AM;break;case 4:r=OM;break;default:r=zb}t=r.bind(null,e,t,i),r=void 0,!Eg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?i.addEventListener(e,t,{capture:!0,passive:r}):i.addEventListener(e,t,!0):r!==void 0?i.addEventListener(e,t,{passive:r}):i.addEventListener(e,t,!1)}function Um(i,e,t,s,r){var o=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var p=s.stateNode.containerInfo;if(p===r||p.nodeType===8&&p.parentNode===r)break;if(h===4)for(h=s.return;h!==null;){var g=h.tag;if((g===3||g===4)&&(g=h.stateNode.containerInfo,g===r||g.nodeType===8&&g.parentNode===r))return;h=h.return}for(;p!==null;){if(h=Lo(p),h===null)return;if(g=h.tag,g===5||g===6){s=o=h;continue e}p=p.parentNode}}s=s.return}vx(function(){var x=o,k=Pb(t),R=[];e:{var D=Yx.get(i);if(D!==void 0){var W=Fb,V=i;switch(i){case"keypress":if(ec(t)===0)break e;case"keydown":case"keyup":W=YM;break;case"focusin":V="focus",W=Im;break;case"focusout":V="blur",W=Im;break;case"beforeblur":case"afterblur":W=Im;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=m0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=NM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=qM;break;case Vx:case Ux:case Gx:W=HM;break;case Xx:W=ZM;break;case"scroll":W=DM;break;case"wheel":W=eT;break;case"copy":case"cut":case"paste":W=_M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=b0}var Y=(e&4)!==0,ee=!Y&&i==="scroll",B=Y?D!==null?D+"Capture":null:D;Y=[];for(var j=x,X;j!==null;){X=j;var Z=X.stateNode;if(X.tag===5&&Z!==null&&(X=Z,B!==null&&(Z=Th(j,B),Z!=null&&Y.push(zh(j,Z,X)))),ee)break;j=j.return}0<Y.length&&(D=new W(D,V,null,t,k),R.push({event:D,listeners:Y}))}}if(!(e&7)){e:{if(D=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",D&&t!==xg&&(V=t.relatedTarget||t.fromElement)&&(Lo(V)||V[Yr]))break e;if((W||D)&&(D=k.window===k?k:(D=k.ownerDocument)?D.defaultView||D.parentWindow:window,W?(V=t.relatedTarget||t.toElement,W=x,V=V?Lo(V):null,V!==null&&(ee=Go(V),V!==ee||V.tag!==5&&V.tag!==6)&&(V=null)):(W=null,V=x),W!==V)){if(Y=m0,Z="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Y=b0,Z="onPointerLeave",B="onPointerEnter",j="pointer"),ee=W==null?D:Ra(W),X=V==null?D:Ra(V),D=new Y(Z,j+"leave",W,t,k),D.target=ee,D.relatedTarget=X,Z=null,Lo(k)===x&&(Y=new Y(B,j+"enter",V,t,k),Y.target=X,Y.relatedTarget=ee,Z=Y),ee=Z,W&&V)t:{for(Y=W,B=V,j=0,X=Y;X;X=Ca(X))j++;for(X=0,Z=B;Z;Z=Ca(Z))X++;for(;0<j-X;)Y=Ca(Y),j--;for(;0<X-j;)B=Ca(B),X--;for(;j--;){if(Y===B||B!==null&&Y===B.alternate)break t;Y=Ca(Y),B=Ca(B)}Y=null}else Y=null;W!==null&&R0(R,D,W,Y,!1),V!==null&&ee!==null&&R0(R,ee,V,Y,!0)}}e:{if(D=x?Ra(x):window,W=D.nodeName&&D.nodeName.toLowerCase(),W==="select"||W==="input"&&D.type==="file")var ce=aT;else if(w0(D))if(Hx)ce=dT;else{ce=hT;var fe=lT}else(W=D.nodeName)&&W.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(ce=uT);if(ce&&(ce=ce(i,x))){Ix(R,ce,t,k);break e}fe&&fe(i,D,x),i==="focusout"&&(fe=D._wrapperState)&&fe.controlled&&D.type==="number"&&gg(D,"number",D.value)}switch(fe=x?Ra(x):window,i){case"focusin":(w0(fe)||fe.contentEditable==="true")&&(Ma=fe,Rg=x,fh=null);break;case"focusout":fh=Rg=Ma=null;break;case"mousedown":Lg=!0;break;case"contextmenu":case"mouseup":case"dragend":Lg=!1,S0(R,t,k);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":S0(R,t,k)}var Te;if(Hb)e:{switch(i){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Sa?Nx(i,t)&&(se="onCompositionEnd"):i==="keydown"&&t.keyCode===229&&(se="onCompositionStart");se&&(zx&&t.locale!=="ko"&&(Sa||se!=="onCompositionStart"?se==="onCompositionEnd"&&Sa&&(Te=Dx()):(An=k,Nb="value"in An?An.value:An.textContent,Sa=!0)),fe=yc(x,se),0<fe.length&&(se=new g0(se,i,null,t,k),R.push({event:se,listeners:fe}),Te?se.data=Te:(Te=Fx(t),Te!==null&&(se.data=Te)))),(Te=iT?sT(i,t):rT(i,t))&&(x=yc(x,"onBeforeInput"),0<x.length&&(k=new g0("onBeforeInput","beforeinput",null,t,k),R.push({event:k,listeners:x}),k.data=Te))}$x(R,e)})}function zh(i,e,t){return{instance:i,listener:e,currentTarget:t}}function yc(i,e){for(var t=e+"Capture",s=[];i!==null;){var r=i,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Th(i,t),o!=null&&s.unshift(zh(i,o,r)),o=Th(i,e),o!=null&&s.push(zh(i,o,r))),i=i.return}return s}function Ca(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function R0(i,e,t,s,r){for(var o=e._reactName,h=[];t!==null&&t!==s;){var p=t,g=p.alternate,x=p.stateNode;if(g!==null&&g===s)break;p.tag===5&&x!==null&&(p=x,r?(g=Th(t,o),g!=null&&h.unshift(zh(t,g,p))):r||(g=Th(t,o),g!=null&&h.push(zh(t,g,p)))),t=t.return}h.length!==0&&i.push({event:e,listeners:h})}var vT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function L0(i){return(typeof i=="string"?i:""+i).replace(vT,`
`).replace(yT,"")}function Bd(i,e,t){if(e=L0(e),L0(i)!==e&&t)throw Error(Ce(425))}function wc(){}var Pg=null,Ag=null;function Og(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(i){return P0.resolve(null).then(i).catch(CT)}:Dg;function CT(i){setTimeout(function(){throw i})}function Gm(i,e){var t=e,s=0;do{var r=t.nextSibling;if(i.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(s===0){i.removeChild(r),Ph(e);return}s--}else t!=="$"&&t!=="$?"&&t!=="$!"||s++;t=r}while(t);Ph(e)}function In(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function A0(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return i;e--}else t==="/$"&&e++}i=i.previousSibling}return null}var il=Math.random().toString(36).slice(2),vr="__reactFiber$"+il,Nh="__reactProps$"+il,Yr="__reactContainer$"+il,zg="__reactEvents$"+il,ET="__reactListeners$"+il,kT="__reactHandles$"+il;function Lo(i){var e=i[vr];if(e)return e;for(var t=i.parentNode;t;){if(e=t[Yr]||t[vr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(i=A0(i);i!==null;){if(t=i[vr])return t;i=A0(i)}return e}i=t,t=i.parentNode}return null}function Yh(i){return i=i[vr]||i[Yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ra(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(Ce(33))}function hp(i){return i[Nh]||null}var Ng=[],La=-1;function Gn(i){return{current:i}}function Bt(i){0>La||(i.current=Ng[La],Ng[La]=null,La--)}function Nt(i,e){La++,Ng[La]=i.current,i.current=e}var Vn={},Wi=Gn(Vn),ns=Gn(!1),Ho=Vn;function Ya(i,e){var t=i.type.contextTypes;if(!t)return Vn;var s=i.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in t)r[o]=e[o];return s&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=r),r}function os(i){return i=i.childContextTypes,i!=null}function xc(){Bt(ns),Bt(Wi)}function O0(i,e,t){if(Wi.current!==Vn)throw Error(Ce(168));Nt(Wi,e),Nt(ns,t)}function qx(i,e,t){var s=i.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return t;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(Ce(108,lM(i)||"Unknown",r));return Jt({},t,s)}function Cc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vn,Ho=Wi.current,Nt(Wi,i),Nt(ns,ns.current),!0}function D0(i,e,t){var s=i.stateNode;if(!s)throw Error(Ce(169));t?(i=qx(i,e,Ho),s.__reactInternalMemoizedMergedChildContext=i,Bt(ns),Bt(Wi),Nt(Wi,i)):Bt(ns),Nt(ns,t)}var Wr=null,up=!1,Xm=!1;function Jx(i){Wr===null?Wr=[i]:Wr.push(i)}function ST(i){up=!0,Jx(i)}function Xn(){if(!Xm&&Wr!==null){Xm=!0;var i=0,e=kt;try{var t=Wr;for(kt=1;i<t.length;i++){var s=t[i];do s=s(!0);while(s!==null)}Wr=null,up=!1}catch(r){throw Wr!==null&&(Wr=Wr.slice(i+1)),Cx(Ab,Xn),r}finally{kt=e,Xm=!1}}return null}var Pa=[],Aa=0,Ec=null,kc=0,Rs=[],Ls=0,Bo=null,Vr=1,Ur="";function Eo(i,e){Pa[Aa++]=kc,Pa[Aa++]=Ec,Ec=i,kc=e}function Zx(i,e,t){Rs[Ls++]=Vr,Rs[Ls++]=Ur,Rs[Ls++]=Bo,Bo=i;var s=Vr;i=Ur;var r=32-Qs(s)-1;s&=~(1<<r),t+=1;var o=32-Qs(e)+r;if(30<o){var h=r-r%5;o=(s&(1<<h)-1).toString(32),s>>=h,r-=h,Vr=1<<32-Qs(e)+r|t<<r|s,Ur=o+i}else Vr=1<<o|t<<r|s,Ur=i}function _b(i){i.return!==null&&(Eo(i,1),Zx(i,1,0))}function jb(i){for(;i===Ec;)Ec=Pa[--Aa],Pa[Aa]=null,kc=Pa[--Aa],Pa[Aa]=null;for(;i===Bo;)Bo=Rs[--Ls],Rs[Ls]=null,Ur=Rs[--Ls],Rs[Ls]=null,Vr=Rs[--Ls],Rs[Ls]=null}var bs=null,gs=null,Wt=!1,Zs=null;function Qx(i,e){var t=Ps(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=i,e=i.deletions,e===null?(i.deletions=[t],i.flags|=16):e.push(t)}function z0(i,e){switch(i.tag){case 5:var t=i.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,bs=i,gs=In(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,bs=i,gs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Bo!==null?{id:Vr,overflow:Ur}:null,i.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ps(18,null,null,0),t.stateNode=e,t.return=i,i.child=t,bs=i,gs=null,!0):!1;default:return!1}}function Fg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ig(i){if(Wt){var e=gs;if(e){var t=e;if(!z0(i,e)){if(Fg(i))throw Error(Ce(418));e=In(t.nextSibling);var s=bs;e&&z0(i,e)?Qx(s,t):(i.flags=i.flags&-4097|2,Wt=!1,bs=i)}}else{if(Fg(i))throw Error(Ce(418));i.flags=i.flags&-4097|2,Wt=!1,bs=i}}}function N0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;bs=i}function _d(i){if(i!==bs)return!1;if(!Wt)return N0(i),Wt=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Og(i.type,i.memoizedProps)),e&&(e=gs)){if(Fg(i))throw eC(),Error(Ce(418));for(;e;)Qx(i,e),e=In(e.nextSibling)}if(N0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ce(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="/$"){if(e===0){gs=In(i.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}i=i.nextSibling}gs=null}}else gs=bs?In(i.stateNode.nextSibling):null;return!0}function eC(){for(var i=gs;i;)i=In(i.nextSibling)}function $a(){gs=bs=null,Wt=!1}function Wb(i){Zs===null?Zs=[i]:Zs.push(i)}var MT=Jr.ReactCurrentBatchConfig;function eh(i,e,t){if(i=t.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ce(309));var s=t.stateNode}if(!s)throw Error(Ce(147,i));var r=s,o=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(h){var p=r.refs;h===null?delete p[o]:p[o]=h},e._stringRef=o,e)}if(typeof i!="string")throw Error(Ce(284));if(!t._owner)throw Error(Ce(290,i))}return i}function jd(i,e){throw i=Object.prototype.toString.call(e),Error(Ce(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function F0(i){var e=i._init;return e(i._payload)}function tC(i){function e(B,j){if(i){var X=B.deletions;X===null?(B.deletions=[j],B.flags|=16):X.push(j)}}function t(B,j){if(!i)return null;for(;j!==null;)e(B,j),j=j.sibling;return null}function s(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function r(B,j){return B=jn(B,j),B.index=0,B.sibling=null,B}function o(B,j,X){return B.index=X,i?(X=B.alternate,X!==null?(X=X.index,X<j?(B.flags|=2,j):X):(B.flags|=2,j)):(B.flags|=1048576,j)}function h(B){return i&&B.alternate===null&&(B.flags|=2),B}function p(B,j,X,Z){return j===null||j.tag!==6?(j=Qm(X,B.mode,Z),j.return=B,j):(j=r(j,X),j.return=B,j)}function g(B,j,X,Z){var ce=X.type;return ce===ka?k(B,j,X.props.children,Z,X.key):j!==null&&(j.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===wn&&F0(ce)===j.type)?(Z=r(j,X.props),Z.ref=eh(B,j,X),Z.return=B,Z):(Z=ac(X.type,X.key,X.props,null,B.mode,Z),Z.ref=eh(B,j,X),Z.return=B,Z)}function x(B,j,X,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==X.containerInfo||j.stateNode.implementation!==X.implementation?(j=eg(X,B.mode,Z),j.return=B,j):(j=r(j,X.children||[]),j.return=B,j)}function k(B,j,X,Z,ce){return j===null||j.tag!==7?(j=zo(X,B.mode,Z,ce),j.return=B,j):(j=r(j,X),j.return=B,j)}function R(B,j,X){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Qm(""+j,B.mode,X),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Pd:return X=ac(j.type,j.key,j.props,null,B.mode,X),X.ref=eh(B,null,j),X.return=B,X;case Ea:return j=eg(j,B.mode,X),j.return=B,j;case wn:var Z=j._init;return R(B,Z(j._payload),X)}if(oh(j)||Kl(j))return j=zo(j,B.mode,X,null),j.return=B,j;jd(B,j)}return null}function D(B,j,X,Z){var ce=j!==null?j.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return ce!==null?null:p(B,j,""+X,Z);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Pd:return X.key===ce?g(B,j,X,Z):null;case Ea:return X.key===ce?x(B,j,X,Z):null;case wn:return ce=X._init,D(B,j,ce(X._payload),Z)}if(oh(X)||Kl(X))return ce!==null?null:k(B,j,X,Z,null);jd(B,X)}return null}function W(B,j,X,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return B=B.get(X)||null,p(j,B,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Pd:return B=B.get(Z.key===null?X:Z.key)||null,g(j,B,Z,ce);case Ea:return B=B.get(Z.key===null?X:Z.key)||null,x(j,B,Z,ce);case wn:var fe=Z._init;return W(B,j,X,fe(Z._payload),ce)}if(oh(Z)||Kl(Z))return B=B.get(X)||null,k(j,B,Z,ce,null);jd(j,Z)}return null}function V(B,j,X,Z){for(var ce=null,fe=null,Te=j,se=j=0,nt=null;Te!==null&&se<X.length;se++){Te.index>se?(nt=Te,Te=null):nt=Te.sibling;var _e=D(B,Te,X[se],Z);if(_e===null){Te===null&&(Te=nt);break}i&&Te&&_e.alternate===null&&e(B,Te),j=o(_e,j,se),fe===null?ce=_e:fe.sibling=_e,fe=_e,Te=nt}if(se===X.length)return t(B,Te),Wt&&Eo(B,se),ce;if(Te===null){for(;se<X.length;se++)Te=R(B,X[se],Z),Te!==null&&(j=o(Te,j,se),fe===null?ce=Te:fe.sibling=Te,fe=Te);return Wt&&Eo(B,se),ce}for(Te=s(B,Te);se<X.length;se++)nt=W(Te,B,se,X[se],Z),nt!==null&&(i&&nt.alternate!==null&&Te.delete(nt.key===null?se:nt.key),j=o(nt,j,se),fe===null?ce=nt:fe.sibling=nt,fe=nt);return i&&Te.forEach(function(mt){return e(B,mt)}),Wt&&Eo(B,se),ce}function Y(B,j,X,Z){var ce=Kl(X);if(typeof ce!="function")throw Error(Ce(150));if(X=ce.call(X),X==null)throw Error(Ce(151));for(var fe=ce=null,Te=j,se=j=0,nt=null,_e=X.next();Te!==null&&!_e.done;se++,_e=X.next()){Te.index>se?(nt=Te,Te=null):nt=Te.sibling;var mt=D(B,Te,_e.value,Z);if(mt===null){Te===null&&(Te=nt);break}i&&Te&&mt.alternate===null&&e(B,Te),j=o(mt,j,se),fe===null?ce=mt:fe.sibling=mt,fe=mt,Te=nt}if(_e.done)return t(B,Te),Wt&&Eo(B,se),ce;if(Te===null){for(;!_e.done;se++,_e=X.next())_e=R(B,_e.value,Z),_e!==null&&(j=o(_e,j,se),fe===null?ce=_e:fe.sibling=_e,fe=_e);return Wt&&Eo(B,se),ce}for(Te=s(B,Te);!_e.done;se++,_e=X.next())_e=W(Te,B,se,_e.value,Z),_e!==null&&(i&&_e.alternate!==null&&Te.delete(_e.key===null?se:_e.key),j=o(_e,j,se),fe===null?ce=_e:fe.sibling=_e,fe=_e);return i&&Te.forEach(function(Ye){return e(B,Ye)}),Wt&&Eo(B,se),ce}function ee(B,j,X,Z){if(typeof X=="object"&&X!==null&&X.type===ka&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case Pd:e:{for(var ce=X.key,fe=j;fe!==null;){if(fe.key===ce){if(ce=X.type,ce===ka){if(fe.tag===7){t(B,fe.sibling),j=r(fe,X.props.children),j.return=B,B=j;break e}}else if(fe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===wn&&F0(ce)===fe.type){t(B,fe.sibling),j=r(fe,X.props),j.ref=eh(B,fe,X),j.return=B,B=j;break e}t(B,fe);break}else e(B,fe);fe=fe.sibling}X.type===ka?(j=zo(X.props.children,B.mode,Z,X.key),j.return=B,B=j):(Z=ac(X.type,X.key,X.props,null,B.mode,Z),Z.ref=eh(B,j,X),Z.return=B,B=Z)}return h(B);case Ea:e:{for(fe=X.key;j!==null;){if(j.key===fe)if(j.tag===4&&j.stateNode.containerInfo===X.containerInfo&&j.stateNode.implementation===X.implementation){t(B,j.sibling),j=r(j,X.children||[]),j.return=B,B=j;break e}else{t(B,j);break}else e(B,j);j=j.sibling}j=eg(X,B.mode,Z),j.return=B,B=j}return h(B);case wn:return fe=X._init,ee(B,j,fe(X._payload),Z)}if(oh(X))return V(B,j,X,Z);if(Kl(X))return Y(B,j,X,Z);jd(B,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,j!==null&&j.tag===6?(t(B,j.sibling),j=r(j,X),j.return=B,B=j):(t(B,j),j=Qm(X,B.mode,Z),j.return=B,B=j),h(B)):t(B,j)}return ee}var Ka=tC(!0),iC=tC(!1),Sc=Gn(null),Mc=null,Oa=null,Vb=null;function Ub(){Vb=Oa=Mc=null}function Gb(i){var e=Sc.current;Bt(Sc),i._currentValue=e}function Hg(i,e,t){for(;i!==null;){var s=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),i===t)break;i=i.return}}function Ua(i,e){Mc=i,Vb=Oa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(rs=!0),i.firstContext=null)}function Os(i){var e=i._currentValue;if(Vb!==i)if(i={context:i,memoizedValue:e,next:null},Oa===null){if(Mc===null)throw Error(Ce(308));Oa=i,Mc.dependencies={lanes:0,firstContext:i}}else Oa=Oa.next=i;return e}var Po=null;function Xb(i){Po===null?Po=[i]:Po.push(i)}function sC(i,e,t,s){var r=e.interleaved;return r===null?(t.next=t,Xb(e)):(t.next=r.next,r.next=t),e.interleaved=t,$r(i,s)}function $r(i,e){i.lanes|=e;var t=i.alternate;for(t!==null&&(t.lanes|=e),t=i,i=i.return;i!==null;)i.childLanes|=e,t=i.alternate,t!==null&&(t.childLanes|=e),t=i,i=i.return;return t.tag===3?t.stateNode:null}var xn=!1;function Yb(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rC(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Gr(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(i,e,t){var s=i.updateQueue;if(s===null)return null;if(s=s.shared,yt&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,$r(i,t)}return r=s.interleaved,r===null?(e.next=e,Xb(s)):(e.next=r.next,r.next=e),s.interleaved=e,$r(i,t)}function tc(i,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var s=e.lanes;s&=i.pendingLanes,t|=s,e.lanes=t,Ob(i,t)}}function I0(i,e){var t=i.updateQueue,s=i.alternate;if(s!==null&&(s=s.updateQueue,t===s)){var r=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var h={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?r=o=h:o=o.next=h,t=t.next}while(t!==null);o===null?r=o=e:o=o.next=e}else r=o=e;t={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:s.shared,effects:s.effects},i.updateQueue=t;return}i=t.lastBaseUpdate,i===null?t.firstBaseUpdate=e:i.next=e,t.lastBaseUpdate=e}function Tc(i,e,t,s){var r=i.updateQueue;xn=!1;var o=r.firstBaseUpdate,h=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var g=p,x=g.next;g.next=null,h===null?o=x:h.next=x,h=g;var k=i.alternate;k!==null&&(k=k.updateQueue,p=k.lastBaseUpdate,p!==h&&(p===null?k.firstBaseUpdate=x:p.next=x,k.lastBaseUpdate=g))}if(o!==null){var R=r.baseState;h=0,k=x=g=null,p=o;do{var D=p.lane,W=p.eventTime;if((s&D)===D){k!==null&&(k=k.next={eventTime:W,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var V=i,Y=p;switch(D=e,W=t,Y.tag){case 1:if(V=Y.payload,typeof V=="function"){R=V.call(W,R,D);break e}R=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=Y.payload,D=typeof V=="function"?V.call(W,R,D):V,D==null)break e;R=Jt({},R,D);break e;case 2:xn=!0}}p.callback!==null&&p.lane!==0&&(i.flags|=64,D=r.effects,D===null?r.effects=[p]:D.push(p))}else W={eventTime:W,lane:D,tag:p.tag,payload:p.payload,callback:p.callback,next:null},k===null?(x=k=W,g=R):k=k.next=W,h|=D;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;D=p,p=D.next,D.next=null,r.lastBaseUpdate=D,r.shared.pending=null}}while(!0);if(k===null&&(g=R),r.baseState=g,r.firstBaseUpdate=x,r.lastBaseUpdate=k,e=r.shared.interleaved,e!==null){r=e;do h|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);jo|=h,i.lanes=h,i.memoizedState=R}}function H0(i,e,t){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var s=i[e],r=s.callback;if(r!==null){if(s.callback=null,s=t,typeof r!="function")throw Error(Ce(191,r));r.call(s)}}}var $h={},xr=Gn($h),Fh=Gn($h),Ih=Gn($h);function Ao(i){if(i===$h)throw Error(Ce(174));return i}function $b(i,e){switch(Nt(Ih,e),Nt(Fh,i),Nt(xr,$h),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vg(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=vg(e,i)}Bt(xr),Nt(xr,e)}function qa(){Bt(xr),Bt(Fh),Bt(Ih)}function nC(i){Ao(Ih.current);var e=Ao(xr.current),t=vg(e,i.type);e!==t&&(Nt(Fh,i),Nt(xr,t))}function Kb(i){Fh.current===i&&(Bt(xr),Bt(Fh))}var Kt=Gn(0);function Rc(i){for(var e=i;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ym=[];function qb(){for(var i=0;i<Ym.length;i++)Ym[i]._workInProgressVersionPrimary=null;Ym.length=0}var ic=Jr.ReactCurrentDispatcher,$m=Jr.ReactCurrentBatchConfig,_o=0,qt=null,mi=null,wi=null,Lc=!1,mh=!1,Hh=0,TT=0;function Fi(){throw Error(Ce(321))}function Jb(i,e){if(e===null)return!1;for(var t=0;t<e.length&&t<i.length;t++)if(!tr(i[t],e[t]))return!1;return!0}function Zb(i,e,t,s,r,o){if(_o=o,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ic.current=i===null||i.memoizedState===null?AT:OT,i=t(s,r),mh){o=0;do{if(mh=!1,Hh=0,25<=o)throw Error(Ce(301));o+=1,wi=mi=null,e.updateQueue=null,ic.current=DT,i=t(s,r)}while(mh)}if(ic.current=Pc,e=mi!==null&&mi.next!==null,_o=0,wi=mi=qt=null,Lc=!1,e)throw Error(Ce(300));return i}function Qb(){var i=Hh!==0;return Hh=0,i}function br(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wi===null?qt.memoizedState=wi=i:wi=wi.next=i,wi}function Ds(){if(mi===null){var i=qt.alternate;i=i!==null?i.memoizedState:null}else i=mi.next;var e=wi===null?qt.memoizedState:wi.next;if(e!==null)wi=e,mi=i;else{if(i===null)throw Error(Ce(310));mi=i,i={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},wi===null?qt.memoizedState=wi=i:wi=wi.next=i}return wi}function Bh(i,e){return typeof e=="function"?e(i):e}function Km(i){var e=Ds(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=i;var s=mi,r=s.baseQueue,o=t.pending;if(o!==null){if(r!==null){var h=r.next;r.next=o.next,o.next=h}s.baseQueue=r=o,t.pending=null}if(r!==null){o=r.next,s=s.baseState;var p=h=null,g=null,x=o;do{var k=x.lane;if((_o&k)===k)g!==null&&(g=g.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),s=x.hasEagerState?x.eagerState:i(s,x.action);else{var R={lane:k,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};g===null?(p=g=R,h=s):g=g.next=R,qt.lanes|=k,jo|=k}x=x.next}while(x!==null&&x!==o);g===null?h=s:g.next=p,tr(s,e.memoizedState)||(rs=!0),e.memoizedState=s,e.baseState=h,e.baseQueue=g,t.lastRenderedState=s}if(i=t.interleaved,i!==null){r=i;do o=r.lane,qt.lanes|=o,jo|=o,r=r.next;while(r!==i)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function qm(i){var e=Ds(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=i;var s=t.dispatch,r=t.pending,o=e.memoizedState;if(r!==null){t.pending=null;var h=r=r.next;do o=i(o,h.action),h=h.next;while(h!==r);tr(o,e.memoizedState)||(rs=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,s]}function oC(){}function aC(i,e){var t=qt,s=Ds(),r=e(),o=!tr(s.memoizedState,r);if(o&&(s.memoizedState=r,rs=!0),s=s.queue,ev(uC.bind(null,t,s,i),[i]),s.getSnapshot!==e||o||wi!==null&&wi.memoizedState.tag&1){if(t.flags|=2048,_h(9,hC.bind(null,t,s,r,e),void 0,null),xi===null)throw Error(Ce(349));_o&30||lC(t,e,r)}return r}function lC(i,e,t){i.flags|=16384,i={getSnapshot:e,value:t},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[i]):(t=e.stores,t===null?e.stores=[i]:t.push(i))}function hC(i,e,t,s){e.value=t,e.getSnapshot=s,dC(e)&&cC(i)}function uC(i,e,t){return t(function(){dC(e)&&cC(i)})}function dC(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!tr(i,t)}catch{return!0}}function cC(i){var e=$r(i,1);e!==null&&er(e,i,1,-1)}function B0(i){var e=br();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bh,lastRenderedState:i},e.queue=i,i=i.dispatch=PT.bind(null,qt,i),[e.memoizedState,i]}function _h(i,e,t,s){return i={tag:i,create:e,destroy:t,deps:s,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=i.next=i):(t=e.lastEffect,t===null?e.lastEffect=i.next=i:(s=t.next,t.next=i,i.next=s,e.lastEffect=i)),i}function pC(){return Ds().memoizedState}function sc(i,e,t,s){var r=br();qt.flags|=i,r.memoizedState=_h(1|e,t,void 0,s===void 0?null:s)}function dp(i,e,t,s){var r=Ds();s=s===void 0?null:s;var o=void 0;if(mi!==null){var h=mi.memoizedState;if(o=h.destroy,s!==null&&Jb(s,h.deps)){r.memoizedState=_h(e,t,o,s);return}}qt.flags|=i,r.memoizedState=_h(1|e,t,o,s)}function _0(i,e){return sc(8390656,8,i,e)}function ev(i,e){return dp(2048,8,i,e)}function fC(i,e){return dp(4,2,i,e)}function mC(i,e){return dp(4,4,i,e)}function gC(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function bC(i,e,t){return t=t!=null?t.concat([i]):null,dp(4,4,gC.bind(null,e,i),t)}function tv(){}function vC(i,e){var t=Ds();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Jb(e,s[1])?s[0]:(t.memoizedState=[i,e],i)}function yC(i,e){var t=Ds();e=e===void 0?null:e;var s=t.memoizedState;return s!==null&&e!==null&&Jb(e,s[1])?s[0]:(i=i(),t.memoizedState=[i,e],i)}function wC(i,e,t){return _o&21?(tr(t,e)||(t=Sx(),qt.lanes|=t,jo|=t,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,rs=!0),i.memoizedState=t)}function RT(i,e){var t=kt;kt=t!==0&&4>t?t:4,i(!0);var s=$m.transition;$m.transition={};try{i(!1),e()}finally{kt=t,$m.transition=s}}function xC(){return Ds().memoizedState}function LT(i,e,t){var s=_n(i);if(t={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null},CC(i))EC(e,t);else if(t=sC(i,e,t,s),t!==null){var r=Ki();er(t,i,s,r),kC(t,e,s)}}function PT(i,e,t){var s=_n(i),r={lane:s,action:t,hasEagerState:!1,eagerState:null,next:null};if(CC(i))EC(e,r);else{var o=i.alternate;if(i.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var h=e.lastRenderedState,p=o(h,t);if(r.hasEagerState=!0,r.eagerState=p,tr(p,h)){var g=e.interleaved;g===null?(r.next=r,Xb(e)):(r.next=g.next,g.next=r),e.interleaved=r;return}}catch{}finally{}t=sC(i,e,r,s),t!==null&&(r=Ki(),er(t,i,s,r),kC(t,e,s))}}function CC(i){var e=i.alternate;return i===qt||e!==null&&e===qt}function EC(i,e){mh=Lc=!0;var t=i.pending;t===null?e.next=e:(e.next=t.next,t.next=e),i.pending=e}function kC(i,e,t){if(t&4194240){var s=e.lanes;s&=i.pendingLanes,t|=s,e.lanes=t,Ob(i,t)}}var Pc={readContext:Os,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useInsertionEffect:Fi,useLayoutEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useMutableSource:Fi,useSyncExternalStore:Fi,useId:Fi,unstable_isNewReconciler:!1},AT={readContext:Os,useCallback:function(i,e){return br().memoizedState=[i,e===void 0?null:e],i},useContext:Os,useEffect:_0,useImperativeHandle:function(i,e,t){return t=t!=null?t.concat([i]):null,sc(4194308,4,gC.bind(null,e,i),t)},useLayoutEffect:function(i,e){return sc(4194308,4,i,e)},useInsertionEffect:function(i,e){return sc(4,2,i,e)},useMemo:function(i,e){var t=br();return e=e===void 0?null:e,i=i(),t.memoizedState=[i,e],i},useReducer:function(i,e,t){var s=br();return e=t!==void 0?t(e):e,s.memoizedState=s.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},s.queue=i,i=i.dispatch=LT.bind(null,qt,i),[s.memoizedState,i]},useRef:function(i){var e=br();return i={current:i},e.memoizedState=i},useState:B0,useDebugValue:tv,useDeferredValue:function(i){return br().memoizedState=i},useTransition:function(){var i=B0(!1),e=i[0];return i=RT.bind(null,i[1]),br().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,t){var s=qt,r=br();if(Wt){if(t===void 0)throw Error(Ce(407));t=t()}else{if(t=e(),xi===null)throw Error(Ce(349));_o&30||lC(s,e,t)}r.memoizedState=t;var o={value:t,getSnapshot:e};return r.queue=o,_0(uC.bind(null,s,o,i),[i]),s.flags|=2048,_h(9,hC.bind(null,s,o,t,e),void 0,null),t},useId:function(){var i=br(),e=xi.identifierPrefix;if(Wt){var t=Ur,s=Vr;t=(s&~(1<<32-Qs(s)-1)).toString(32)+t,e=":"+e+"R"+t,t=Hh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=TT++,e=":"+e+"r"+t.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},OT={readContext:Os,useCallback:vC,useContext:Os,useEffect:ev,useImperativeHandle:bC,useInsertionEffect:fC,useLayoutEffect:mC,useMemo:yC,useReducer:Km,useRef:pC,useState:function(){return Km(Bh)},useDebugValue:tv,useDeferredValue:function(i){var e=Ds();return wC(e,mi.memoizedState,i)},useTransition:function(){var i=Km(Bh)[0],e=Ds().memoizedState;return[i,e]},useMutableSource:oC,useSyncExternalStore:aC,useId:xC,unstable_isNewReconciler:!1},DT={readContext:Os,useCallback:vC,useContext:Os,useEffect:ev,useImperativeHandle:bC,useInsertionEffect:fC,useLayoutEffect:mC,useMemo:yC,useReducer:qm,useRef:pC,useState:function(){return qm(Bh)},useDebugValue:tv,useDeferredValue:function(i){var e=Ds();return mi===null?e.memoizedState=i:wC(e,mi.memoizedState,i)},useTransition:function(){var i=qm(Bh)[0],e=Ds().memoizedState;return[i,e]},useMutableSource:oC,useSyncExternalStore:aC,useId:xC,unstable_isNewReconciler:!1};function qs(i,e){if(i&&i.defaultProps){e=Jt({},e),i=i.defaultProps;for(var t in i)e[t]===void 0&&(e[t]=i[t]);return e}return e}function Bg(i,e,t,s){e=i.memoizedState,t=t(s,e),t=t==null?e:Jt({},e,t),i.memoizedState=t,i.lanes===0&&(i.updateQueue.baseState=t)}var cp={isMounted:function(i){return(i=i._reactInternals)?Go(i)===i:!1},enqueueSetState:function(i,e,t){i=i._reactInternals;var s=Ki(),r=_n(i),o=Gr(s,r);o.payload=e,t!=null&&(o.callback=t),e=Hn(i,o,r),e!==null&&(er(e,i,r,s),tc(e,i,r))},enqueueReplaceState:function(i,e,t){i=i._reactInternals;var s=Ki(),r=_n(i),o=Gr(s,r);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Hn(i,o,r),e!==null&&(er(e,i,r,s),tc(e,i,r))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var t=Ki(),s=_n(i),r=Gr(t,s);r.tag=2,e!=null&&(r.callback=e),e=Hn(i,r,s),e!==null&&(er(e,i,s,t),tc(e,i,s))}};function j0(i,e,t,s,r,o,h){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(s,o,h):e.prototype&&e.prototype.isPureReactComponent?!Oh(t,s)||!Oh(r,o):!0}function SC(i,e,t){var s=!1,r=Vn,o=e.contextType;return typeof o=="object"&&o!==null?o=Os(o):(r=os(e)?Ho:Wi.current,s=e.contextTypes,o=(s=s!=null)?Ya(i,r):Vn),e=new e(t,o),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cp,i.stateNode=e,e._reactInternals=i,s&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=o),e}function W0(i,e,t,s){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,s),e.state!==i&&cp.enqueueReplaceState(e,e.state,null)}function _g(i,e,t,s){var r=i.stateNode;r.props=t,r.state=i.memoizedState,r.refs={},Yb(i);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Os(o):(o=os(e)?Ho:Wi.current,r.context=Ya(i,o)),r.state=i.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bg(i,e,o,t),r.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&cp.enqueueReplaceState(r,r.state,null),Tc(i,t,r,s),r.state=i.memoizedState),typeof r.componentDidMount=="function"&&(i.flags|=4194308)}function Ja(i,e){try{var t="",s=e;do t+=aM(s),s=s.return;while(s);var r=t}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:i,source:e,stack:r,digest:null}}function Jm(i,e,t){return{value:i,source:null,stack:t??null,digest:e??null}}function jg(i,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function MC(i,e,t){t=Gr(-1,t),t.tag=3,t.payload={element:null};var s=e.value;return t.callback=function(){Oc||(Oc=!0,Jg=s),jg(i,e)},t}function TC(i,e,t){t=Gr(-1,t),t.tag=3;var s=i.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;t.payload=function(){return s(r)},t.callback=function(){jg(i,e)}}var o=i.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){jg(i,e),typeof s!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),t}function V0(i,e,t){var s=i.pingCache;if(s===null){s=i.pingCache=new zT;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(t)||(r.add(t),i=$T.bind(null,i,e,t),e.then(i,i))}function U0(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function G0(i,e,t,s,r){return i.mode&1?(i.flags|=65536,i.lanes=r,i):(i===e?i.flags|=65536:(i.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Gr(-1,1),e.tag=2,Hn(t,e,1))),t.lanes|=1),i)}var NT=Jr.ReactCurrentOwner,rs=!1;function $i(i,e,t,s){e.child=i===null?iC(e,null,t,s):Ka(e,i.child,t,s)}function X0(i,e,t,s,r){t=t.render;var o=e.ref;return Ua(e,r),s=Zb(i,e,t,s,o,r),t=Qb(),i!==null&&!rs?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Kr(i,e,r)):(Wt&&t&&_b(e),e.flags|=1,$i(i,e,s,r),e.child)}function Y0(i,e,t,s,r){if(i===null){var o=t.type;return typeof o=="function"&&!hv(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,RC(i,e,o,s,r)):(i=ac(t.type,null,s,e,e.mode,r),i.ref=e.ref,i.return=e,e.child=i)}if(o=i.child,!(i.lanes&r)){var h=o.memoizedProps;if(t=t.compare,t=t!==null?t:Oh,t(h,s)&&i.ref===e.ref)return Kr(i,e,r)}return e.flags|=1,i=jn(o,s),i.ref=e.ref,i.return=e,e.child=i}function RC(i,e,t,s,r){if(i!==null){var o=i.memoizedProps;if(Oh(o,s)&&i.ref===e.ref)if(rs=!1,e.pendingProps=s=o,(i.lanes&r)!==0)i.flags&131072&&(rs=!0);else return e.lanes=i.lanes,Kr(i,e,r)}return Wg(i,e,t,s,r)}function LC(i,e,t){var s=e.pendingProps,r=s.children,o=i!==null?i.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(za,ms),ms|=t;else{if(!(t&1073741824))return i=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,Nt(za,ms),ms|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:t,Nt(za,ms),ms|=s}else o!==null?(s=o.baseLanes|t,e.memoizedState=null):s=t,Nt(za,ms),ms|=s;return $i(i,e,r,t),e.child}function PC(i,e){var t=e.ref;(i===null&&t!==null||i!==null&&i.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Wg(i,e,t,s,r){var o=os(t)?Ho:Wi.current;return o=Ya(e,o),Ua(e,r),t=Zb(i,e,t,s,o,r),s=Qb(),i!==null&&!rs?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~r,Kr(i,e,r)):(Wt&&s&&_b(e),e.flags|=1,$i(i,e,t,r),e.child)}function $0(i,e,t,s,r){if(os(t)){var o=!0;Cc(e)}else o=!1;if(Ua(e,r),e.stateNode===null)rc(i,e),SC(e,t,s),_g(e,t,s,r),s=!0;else if(i===null){var h=e.stateNode,p=e.memoizedProps;h.props=p;var g=h.context,x=t.contextType;typeof x=="object"&&x!==null?x=Os(x):(x=os(t)?Ho:Wi.current,x=Ya(e,x));var k=t.getDerivedStateFromProps,R=typeof k=="function"||typeof h.getSnapshotBeforeUpdate=="function";R||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==s||g!==x)&&W0(e,h,s,x),xn=!1;var D=e.memoizedState;h.state=D,Tc(e,s,h,r),g=e.memoizedState,p!==s||D!==g||ns.current||xn?(typeof k=="function"&&(Bg(e,t,k,s),g=e.memoizedState),(p=xn||j0(e,t,p,s,D,g,x))?(R||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=g),h.props=s,h.state=g,h.context=x,s=p):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{h=e.stateNode,rC(i,e),p=e.memoizedProps,x=e.type===e.elementType?p:qs(e.type,p),h.props=x,R=e.pendingProps,D=h.context,g=t.contextType,typeof g=="object"&&g!==null?g=Os(g):(g=os(t)?Ho:Wi.current,g=Ya(e,g));var W=t.getDerivedStateFromProps;(k=typeof W=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==R||D!==g)&&W0(e,h,s,g),xn=!1,D=e.memoizedState,h.state=D,Tc(e,s,h,r);var V=e.memoizedState;p!==R||D!==V||ns.current||xn?(typeof W=="function"&&(Bg(e,t,W,s),V=e.memoizedState),(x=xn||j0(e,t,x,s,D,V,g)||!1)?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,V,g),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,V,g)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=V),h.props=s,h.state=V,h.context=g,s=x):(typeof h.componentDidUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===i.memoizedProps&&D===i.memoizedState||(e.flags|=1024),s=!1)}return Vg(i,e,t,s,o,r)}function Vg(i,e,t,s,r,o){PC(i,e);var h=(e.flags&128)!==0;if(!s&&!h)return r&&D0(e,t,!1),Kr(i,e,o);s=e.stateNode,NT.current=e;var p=h&&typeof t.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,i!==null&&h?(e.child=Ka(e,i.child,null,o),e.child=Ka(e,null,p,o)):$i(i,e,p,o),e.memoizedState=s.state,r&&D0(e,t,!0),e.child}function AC(i){var e=i.stateNode;e.pendingContext?O0(i,e.pendingContext,e.pendingContext!==e.context):e.context&&O0(i,e.context,!1),$b(i,e.containerInfo)}function K0(i,e,t,s,r){return $a(),Wb(r),e.flags|=256,$i(i,e,t,s),e.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function Gg(i){return{baseLanes:i,cachePool:null,transitions:null}}function OC(i,e,t){var s=e.pendingProps,r=Kt.current,o=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=i!==null&&i.memoizedState===null?!1:(r&2)!==0),p?(o=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(r|=1),Nt(Kt,r&1),i===null)return Ig(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=s.children,i=s.fallback,o?(s=e.mode,o=e.child,h={mode:"hidden",children:h},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=h):o=mp(h,s,0,null),i=zo(i,s,t,null),o.return=e,i.return=e,o.sibling=i,e.child=o,e.child.memoizedState=Gg(t),e.memoizedState=Ug,i):iv(e,h));if(r=i.memoizedState,r!==null&&(p=r.dehydrated,p!==null))return FT(i,e,h,s,p,r,t);if(o){o=s.fallback,h=e.mode,r=i.child,p=r.sibling;var g={mode:"hidden",children:s.children};return!(h&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=g,e.deletions=null):(s=jn(r,g),s.subtreeFlags=r.subtreeFlags&14680064),p!==null?o=jn(p,o):(o=zo(o,h,t,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,s=o,o=e.child,h=i.child.memoizedState,h=h===null?Gg(t):{baseLanes:h.baseLanes|t,cachePool:null,transitions:h.transitions},o.memoizedState=h,o.childLanes=i.childLanes&~t,e.memoizedState=Ug,s}return o=i.child,i=o.sibling,s=jn(o,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=t),s.return=e,s.sibling=null,i!==null&&(t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)),e.child=s,e.memoizedState=null,s}function iv(i,e){return e=mp({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function Wd(i,e,t,s){return s!==null&&Wb(s),Ka(e,i.child,null,t),i=iv(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function FT(i,e,t,s,r,o,h){if(t)return e.flags&256?(e.flags&=-257,s=Jm(Error(Ce(422))),Wd(i,e,h,s)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(o=s.fallback,r=e.mode,s=mp({mode:"visible",children:s.children},r,0,null),o=zo(o,r,h,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,e.mode&1&&Ka(e,i.child,null,h),e.child.memoizedState=Gg(h),e.memoizedState=Ug,o);if(!(e.mode&1))return Wd(i,e,h,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var p=s.dgst;return s=p,o=Error(Ce(419)),s=Jm(o,s,void 0),Wd(i,e,h,s)}if(p=(h&i.childLanes)!==0,rs||p){if(s=xi,s!==null){switch(h&-h){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|h)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,$r(i,r),er(s,i,r,-1))}return lv(),s=Jm(Error(Ce(421))),Wd(i,e,h,s)}return r.data==="$?"?(e.flags|=128,e.child=i.child,e=KT.bind(null,i),r._reactRetry=e,null):(i=o.treeContext,gs=In(r.nextSibling),bs=e,Wt=!0,Zs=null,i!==null&&(Rs[Ls++]=Vr,Rs[Ls++]=Ur,Rs[Ls++]=Bo,Vr=i.id,Ur=i.overflow,Bo=e),e=iv(e,s.children),e.flags|=4096,e)}function q0(i,e,t){i.lanes|=e;var s=i.alternate;s!==null&&(s.lanes|=e),Hg(i.return,e,t)}function Zm(i,e,t,s,r){var o=i.memoizedState;o===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:t,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=t,o.tailMode=r)}function DC(i,e,t){var s=e.pendingProps,r=s.revealOrder,o=s.tail;if($i(i,e,s.children,t),s=Kt.current,s&2)s=s&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&q0(i,t,e);else if(i.tag===19)q0(i,t,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}s&=1}if(Nt(Kt,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)i=t.alternate,i!==null&&Rc(i)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Zm(e,!1,r,t,o);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(i=r.alternate,i!==null&&Rc(i)===null){e.child=r;break}i=r.sibling,r.sibling=t,t=r,r=i}Zm(e,!0,t,null,o);break;case"together":Zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rc(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Kr(i,e,t){if(i!==null&&(e.dependencies=i.dependencies),jo|=e.lanes,!(t&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(Ce(153));if(e.child!==null){for(i=e.child,t=jn(i,i.pendingProps),e.child=t,t.return=e;i.sibling!==null;)i=i.sibling,t=t.sibling=jn(i,i.pendingProps),t.return=e;t.sibling=null}return e.child}function IT(i,e,t){switch(e.tag){case 3:AC(e),$a();break;case 5:nC(e);break;case 1:os(e.type)&&Cc(e);break;case 4:$b(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Nt(Sc,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Nt(Kt,Kt.current&1),e.flags|=128,null):t&e.child.childLanes?OC(i,e,t):(Nt(Kt,Kt.current&1),i=Kr(i,e,t),i!==null?i.sibling:null);Nt(Kt,Kt.current&1);break;case 19:if(s=(t&e.childLanes)!==0,i.flags&128){if(s)return DC(i,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Nt(Kt,Kt.current),s)break;return null;case 22:case 23:return e.lanes=0,LC(i,e,t)}return Kr(i,e,t)}var zC,Xg,NC,FC;zC=function(i,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)i.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Xg=function(){};NC=function(i,e,t,s){var r=i.memoizedProps;if(r!==s){i=e.stateNode,Ao(xr.current);var o=null;switch(t){case"input":r=fg(i,r),s=fg(i,s),o=[];break;case"select":r=Jt({},r,{value:void 0}),s=Jt({},s,{value:void 0}),o=[];break;case"textarea":r=bg(i,r),s=bg(i,s),o=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(i.onclick=wc)}yg(t,s);var h;t=null;for(x in r)if(!s.hasOwnProperty(x)&&r.hasOwnProperty(x)&&r[x]!=null)if(x==="style"){var p=r[x];for(h in p)p.hasOwnProperty(h)&&(t||(t={}),t[h]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Sh.hasOwnProperty(x)?o||(o=[]):(o=o||[]).push(x,null));for(x in s){var g=s[x];if(p=r!=null?r[x]:void 0,s.hasOwnProperty(x)&&g!==p&&(g!=null||p!=null))if(x==="style")if(p){for(h in p)!p.hasOwnProperty(h)||g&&g.hasOwnProperty(h)||(t||(t={}),t[h]="");for(h in g)g.hasOwnProperty(h)&&p[h]!==g[h]&&(t||(t={}),t[h]=g[h])}else t||(o||(o=[]),o.push(x,t)),t=g;else x==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,p=p?p.__html:void 0,g!=null&&p!==g&&(o=o||[]).push(x,g)):x==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(x,""+g):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Sh.hasOwnProperty(x)?(g!=null&&x==="onScroll"&&Ht("scroll",i),o||p===g||(o=[])):(o=o||[]).push(x,g))}t&&(o=o||[]).push("style",t);var x=o;(e.updateQueue=x)&&(e.flags|=4)}};FC=function(i,e,t,s){t!==s&&(e.flags|=4)};function th(i,e){if(!Wt)switch(i.tailMode){case"hidden":e=i.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?i.tail=null:t.sibling=null;break;case"collapsed":t=i.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:s.sibling=null}}function Ii(i){var e=i.alternate!==null&&i.alternate.child===i.child,t=0,s=0;if(e)for(var r=i.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=i,r=r.sibling;else for(r=i.child;r!==null;)t|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=i,r=r.sibling;return i.subtreeFlags|=s,i.childLanes=t,e}function HT(i,e,t){var s=e.pendingProps;switch(jb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(e),null;case 1:return os(e.type)&&xc(),Ii(e),null;case 3:return s=e.stateNode,qa(),Bt(ns),Bt(Wi),qb(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(i===null||i.child===null)&&(_d(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zs!==null&&(eb(Zs),Zs=null))),Xg(i,e),Ii(e),null;case 5:Kb(e);var r=Ao(Ih.current);if(t=e.type,i!==null&&e.stateNode!=null)NC(i,e,t,s,r),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(Ce(166));return Ii(e),null}if(i=Ao(xr.current),_d(e)){s=e.stateNode,t=e.type;var o=e.memoizedProps;switch(s[vr]=e,s[Nh]=o,i=(e.mode&1)!==0,t){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(r=0;r<lh.length;r++)Ht(lh[r],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":n0(s,o),Ht("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Ht("invalid",s);break;case"textarea":a0(s,o),Ht("invalid",s)}yg(t,o),r=null;for(var h in o)if(o.hasOwnProperty(h)){var p=o[h];h==="children"?typeof p=="string"?s.textContent!==p&&(o.suppressHydrationWarning!==!0&&Bd(s.textContent,p,i),r=["children",p]):typeof p=="number"&&s.textContent!==""+p&&(o.suppressHydrationWarning!==!0&&Bd(s.textContent,p,i),r=["children",""+p]):Sh.hasOwnProperty(h)&&p!=null&&h==="onScroll"&&Ht("scroll",s)}switch(t){case"input":Ad(s),o0(s,o,!0);break;case"textarea":Ad(s),l0(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=wc)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{h=r.nodeType===9?r:r.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ux(t)),i==="http://www.w3.org/1999/xhtml"?t==="script"?(i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof s.is=="string"?i=h.createElement(t,{is:s.is}):(i=h.createElement(t),t==="select"&&(h=i,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):i=h.createElementNS(i,t),i[vr]=e,i[Nh]=s,zC(i,e,!1,!1),e.stateNode=i;e:{switch(h=wg(t,s),t){case"dialog":Ht("cancel",i),Ht("close",i),r=s;break;case"iframe":case"object":case"embed":Ht("load",i),r=s;break;case"video":case"audio":for(r=0;r<lh.length;r++)Ht(lh[r],i);r=s;break;case"source":Ht("error",i),r=s;break;case"img":case"image":case"link":Ht("error",i),Ht("load",i),r=s;break;case"details":Ht("toggle",i),r=s;break;case"input":n0(i,s),r=fg(i,s),Ht("invalid",i);break;case"option":r=s;break;case"select":i._wrapperState={wasMultiple:!!s.multiple},r=Jt({},s,{value:void 0}),Ht("invalid",i);break;case"textarea":a0(i,s),r=bg(i,s),Ht("invalid",i);break;default:r=s}yg(t,r),p=r;for(o in p)if(p.hasOwnProperty(o)){var g=p[o];o==="style"?px(i,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&dx(i,g)):o==="children"?typeof g=="string"?(t!=="textarea"||g!=="")&&Mh(i,g):typeof g=="number"&&Mh(i,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sh.hasOwnProperty(o)?g!=null&&o==="onScroll"&&Ht("scroll",i):g!=null&&Mb(i,o,g,h))}switch(t){case"input":Ad(i),o0(i,s,!1);break;case"textarea":Ad(i),l0(i);break;case"option":s.value!=null&&i.setAttribute("value",""+Wn(s.value));break;case"select":i.multiple=!!s.multiple,o=s.value,o!=null?_a(i,!!s.multiple,o,!1):s.defaultValue!=null&&_a(i,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(i.onclick=wc)}switch(t){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ii(e),null;case 6:if(i&&e.stateNode!=null)FC(i,e,i.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Ce(166));if(t=Ao(Ih.current),Ao(xr.current),_d(e)){if(s=e.stateNode,t=e.memoizedProps,s[vr]=e,(o=s.nodeValue!==t)&&(i=bs,i!==null))switch(i.tag){case 3:Bd(s.nodeValue,t,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Bd(s.nodeValue,t,(i.mode&1)!==0)}o&&(e.flags|=4)}else s=(t.nodeType===9?t:t.ownerDocument).createTextNode(s),s[vr]=e,e.stateNode=s}return Ii(e),null;case 13:if(Bt(Kt),s=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Wt&&gs!==null&&e.mode&1&&!(e.flags&128))eC(),$a(),e.flags|=98560,o=!1;else if(o=_d(e),s!==null&&s.dehydrated!==null){if(i===null){if(!o)throw Error(Ce(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ce(317));o[vr]=e}else $a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ii(e),o=!1}else Zs!==null&&(eb(Zs),Zs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(s=s!==null,s!==(i!==null&&i.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(i===null||Kt.current&1?bi===0&&(bi=3):lv())),e.updateQueue!==null&&(e.flags|=4),Ii(e),null);case 4:return qa(),Xg(i,e),i===null&&Dh(e.stateNode.containerInfo),Ii(e),null;case 10:return Gb(e.type._context),Ii(e),null;case 17:return os(e.type)&&xc(),Ii(e),null;case 19:if(Bt(Kt),o=e.memoizedState,o===null)return Ii(e),null;if(s=(e.flags&128)!==0,h=o.rendering,h===null)if(s)th(o,!1);else{if(bi!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(h=Rc(i),h!==null){for(e.flags|=128,th(o,!1),s=h.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=t,t=e.child;t!==null;)o=t,i=s,o.flags&=14680066,h=o.alternate,h===null?(o.childLanes=0,o.lanes=i,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,i=h.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t=t.sibling;return Nt(Kt,Kt.current&1|2),e.child}i=i.sibling}o.tail!==null&&ri()>Za&&(e.flags|=128,s=!0,th(o,!1),e.lanes=4194304)}else{if(!s)if(i=Rc(h),i!==null){if(e.flags|=128,s=!0,t=i.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),th(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!Wt)return Ii(e),null}else 2*ri()-o.renderingStartTime>Za&&t!==1073741824&&(e.flags|=128,s=!0,th(o,!1),e.lanes=4194304);o.isBackwards?(h.sibling=e.child,e.child=h):(t=o.last,t!==null?t.sibling=h:e.child=h,o.last=h)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ri(),e.sibling=null,t=Kt.current,Nt(Kt,s?t&1|2:t&1),e):(Ii(e),null);case 22:case 23:return av(),s=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ms&1073741824&&(Ii(e),e.subtreeFlags&6&&(e.flags|=8192)):Ii(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function BT(i,e){switch(jb(e),e.tag){case 1:return os(e.type)&&xc(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return qa(),Bt(ns),Bt(Wi),qb(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Kb(e),null;case 13:if(Bt(Kt),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));$a()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return Bt(Kt),null;case 4:return qa(),null;case 10:return Gb(e.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var Vd=!1,_i=!1,_T=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Da(i,e){var t=i.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(s){ei(i,e,s)}else t.current=null}function Yg(i,e,t){try{t()}catch(s){ei(i,e,s)}}var J0=!1;function jT(i,e){if(Pg=bc,i=jx(),Bb(i)){if("selectionStart"in i)var t={start:i.selectionStart,end:i.selectionEnd};else e:{t=(t=i.ownerDocument)&&t.defaultView||window;var s=t.getSelection&&t.getSelection();if(s&&s.rangeCount!==0){t=s.anchorNode;var r=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var h=0,p=-1,g=-1,x=0,k=0,R=i,D=null;t:for(;;){for(var W;R!==t||r!==0&&R.nodeType!==3||(p=h+r),R!==o||s!==0&&R.nodeType!==3||(g=h+s),R.nodeType===3&&(h+=R.nodeValue.length),(W=R.firstChild)!==null;)D=R,R=W;for(;;){if(R===i)break t;if(D===t&&++x===r&&(p=h),D===o&&++k===s&&(g=h),(W=R.nextSibling)!==null)break;R=D,D=R.parentNode}R=W}t=p===-1||g===-1?null:{start:p,end:g}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ag={focusedElem:i,selectionRange:t},bc=!1,ze=e;ze!==null;)if(e=ze,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,ze=i;else for(;ze!==null;){e=ze;try{var V=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var Y=V.memoizedProps,ee=V.memoizedState,B=e.stateNode,j=B.getSnapshotBeforeUpdate(e.elementType===e.type?Y:qs(e.type,Y),ee);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var X=e.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(Z){ei(e,e.return,Z)}if(i=e.sibling,i!==null){i.return=e.return,ze=i;break}ze=e.return}return V=J0,J0=!1,V}function gh(i,e,t){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&i)===i){var o=r.destroy;r.destroy=void 0,o!==void 0&&Yg(e,t,o)}r=r.next}while(r!==s)}}function pp(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&i)===i){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}}function $g(i){var e=i.ref;if(e!==null){var t=i.stateNode;switch(i.tag){case 5:i=t;break;default:i=t}typeof e=="function"?e(i):e.current=i}}function IC(i){var e=i.alternate;e!==null&&(i.alternate=null,IC(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[vr],delete e[Nh],delete e[zg],delete e[ET],delete e[kT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function HC(i){return i.tag===5||i.tag===3||i.tag===4}function Z0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||HC(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kg(i,e,t){var s=i.tag;if(s===5||s===6)i=i.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(i,e):t.insertBefore(i,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(i,t)):(e=t,e.appendChild(i)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=wc));else if(s!==4&&(i=i.child,i!==null))for(Kg(i,e,t),i=i.sibling;i!==null;)Kg(i,e,t),i=i.sibling}function qg(i,e,t){var s=i.tag;if(s===5||s===6)i=i.stateNode,e?t.insertBefore(i,e):t.appendChild(i);else if(s!==4&&(i=i.child,i!==null))for(qg(i,e,t),i=i.sibling;i!==null;)qg(i,e,t),i=i.sibling}var Mi=null,Js=!1;function yn(i,e,t){for(t=t.child;t!==null;)BC(i,e,t),t=t.sibling}function BC(i,e,t){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(np,t)}catch{}switch(t.tag){case 5:_i||Da(t,e);case 6:var s=Mi,r=Js;Mi=null,yn(i,e,t),Mi=s,Js=r,Mi!==null&&(Js?(i=Mi,t=t.stateNode,i.nodeType===8?i.parentNode.removeChild(t):i.removeChild(t)):Mi.removeChild(t.stateNode));break;case 18:Mi!==null&&(Js?(i=Mi,t=t.stateNode,i.nodeType===8?Gm(i.parentNode,t):i.nodeType===1&&Gm(i,t),Ph(i)):Gm(Mi,t.stateNode));break;case 4:s=Mi,r=Js,Mi=t.stateNode.containerInfo,Js=!0,yn(i,e,t),Mi=s,Js=r;break;case 0:case 11:case 14:case 15:if(!_i&&(s=t.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var o=r,h=o.destroy;o=o.tag,h!==void 0&&(o&2||o&4)&&Yg(t,e,h),r=r.next}while(r!==s)}yn(i,e,t);break;case 1:if(!_i&&(Da(t,e),s=t.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=t.memoizedProps,s.state=t.memoizedState,s.componentWillUnmount()}catch(p){ei(t,e,p)}yn(i,e,t);break;case 21:yn(i,e,t);break;case 22:t.mode&1?(_i=(s=_i)||t.memoizedState!==null,yn(i,e,t),_i=s):yn(i,e,t);break;default:yn(i,e,t)}}function Q0(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var t=i.stateNode;t===null&&(t=i.stateNode=new _T),e.forEach(function(s){var r=qT.bind(null,i,s);t.has(s)||(t.add(s),s.then(r,r))})}}function $s(i,e){var t=e.deletions;if(t!==null)for(var s=0;s<t.length;s++){var r=t[s];try{var o=i,h=e,p=h;e:for(;p!==null;){switch(p.tag){case 5:Mi=p.stateNode,Js=!1;break e;case 3:Mi=p.stateNode.containerInfo,Js=!0;break e;case 4:Mi=p.stateNode.containerInfo,Js=!0;break e}p=p.return}if(Mi===null)throw Error(Ce(160));BC(o,h,r),Mi=null,Js=!1;var g=r.alternate;g!==null&&(g.return=null),r.return=null}catch(x){ei(r,e,x)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_C(e,i),e=e.sibling}function _C(i,e){var t=i.alternate,s=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if($s(e,i),mr(i),s&4){try{gh(3,i,i.return),pp(3,i)}catch(Y){ei(i,i.return,Y)}try{gh(5,i,i.return)}catch(Y){ei(i,i.return,Y)}}break;case 1:$s(e,i),mr(i),s&512&&t!==null&&Da(t,t.return);break;case 5:if($s(e,i),mr(i),s&512&&t!==null&&Da(t,t.return),i.flags&32){var r=i.stateNode;try{Mh(r,"")}catch(Y){ei(i,i.return,Y)}}if(s&4&&(r=i.stateNode,r!=null)){var o=i.memoizedProps,h=t!==null?t.memoizedProps:o,p=i.type,g=i.updateQueue;if(i.updateQueue=null,g!==null)try{p==="input"&&o.type==="radio"&&o.name!=null&&lx(r,o),wg(p,h);var x=wg(p,o);for(h=0;h<g.length;h+=2){var k=g[h],R=g[h+1];k==="style"?px(r,R):k==="dangerouslySetInnerHTML"?dx(r,R):k==="children"?Mh(r,R):Mb(r,k,R,x)}switch(p){case"input":mg(r,o);break;case"textarea":hx(r,o);break;case"select":var D=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var W=o.value;W!=null?_a(r,!!o.multiple,W,!1):D!==!!o.multiple&&(o.defaultValue!=null?_a(r,!!o.multiple,o.defaultValue,!0):_a(r,!!o.multiple,o.multiple?[]:"",!1))}r[Nh]=o}catch(Y){ei(i,i.return,Y)}}break;case 6:if($s(e,i),mr(i),s&4){if(i.stateNode===null)throw Error(Ce(162));r=i.stateNode,o=i.memoizedProps;try{r.nodeValue=o}catch(Y){ei(i,i.return,Y)}}break;case 3:if($s(e,i),mr(i),s&4&&t!==null&&t.memoizedState.isDehydrated)try{Ph(e.containerInfo)}catch(Y){ei(i,i.return,Y)}break;case 4:$s(e,i),mr(i);break;case 13:$s(e,i),mr(i),r=i.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(nv=ri())),s&4&&Q0(i);break;case 22:if(k=t!==null&&t.memoizedState!==null,i.mode&1?(_i=(x=_i)||k,$s(e,i),_i=x):$s(e,i),mr(i),s&8192){if(x=i.memoizedState!==null,(i.stateNode.isHidden=x)&&!k&&i.mode&1)for(ze=i,k=i.child;k!==null;){for(R=ze=k;ze!==null;){switch(D=ze,W=D.child,D.tag){case 0:case 11:case 14:case 15:gh(4,D,D.return);break;case 1:Da(D,D.return);var V=D.stateNode;if(typeof V.componentWillUnmount=="function"){s=D,t=D.return;try{e=s,V.props=e.memoizedProps,V.state=e.memoizedState,V.componentWillUnmount()}catch(Y){ei(s,t,Y)}}break;case 5:Da(D,D.return);break;case 22:if(D.memoizedState!==null){tw(R);continue}}W!==null?(W.return=D,ze=W):tw(R)}k=k.sibling}e:for(k=null,R=i;;){if(R.tag===5){if(k===null){k=R;try{r=R.stateNode,x?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(p=R.stateNode,g=R.memoizedProps.style,h=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=cx("display",h))}catch(Y){ei(i,i.return,Y)}}}else if(R.tag===6){if(k===null)try{R.stateNode.nodeValue=x?"":R.memoizedProps}catch(Y){ei(i,i.return,Y)}}else if((R.tag!==22&&R.tag!==23||R.memoizedState===null||R===i)&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===i)break e;for(;R.sibling===null;){if(R.return===null||R.return===i)break e;k===R&&(k=null),R=R.return}k===R&&(k=null),R.sibling.return=R.return,R=R.sibling}}break;case 19:$s(e,i),mr(i),s&4&&Q0(i);break;case 21:break;default:$s(e,i),mr(i)}}function mr(i){var e=i.flags;if(e&2){try{e:{for(var t=i.return;t!==null;){if(HC(t)){var s=t;break e}t=t.return}throw Error(Ce(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Mh(r,""),s.flags&=-33);var o=Z0(i);qg(i,o,r);break;case 3:case 4:var h=s.stateNode.containerInfo,p=Z0(i);Kg(i,p,h);break;default:throw Error(Ce(161))}}catch(g){ei(i,i.return,g)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function WT(i,e,t){ze=i,jC(i)}function jC(i,e,t){for(var s=(i.mode&1)!==0;ze!==null;){var r=ze,o=r.child;if(r.tag===22&&s){var h=r.memoizedState!==null||Vd;if(!h){var p=r.alternate,g=p!==null&&p.memoizedState!==null||_i;p=Vd;var x=_i;if(Vd=h,(_i=g)&&!x)for(ze=r;ze!==null;)h=ze,g=h.child,h.tag===22&&h.memoizedState!==null?iw(r):g!==null?(g.return=h,ze=g):iw(r);for(;o!==null;)ze=o,jC(o),o=o.sibling;ze=r,Vd=p,_i=x}ew(i)}else r.subtreeFlags&8772&&o!==null?(o.return=r,ze=o):ew(i)}}function ew(i){for(;ze!==null;){var e=ze;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_i||pp(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!_i)if(t===null)s.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:qs(e.type,t.memoizedProps);s.componentDidUpdate(r,t.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&H0(e,o,s);break;case 3:var h=e.updateQueue;if(h!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}H0(e,h,t)}break;case 5:var p=e.stateNode;if(t===null&&e.flags&4){t=p;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&t.focus();break;case"img":g.src&&(t.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var k=x.memoizedState;if(k!==null){var R=k.dehydrated;R!==null&&Ph(R)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}_i||e.flags&512&&$g(e)}catch(D){ei(e,e.return,D)}}if(e===i){ze=null;break}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function tw(i){for(;ze!==null;){var e=ze;if(e===i){ze=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ze=t;break}ze=e.return}}function iw(i){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{pp(4,e)}catch(g){ei(e,t,g)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(g){ei(e,r,g)}}var o=e.return;try{$g(e)}catch(g){ei(e,o,g)}break;case 5:var h=e.return;try{$g(e)}catch(g){ei(e,h,g)}}}catch(g){ei(e,e.return,g)}if(e===i){ze=null;break}var p=e.sibling;if(p!==null){p.return=e.return,ze=p;break}ze=e.return}}var VT=Math.ceil,Ac=Jr.ReactCurrentDispatcher,sv=Jr.ReactCurrentOwner,As=Jr.ReactCurrentBatchConfig,yt=0,xi=null,hi=null,Ti=0,ms=0,za=Gn(0),bi=0,jh=null,jo=0,fp=0,rv=0,bh=null,ss=null,nv=0,Za=1/0,Br=null,Oc=!1,Jg=null,Bn=null,Ud=!1,On=null,Dc=0,vh=0,Zg=null,nc=-1,oc=0;function Ki(){return yt&6?ri():nc!==-1?nc:nc=ri()}function _n(i){return i.mode&1?yt&2&&Ti!==0?Ti&-Ti:MT.transition!==null?(oc===0&&(oc=Sx()),oc):(i=kt,i!==0||(i=window.event,i=i===void 0?16:Ox(i.type)),i):1}function er(i,e,t,s){if(50<vh)throw vh=0,Zg=null,Error(Ce(185));Gh(i,t,s),(!(yt&2)||i!==xi)&&(i===xi&&(!(yt&2)&&(fp|=t),bi===4&&Ln(i,Ti)),as(i,s),t===1&&yt===0&&!(e.mode&1)&&(Za=ri()+500,up&&Xn()))}function as(i,e){var t=i.callbackNode;MM(i,e);var s=gc(i,i===xi?Ti:0);if(s===0)t!==null&&d0(t),i.callbackNode=null,i.callbackPriority=0;else if(e=s&-s,i.callbackPriority!==e){if(t!=null&&d0(t),e===1)i.tag===0?ST(sw.bind(null,i)):Jx(sw.bind(null,i)),xT(function(){!(yt&6)&&Xn()}),t=null;else{switch(Mx(s)){case 1:t=Ab;break;case 4:t=Ex;break;case 16:t=mc;break;case 536870912:t=kx;break;default:t=mc}t=KC(t,WC.bind(null,i))}i.callbackPriority=e,i.callbackNode=t}}function WC(i,e){if(nc=-1,oc=0,yt&6)throw Error(Ce(327));var t=i.callbackNode;if(Ga()&&i.callbackNode!==t)return null;var s=gc(i,i===xi?Ti:0);if(s===0)return null;if(s&30||s&i.expiredLanes||e)e=zc(i,s);else{e=s;var r=yt;yt|=2;var o=UC();(xi!==i||Ti!==e)&&(Br=null,Za=ri()+500,Do(i,e));do try{XT();break}catch(p){VC(i,p)}while(!0);Ub(),Ac.current=o,yt=r,hi!==null?e=0:(xi=null,Ti=0,e=bi)}if(e!==0){if(e===2&&(r=Sg(i),r!==0&&(s=r,e=Qg(i,r))),e===1)throw t=jh,Do(i,0),Ln(i,s),as(i,ri()),t;if(e===6)Ln(i,s);else{if(r=i.current.alternate,!(s&30)&&!UT(r)&&(e=zc(i,s),e===2&&(o=Sg(i),o!==0&&(s=o,e=Qg(i,o))),e===1))throw t=jh,Do(i,0),Ln(i,s),as(i,ri()),t;switch(i.finishedWork=r,i.finishedLanes=s,e){case 0:case 1:throw Error(Ce(345));case 2:ko(i,ss,Br);break;case 3:if(Ln(i,s),(s&130023424)===s&&(e=nv+500-ri(),10<e)){if(gc(i,0)!==0)break;if(r=i.suspendedLanes,(r&s)!==s){Ki(),i.pingedLanes|=i.suspendedLanes&r;break}i.timeoutHandle=Dg(ko.bind(null,i,ss,Br),e);break}ko(i,ss,Br);break;case 4:if(Ln(i,s),(s&4194240)===s)break;for(e=i.eventTimes,r=-1;0<s;){var h=31-Qs(s);o=1<<h,h=e[h],h>r&&(r=h),s&=~o}if(s=r,s=ri()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*VT(s/1960))-s,10<s){i.timeoutHandle=Dg(ko.bind(null,i,ss,Br),s);break}ko(i,ss,Br);break;case 5:ko(i,ss,Br);break;default:throw Error(Ce(329))}}}return as(i,ri()),i.callbackNode===t?WC.bind(null,i):null}function Qg(i,e){var t=bh;return i.current.memoizedState.isDehydrated&&(Do(i,e).flags|=256),i=zc(i,e),i!==2&&(e=ss,ss=t,e!==null&&eb(e)),i}function eb(i){ss===null?ss=i:ss.push.apply(ss,i)}function UT(i){for(var e=i;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var s=0;s<t.length;s++){var r=t[s],o=r.getSnapshot;r=r.value;try{if(!tr(o(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(i,e){for(e&=~rv,e&=~fp,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var t=31-Qs(e),s=1<<t;i[t]=-1,e&=~s}}function sw(i){if(yt&6)throw Error(Ce(327));Ga();var e=gc(i,0);if(!(e&1))return as(i,ri()),null;var t=zc(i,e);if(i.tag!==0&&t===2){var s=Sg(i);s!==0&&(e=s,t=Qg(i,s))}if(t===1)throw t=jh,Do(i,0),Ln(i,e),as(i,ri()),t;if(t===6)throw Error(Ce(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,ko(i,ss,Br),as(i,ri()),null}function ov(i,e){var t=yt;yt|=1;try{return i(e)}finally{yt=t,yt===0&&(Za=ri()+500,up&&Xn())}}function Wo(i){On!==null&&On.tag===0&&!(yt&6)&&Ga();var e=yt;yt|=1;var t=As.transition,s=kt;try{if(As.transition=null,kt=1,i)return i()}finally{kt=s,As.transition=t,yt=e,!(yt&6)&&Xn()}}function av(){ms=za.current,Bt(za)}function Do(i,e){i.finishedWork=null,i.finishedLanes=0;var t=i.timeoutHandle;if(t!==-1&&(i.timeoutHandle=-1,wT(t)),hi!==null)for(t=hi.return;t!==null;){var s=t;switch(jb(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&xc();break;case 3:qa(),Bt(ns),Bt(Wi),qb();break;case 5:Kb(s);break;case 4:qa();break;case 13:Bt(Kt);break;case 19:Bt(Kt);break;case 10:Gb(s.type._context);break;case 22:case 23:av()}t=t.return}if(xi=i,hi=i=jn(i.current,null),Ti=ms=e,bi=0,jh=null,rv=fp=jo=0,ss=bh=null,Po!==null){for(e=0;e<Po.length;e++)if(t=Po[e],s=t.interleaved,s!==null){t.interleaved=null;var r=s.next,o=t.pending;if(o!==null){var h=o.next;o.next=r,s.next=h}t.pending=s}Po=null}return i}function VC(i,e){do{var t=hi;try{if(Ub(),ic.current=Pc,Lc){for(var s=qt.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lc=!1}if(_o=0,wi=mi=qt=null,mh=!1,Hh=0,sv.current=null,t===null||t.return===null){bi=1,jh=e,hi=null;break}e:{var o=i,h=t.return,p=t,g=e;if(e=Ti,p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var x=g,k=p,R=k.tag;if(!(k.mode&1)&&(R===0||R===11||R===15)){var D=k.alternate;D?(k.updateQueue=D.updateQueue,k.memoizedState=D.memoizedState,k.lanes=D.lanes):(k.updateQueue=null,k.memoizedState=null)}var W=U0(h);if(W!==null){W.flags&=-257,G0(W,h,p,o,e),W.mode&1&&V0(o,x,e),e=W,g=x;var V=e.updateQueue;if(V===null){var Y=new Set;Y.add(g),e.updateQueue=Y}else V.add(g);break e}else{if(!(e&1)){V0(o,x,e),lv();break e}g=Error(Ce(426))}}else if(Wt&&p.mode&1){var ee=U0(h);if(ee!==null){!(ee.flags&65536)&&(ee.flags|=256),G0(ee,h,p,o,e),Wb(Ja(g,p));break e}}o=g=Ja(g,p),bi!==4&&(bi=2),bh===null?bh=[o]:bh.push(o),o=h;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var B=MC(o,g,e);I0(o,B);break e;case 1:p=g;var j=o.type,X=o.stateNode;if(!(o.flags&128)&&(typeof j.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Bn===null||!Bn.has(X)))){o.flags|=65536,e&=-e,o.lanes|=e;var Z=TC(o,p,e);I0(o,Z);break e}}o=o.return}while(o!==null)}XC(t)}catch(ce){e=ce,hi===t&&t!==null&&(hi=t=t.return);continue}break}while(!0)}function UC(){var i=Ac.current;return Ac.current=Pc,i===null?Pc:i}function lv(){(bi===0||bi===3||bi===2)&&(bi=4),xi===null||!(jo&268435455)&&!(fp&268435455)||Ln(xi,Ti)}function zc(i,e){var t=yt;yt|=2;var s=UC();(xi!==i||Ti!==e)&&(Br=null,Do(i,e));do try{GT();break}catch(r){VC(i,r)}while(!0);if(Ub(),yt=t,Ac.current=s,hi!==null)throw Error(Ce(261));return xi=null,Ti=0,bi}function GT(){for(;hi!==null;)GC(hi)}function XT(){for(;hi!==null&&!bM();)GC(hi)}function GC(i){var e=$C(i.alternate,i,ms);i.memoizedProps=i.pendingProps,e===null?XC(i):hi=e,sv.current=null}function XC(i){var e=i;do{var t=e.alternate;if(i=e.return,e.flags&32768){if(t=BT(t,e),t!==null){t.flags&=32767,hi=t;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{bi=6,hi=null;return}}else if(t=HT(t,e,ms),t!==null){hi=t;return}if(e=e.sibling,e!==null){hi=e;return}hi=e=i}while(e!==null);bi===0&&(bi=5)}function ko(i,e,t){var s=kt,r=As.transition;try{As.transition=null,kt=1,YT(i,e,t,s)}finally{As.transition=r,kt=s}return null}function YT(i,e,t,s){do Ga();while(On!==null);if(yt&6)throw Error(Ce(327));t=i.finishedWork;var r=i.finishedLanes;if(t===null)return null;if(i.finishedWork=null,i.finishedLanes=0,t===i.current)throw Error(Ce(177));i.callbackNode=null,i.callbackPriority=0;var o=t.lanes|t.childLanes;if(TM(i,o),i===xi&&(hi=xi=null,Ti=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ud||(Ud=!0,KC(mc,function(){return Ga(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=As.transition,As.transition=null;var h=kt;kt=1;var p=yt;yt|=4,sv.current=null,jT(i,t),_C(t,i),pT(Ag),bc=!!Pg,Ag=Pg=null,i.current=t,WT(t),vM(),yt=p,kt=h,As.transition=o}else i.current=t;if(Ud&&(Ud=!1,On=i,Dc=r),o=i.pendingLanes,o===0&&(Bn=null),xM(t.stateNode),as(i,ri()),e!==null)for(s=i.onRecoverableError,t=0;t<e.length;t++)r=e[t],s(r.value,{componentStack:r.stack,digest:r.digest});if(Oc)throw Oc=!1,i=Jg,Jg=null,i;return Dc&1&&i.tag!==0&&Ga(),o=i.pendingLanes,o&1?i===Zg?vh++:(vh=0,Zg=i):vh=0,Xn(),null}function Ga(){if(On!==null){var i=Mx(Dc),e=As.transition,t=kt;try{if(As.transition=null,kt=16>i?16:i,On===null)var s=!1;else{if(i=On,On=null,Dc=0,yt&6)throw Error(Ce(331));var r=yt;for(yt|=4,ze=i.current;ze!==null;){var o=ze,h=o.child;if(ze.flags&16){var p=o.deletions;if(p!==null){for(var g=0;g<p.length;g++){var x=p[g];for(ze=x;ze!==null;){var k=ze;switch(k.tag){case 0:case 11:case 15:gh(8,k,o)}var R=k.child;if(R!==null)R.return=k,ze=R;else for(;ze!==null;){k=ze;var D=k.sibling,W=k.return;if(IC(k),k===x){ze=null;break}if(D!==null){D.return=W,ze=D;break}ze=W}}}var V=o.alternate;if(V!==null){var Y=V.child;if(Y!==null){V.child=null;do{var ee=Y.sibling;Y.sibling=null,Y=ee}while(Y!==null)}}ze=o}}if(o.subtreeFlags&2064&&h!==null)h.return=o,ze=h;else e:for(;ze!==null;){if(o=ze,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gh(9,o,o.return)}var B=o.sibling;if(B!==null){B.return=o.return,ze=B;break e}ze=o.return}}var j=i.current;for(ze=j;ze!==null;){h=ze;var X=h.child;if(h.subtreeFlags&2064&&X!==null)X.return=h,ze=X;else e:for(h=j;ze!==null;){if(p=ze,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:pp(9,p)}}catch(ce){ei(p,p.return,ce)}if(p===h){ze=null;break e}var Z=p.sibling;if(Z!==null){Z.return=p.return,ze=Z;break e}ze=p.return}}if(yt=r,Xn(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(np,i)}catch{}s=!0}return s}finally{kt=t,As.transition=e}}return!1}function rw(i,e,t){e=Ja(t,e),e=MC(i,e,1),i=Hn(i,e,1),e=Ki(),i!==null&&(Gh(i,1,e),as(i,e))}function ei(i,e,t){if(i.tag===3)rw(i,i,t);else for(;e!==null;){if(e.tag===3){rw(e,i,t);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Bn===null||!Bn.has(s))){i=Ja(t,i),i=TC(e,i,1),e=Hn(e,i,1),i=Ki(),e!==null&&(Gh(e,1,i),as(e,i));break}}e=e.return}}function $T(i,e,t){var s=i.pingCache;s!==null&&s.delete(e),e=Ki(),i.pingedLanes|=i.suspendedLanes&t,xi===i&&(Ti&t)===t&&(bi===4||bi===3&&(Ti&130023424)===Ti&&500>ri()-nv?Do(i,0):rv|=t),as(i,e)}function YC(i,e){e===0&&(i.mode&1?(e=zd,zd<<=1,!(zd&130023424)&&(zd=4194304)):e=1);var t=Ki();i=$r(i,e),i!==null&&(Gh(i,e,t),as(i,t))}function KT(i){var e=i.memoizedState,t=0;e!==null&&(t=e.retryLane),YC(i,t)}function qT(i,e){var t=0;switch(i.tag){case 13:var s=i.stateNode,r=i.memoizedState;r!==null&&(t=r.retryLane);break;case 19:s=i.stateNode;break;default:throw Error(Ce(314))}s!==null&&s.delete(e),YC(i,t)}var $C;$C=function(i,e,t){if(i!==null)if(i.memoizedProps!==e.pendingProps||ns.current)rs=!0;else{if(!(i.lanes&t)&&!(e.flags&128))return rs=!1,IT(i,e,t);rs=!!(i.flags&131072)}else rs=!1,Wt&&e.flags&1048576&&Zx(e,kc,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;rc(i,e),i=e.pendingProps;var r=Ya(e,Wi.current);Ua(e,t),r=Zb(null,e,s,i,r,t);var o=Qb();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,os(s)?(o=!0,Cc(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Yb(e),r.updater=cp,e.stateNode=r,r._reactInternals=e,_g(e,s,i,t),e=Vg(null,e,s,!0,o,t)):(e.tag=0,Wt&&o&&_b(e),$i(null,e,r,t),e=e.child),e;case 16:s=e.elementType;e:{switch(rc(i,e),i=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=ZT(s),i=qs(s,i),r){case 0:e=Wg(null,e,s,i,t);break e;case 1:e=$0(null,e,s,i,t);break e;case 11:e=X0(null,e,s,i,t);break e;case 14:e=Y0(null,e,s,qs(s.type,i),t);break e}throw Error(Ce(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qs(s,r),Wg(i,e,s,r,t);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qs(s,r),$0(i,e,s,r,t);case 3:e:{if(AC(e),i===null)throw Error(Ce(387));s=e.pendingProps,o=e.memoizedState,r=o.element,rC(i,e),Tc(e,s,null,t);var h=e.memoizedState;if(s=h.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Ja(Error(Ce(423)),e),e=K0(i,e,s,t,r);break e}else if(s!==r){r=Ja(Error(Ce(424)),e),e=K0(i,e,s,t,r);break e}else for(gs=In(e.stateNode.containerInfo.firstChild),bs=e,Wt=!0,Zs=null,t=iC(e,null,s,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($a(),s===r){e=Kr(i,e,t);break e}$i(i,e,s,t)}e=e.child}return e;case 5:return nC(e),i===null&&Ig(e),s=e.type,r=e.pendingProps,o=i!==null?i.memoizedProps:null,h=r.children,Og(s,r)?h=null:o!==null&&Og(s,o)&&(e.flags|=32),PC(i,e),$i(i,e,h,t),e.child;case 6:return i===null&&Ig(e),null;case 13:return OC(i,e,t);case 4:return $b(e,e.stateNode.containerInfo),s=e.pendingProps,i===null?e.child=Ka(e,null,s,t):$i(i,e,s,t),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qs(s,r),X0(i,e,s,r,t);case 7:return $i(i,e,e.pendingProps,t),e.child;case 8:return $i(i,e,e.pendingProps.children,t),e.child;case 12:return $i(i,e,e.pendingProps.children,t),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,o=e.memoizedProps,h=r.value,Nt(Sc,s._currentValue),s._currentValue=h,o!==null)if(tr(o.value,h)){if(o.children===r.children&&!ns.current){e=Kr(i,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var p=o.dependencies;if(p!==null){h=o.child;for(var g=p.firstContext;g!==null;){if(g.context===s){if(o.tag===1){g=Gr(-1,t&-t),g.tag=2;var x=o.updateQueue;if(x!==null){x=x.shared;var k=x.pending;k===null?g.next=g:(g.next=k.next,k.next=g),x.pending=g}}o.lanes|=t,g=o.alternate,g!==null&&(g.lanes|=t),Hg(o.return,t,e),p.lanes|=t;break}g=g.next}}else if(o.tag===10)h=o.type===e.type?null:o.child;else if(o.tag===18){if(h=o.return,h===null)throw Error(Ce(341));h.lanes|=t,p=h.alternate,p!==null&&(p.lanes|=t),Hg(h,t,e),h=o.sibling}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}$i(i,e,r.children,t),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Ua(e,t),r=Os(r),s=s(r),e.flags|=1,$i(i,e,s,t),e.child;case 14:return s=e.type,r=qs(s,e.pendingProps),r=qs(s.type,r),Y0(i,e,s,r,t);case 15:return RC(i,e,e.type,e.pendingProps,t);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:qs(s,r),rc(i,e),e.tag=1,os(s)?(i=!0,Cc(e)):i=!1,Ua(e,t),SC(e,s,r),_g(e,s,r,t),Vg(null,e,s,!0,i,t);case 19:return DC(i,e,t);case 22:return LC(i,e,t)}throw Error(Ce(156,e.tag))};function KC(i,e){return Cx(i,e)}function JT(i,e,t,s){this.tag=i,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(i,e,t,s){return new JT(i,e,t,s)}function hv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ZT(i){if(typeof i=="function")return hv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Rb)return 11;if(i===Lb)return 14}return 2}function jn(i,e){var t=i.alternate;return t===null?(t=Ps(i.tag,e,i.key,i.mode),t.elementType=i.elementType,t.type=i.type,t.stateNode=i.stateNode,t.alternate=i,i.alternate=t):(t.pendingProps=e,t.type=i.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=i.flags&14680064,t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=i.sibling,t.index=i.index,t.ref=i.ref,t}function ac(i,e,t,s,r,o){var h=2;if(s=i,typeof i=="function")hv(i)&&(h=1);else if(typeof i=="string")h=5;else e:switch(i){case ka:return zo(t.children,r,o,e);case Tb:h=8,r|=8;break;case ug:return i=Ps(12,t,e,r|2),i.elementType=ug,i.lanes=o,i;case dg:return i=Ps(13,t,e,r),i.elementType=dg,i.lanes=o,i;case cg:return i=Ps(19,t,e,r),i.elementType=cg,i.lanes=o,i;case nx:return mp(t,r,o,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case sx:h=10;break e;case rx:h=9;break e;case Rb:h=11;break e;case Lb:h=14;break e;case wn:h=16,s=null;break e}throw Error(Ce(130,i==null?i:typeof i,""))}return e=Ps(h,t,e,r),e.elementType=i,e.type=s,e.lanes=o,e}function zo(i,e,t,s){return i=Ps(7,i,s,e),i.lanes=t,i}function mp(i,e,t,s){return i=Ps(22,i,s,e),i.elementType=nx,i.lanes=t,i.stateNode={isHidden:!1},i}function Qm(i,e,t){return i=Ps(6,i,null,e),i.lanes=t,i}function eg(i,e,t){return e=Ps(4,i.children!==null?i.children:[],i.key,e),e.lanes=t,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function QT(i,e,t,s,r){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zm(0),this.expirationTimes=zm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zm(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function uv(i,e,t,s,r,o,h,p,g){return i=new QT(i,e,t,p,g),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ps(3,null,null,e),i.current=o,o.stateNode=i,o.memoizedState={element:s,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yb(o),i}function eR(i,e,t){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ea,key:s==null?null:""+s,children:i,containerInfo:e,implementation:t}}function qC(i){if(!i)return Vn;i=i._reactInternals;e:{if(Go(i)!==i||i.tag!==1)throw Error(Ce(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(os(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(i.tag===1){var t=i.type;if(os(t))return qx(i,t,e)}return e}function JC(i,e,t,s,r,o,h,p,g){return i=uv(t,s,!0,i,r,o,h,p,g),i.context=qC(null),t=i.current,s=Ki(),r=_n(t),o=Gr(s,r),o.callback=e??null,Hn(t,o,r),i.current.lanes=r,Gh(i,r,s),as(i,s),i}function gp(i,e,t,s){var r=e.current,o=Ki(),h=_n(r);return t=qC(t),e.context===null?e.context=t:e.pendingContext=t,e=Gr(o,h),e.payload={element:i},s=s===void 0?null:s,s!==null&&(e.callback=s),i=Hn(r,e,h),i!==null&&(er(i,r,h,o),tc(i,r,h)),h}function Nc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function nw(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var t=i.retryLane;i.retryLane=t!==0&&t<e?t:e}}function dv(i,e){nw(i,e),(i=i.alternate)&&nw(i,e)}function tR(){return null}var ZC=typeof reportError=="function"?reportError:function(i){console.error(i)};function cv(i){this._internalRoot=i}bp.prototype.render=cv.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(Ce(409));gp(i,e,null,null)};bp.prototype.unmount=cv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;Wo(function(){gp(null,i,null,null)}),e[Yr]=null}};function bp(i){this._internalRoot=i}bp.prototype.unstable_scheduleHydration=function(i){if(i){var e=Lx();i={blockedOn:null,target:i,priority:e};for(var t=0;t<Rn.length&&e!==0&&e<Rn[t].priority;t++);Rn.splice(t,0,i),t===0&&Ax(i)}};function pv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function vp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ow(){}function iR(i,e,t,s,r){if(r){if(typeof s=="function"){var o=s;s=function(){var x=Nc(h);o.call(x)}}var h=JC(e,s,i,0,null,!1,!1,"",ow);return i._reactRootContainer=h,i[Yr]=h.current,Dh(i.nodeType===8?i.parentNode:i),Wo(),h}for(;r=i.lastChild;)i.removeChild(r);if(typeof s=="function"){var p=s;s=function(){var x=Nc(g);p.call(x)}}var g=uv(i,0,!1,null,null,!1,!1,"",ow);return i._reactRootContainer=g,i[Yr]=g.current,Dh(i.nodeType===8?i.parentNode:i),Wo(function(){gp(e,g,t,s)}),g}function yp(i,e,t,s,r){var o=t._reactRootContainer;if(o){var h=o;if(typeof r=="function"){var p=r;r=function(){var g=Nc(h);p.call(g)}}gp(e,h,i,r)}else h=iR(t,e,i,r,s);return Nc(h)}Tx=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var t=ah(e.pendingLanes);t!==0&&(Ob(e,t|1),as(e,ri()),!(yt&6)&&(Za=ri()+500,Xn()))}break;case 13:Wo(function(){var s=$r(i,1);if(s!==null){var r=Ki();er(s,i,1,r)}}),dv(i,1)}};Db=function(i){if(i.tag===13){var e=$r(i,134217728);if(e!==null){var t=Ki();er(e,i,134217728,t)}dv(i,134217728)}};Rx=function(i){if(i.tag===13){var e=_n(i),t=$r(i,e);if(t!==null){var s=Ki();er(t,i,e,s)}dv(i,e)}};Lx=function(){return kt};Px=function(i,e){var t=kt;try{return kt=i,e()}finally{kt=t}};Cg=function(i,e,t){switch(e){case"input":if(mg(i,t),e=t.name,t.type==="radio"&&e!=null){for(t=i;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var s=t[e];if(s!==i&&s.form===i.form){var r=hp(s);if(!r)throw Error(Ce(90));ax(s),mg(s,r)}}}break;case"textarea":hx(i,t);break;case"select":e=t.value,e!=null&&_a(i,!!t.multiple,e,!1)}};gx=ov;bx=Wo;var sR={usingClientEntryPoint:!1,Events:[Yh,Ra,hp,fx,mx,ov]},ih={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rR={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=wx(i),i===null?null:i.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{np=Gd.inject(rR),wr=Gd}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;ys.createPortal=function(i,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pv(e))throw Error(Ce(200));return eR(i,e,null,t)};ys.createRoot=function(i,e){if(!pv(i))throw Error(Ce(299));var t=!1,s="",r=ZC;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=uv(i,1,!1,null,null,t,!1,s,r),i[Yr]=e.current,Dh(i.nodeType===8?i.parentNode:i),new cv(e)};ys.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(Ce(188)):(i=Object.keys(i).join(","),Error(Ce(268,i)));return i=wx(e),i=i===null?null:i.stateNode,i};ys.flushSync=function(i){return Wo(i)};ys.hydrate=function(i,e,t){if(!vp(e))throw Error(Ce(200));return yp(null,i,e,!0,t)};ys.hydrateRoot=function(i,e,t){if(!pv(i))throw Error(Ce(405));var s=t!=null&&t.hydratedSources||null,r=!1,o="",h=ZC;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),e=JC(e,null,i,1,t??null,r,!1,o,h),i[Yr]=e.current,Dh(i),s)for(i=0;i<s.length;i++)t=s[i],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new bp(e)};ys.render=function(i,e,t){if(!vp(e))throw Error(Ce(200));return yp(null,i,e,!1,t)};ys.unmountComponentAtNode=function(i){if(!vp(i))throw Error(Ce(40));return i._reactRootContainer?(Wo(function(){yp(null,null,i,!1,function(){i._reactRootContainer=null,i[Yr]=null})}),!0):!1};ys.unstable_batchedUpdates=ov;ys.unstable_renderSubtreeIntoContainer=function(i,e,t,s){if(!vp(t))throw Error(Ce(200));if(i==null||i._reactInternals===void 0)throw Error(Ce(38));return yp(i,e,t,!1,s)};ys.version="18.3.1-next-f1338f8080-20240426";function QC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QC)}catch(i){console.error(i)}}QC(),Qw.exports=ys;var nR=Qw.exports,aw=nR;lg.createRoot=aw.createRoot,lg.hydrateRoot=aw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wh(){return Wh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Wh.apply(this,arguments)}var Dn;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Dn||(Dn={}));const lw="popstate";function oR(i){i===void 0&&(i={});function e(r,o){let{pathname:h="/",search:p="",hash:g=""}=Xo(r.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),tb("",{pathname:h,search:p,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let h=r.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=r.location.href,x=g.indexOf("#");p=x===-1?g:g.slice(0,x)}return p+"#"+(typeof o=="string"?o:eE(o))}function s(r,o){fv(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return lR(e,t,s,i)}function ui(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fv(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aR(){return Math.random().toString(36).substr(2,8)}function hw(i,e){return{usr:i.state,key:i.key,idx:e}}function tb(i,e,t,s){return t===void 0&&(t=null),Wh({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:t,key:e&&e.key||s||aR()})}function eE(i){let{pathname:e="/",search:t="",hash:s=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Xo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function lR(i,e,t,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:o=!1}=s,h=r.history,p=Dn.Pop,g=null,x=k();x==null&&(x=0,h.replaceState(Wh({},h.state,{idx:x}),""));function k(){return(h.state||{idx:null}).idx}function R(){p=Dn.Pop;let ee=k(),B=ee==null?null:ee-x;x=ee,g&&g({action:p,location:Y.location,delta:B})}function D(ee,B){p=Dn.Push;let j=tb(Y.location,ee,B);t&&t(j,ee),x=k()+1;let X=hw(j,x),Z=Y.createHref(j);try{h.pushState(X,"",Z)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;r.location.assign(Z)}o&&g&&g({action:p,location:Y.location,delta:1})}function W(ee,B){p=Dn.Replace;let j=tb(Y.location,ee,B);t&&t(j,ee),x=k();let X=hw(j,x),Z=Y.createHref(j);h.replaceState(X,"",Z),o&&g&&g({action:p,location:Y.location,delta:0})}function V(ee){let B=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof ee=="string"?ee:eE(ee);return j=j.replace(/ $/,"%20"),ui(B,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,B)}let Y={get action(){return p},get location(){return i(r,h)},listen(ee){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(lw,R),g=ee,()=>{r.removeEventListener(lw,R),g=null}},createHref(ee){return e(r,ee)},createURL:V,encodeLocation(ee){let B=V(ee);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:D,replace:W,go(ee){return h.go(ee)}};return Y}var uw;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(uw||(uw={}));function hR(i,e,t){return t===void 0&&(t="/"),uR(i,e,t)}function uR(i,e,t,s){let r=typeof e=="string"?Xo(e):e,o=sE(r.pathname||"/",t);if(o==null)return null;let h=tE(i);dR(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let x=ER(o);p=wR(h[g],x)}return p}function tE(i,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let r=(o,h,p)=>{let g={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:h,route:o};g.relativePath.startsWith("/")&&(ui(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let x=No([s,g.relativePath]),k=t.concat(g);o.children&&o.children.length>0&&(ui(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),tE(o.children,e,k,x)),!(o.path==null&&!o.index)&&e.push({path:x,score:vR(x,o.index),routesMeta:k})};return i.forEach((o,h)=>{var p;if(o.path===""||!((p=o.path)!=null&&p.includes("?")))r(o,h);else for(let g of iE(o.path))r(o,h,g)}),e}function iE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let h=iE(s.join("/")),p=[];return p.push(...h.map(g=>g===""?o:[o,g].join("/"))),r&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function dR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:yR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const cR=/^:[\w-]+$/,pR=3,fR=2,mR=1,gR=10,bR=-2,dw=i=>i==="*";function vR(i,e){let t=i.split("/"),s=t.length;return t.some(dw)&&(s+=bR),e&&(s+=fR),t.filter(r=>!dw(r)).reduce((r,o)=>r+(cR.test(o)?pR:o===""?mR:gR),s)}function yR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,r)=>s===e[r])?i[i.length-1]-e[e.length-1]:0}function wR(i,e,t){let{routesMeta:s}=i,r={},o="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],x=p===s.length-1,k=o==="/"?e:e.slice(o.length)||"/",R=xR({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},k),D=g.route;if(!R)return null;Object.assign(r,R.params),h.push({params:r,pathname:No([o,R.pathname]),pathnameBase:TR(No([o,R.pathnameBase])),route:D}),R.pathnameBase!=="/"&&(o=No([o,R.pathnameBase]))}return h}function xR(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=CR(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let o=r[0],h=o.replace(/(.)\/+$/,"$1"),p=r.slice(1);return{params:s.reduce((x,k,R)=>{let{paramName:D,isOptional:W}=k;if(D==="*"){let Y=p[R]||"";h=o.slice(0,o.length-Y.length).replace(/(.)\/+$/,"$1")}const V=p[R];return W&&!V?x[D]=void 0:x[D]=(V||"").replace(/%2F/g,"/"),x},{}),pathname:o,pathnameBase:h,pattern:i}}function CR(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),fv(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function ER(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fv(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function sE(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function kR(i,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:r=""}=typeof i=="string"?Xo(i):i;return{pathname:t?t.startsWith("/")?t:SR(t,e):e,search:RR(s),hash:LR(r)}}function SR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function tg(i,e,t,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rE(i,e){let t=MR(i);return e?t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function nE(i,e,t,s){s===void 0&&(s=!1);let r;typeof i=="string"?r=Xo(i):(r=Wh({},i),ui(!r.pathname||!r.pathname.includes("?"),tg("?","pathname","search",r)),ui(!r.pathname||!r.pathname.includes("#"),tg("#","pathname","hash",r)),ui(!r.search||!r.search.includes("#"),tg("#","search","hash",r)));let o=i===""||r.pathname==="",h=o?"/":r.pathname,p;if(h==null)p=t;else{let R=e.length-1;if(!s&&h.startsWith("..")){let D=h.split("/");for(;D[0]==="..";)D.shift(),R-=1;r.pathname=D.join("/")}p=R>=0?e[R]:"/"}let g=kR(r,p),x=h&&h!=="/"&&h.endsWith("/"),k=(o||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(x||k)&&(g.pathname+="/"),g}const No=i=>i.join("/").replace(/\/\/+/g,"/"),TR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,LR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function PR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const oE=["post","put","patch","delete"];new Set(oE);const AR=["get",...oE];new Set(AR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Vh.apply(this,arguments)}const mv=he.createContext(null),OR=he.createContext(null),Kh=he.createContext(null),wp=he.createContext(null),Yn=he.createContext({outlet:null,matches:[],isDataRoute:!1}),aE=he.createContext(null);function qh(){return he.useContext(wp)!=null}function xp(){return qh()||ui(!1),he.useContext(wp).location}function lE(i){he.useContext(Kh).static||he.useLayoutEffect(i)}function Jh(){let{isDataRoute:i}=he.useContext(Yn);return i?XR():DR()}function DR(){qh()||ui(!1);let i=he.useContext(mv),{basename:e,future:t,navigator:s}=he.useContext(Kh),{matches:r}=he.useContext(Yn),{pathname:o}=xp(),h=JSON.stringify(rE(r,t.v7_relativeSplatPath)),p=he.useRef(!1);return lE(()=>{p.current=!0}),he.useCallback(function(x,k){if(k===void 0&&(k={}),!p.current)return;if(typeof x=="number"){s.go(x);return}let R=nE(x,JSON.parse(h),o,k.relative==="path");i==null&&e!=="/"&&(R.pathname=R.pathname==="/"?e:No([e,R.pathname])),(k.replace?s.replace:s.push)(R,k.state,k)},[e,s,h,o,i])}function zR(){let{matches:i}=he.useContext(Yn),e=i[i.length-1];return e?e.params:{}}function NR(i,e){return FR(i,e)}function FR(i,e,t,s){qh()||ui(!1);let{navigator:r}=he.useContext(Kh),{matches:o}=he.useContext(Yn),h=o[o.length-1],p=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let x=xp(),k;if(e){var R;let ee=typeof e=="string"?Xo(e):e;g==="/"||(R=ee.pathname)!=null&&R.startsWith(g)||ui(!1),k=ee}else k=x;let D=k.pathname||"/",W=D;if(g!=="/"){let ee=g.replace(/^\//,"").split("/");W="/"+D.replace(/^\//,"").split("/").slice(ee.length).join("/")}let V=hR(i,{pathname:W}),Y=jR(V&&V.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:No([g,r.encodeLocation?r.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?g:No([g,r.encodeLocation?r.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),o,t,s);return e&&Y?he.createElement(wp.Provider,{value:{location:Vh({pathname:"/",search:"",hash:"",state:null,key:"default"},k),navigationType:Dn.Pop}},Y):Y}function IR(){let i=GR(),e=PR(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),t?he.createElement("pre",{style:r},t):null,null)}const HR=he.createElement(IR,null);class BR extends he.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?he.createElement(Yn.Provider,{value:this.props.routeContext},he.createElement(aE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _R(i){let{routeContext:e,match:t,children:s}=i,r=he.useContext(mv);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),he.createElement(Yn.Provider,{value:e},s)}function jR(i,e,t,s){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),i==null){var o;if(!t)return null;if(t.errors)i=t.matches;else if((o=s)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let h=i,p=(r=t)==null?void 0:r.errors;if(p!=null){let k=h.findIndex(R=>R.route.id&&(p==null?void 0:p[R.route.id])!==void 0);k>=0||ui(!1),h=h.slice(0,Math.min(h.length,k+1))}let g=!1,x=-1;if(t&&s&&s.v7_partialHydration)for(let k=0;k<h.length;k++){let R=h[k];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(x=k),R.route.id){let{loaderData:D,errors:W}=t,V=R.route.loader&&D[R.route.id]===void 0&&(!W||W[R.route.id]===void 0);if(R.route.lazy||V){g=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((k,R,D)=>{let W,V=!1,Y=null,ee=null;t&&(W=p&&R.route.id?p[R.route.id]:void 0,Y=R.route.errorElement||HR,g&&(x<0&&D===0?(YR("route-fallback"),V=!0,ee=null):x===D&&(V=!0,ee=R.route.hydrateFallbackElement||null)));let B=e.concat(h.slice(0,D+1)),j=()=>{let X;return W?X=Y:V?X=ee:R.route.Component?X=he.createElement(R.route.Component,null):R.route.element?X=R.route.element:X=k,he.createElement(_R,{match:R,routeContext:{outlet:k,matches:B,isDataRoute:t!=null},children:X})};return t&&(R.route.ErrorBoundary||R.route.errorElement||D===0)?he.createElement(BR,{location:t.location,revalidation:t.revalidation,component:Y,error:W,children:j(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):j()},null)}var hE=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(hE||{}),uE=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(uE||{});function WR(i){let e=he.useContext(mv);return e||ui(!1),e}function VR(i){let e=he.useContext(OR);return e||ui(!1),e}function UR(i){let e=he.useContext(Yn);return e||ui(!1),e}function dE(i){let e=UR(),t=e.matches[e.matches.length-1];return t.route.id||ui(!1),t.route.id}function GR(){var i;let e=he.useContext(aE),t=VR(),s=dE();return e!==void 0?e:(i=t.errors)==null?void 0:i[s]}function XR(){let{router:i}=WR(hE.UseNavigateStable),e=dE(uE.UseNavigateStable),t=he.useRef(!1);return lE(()=>{t.current=!0}),he.useCallback(function(r,o){o===void 0&&(o={}),t.current&&(typeof r=="number"?i.navigate(r):i.navigate(r,Vh({fromRouteId:e},o)))},[i,e])}const cw={};function YR(i,e,t){cw[i]||(cw[i]=!0)}function $R(i,e){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function pw(i){let{to:e,replace:t,state:s,relative:r}=i;qh()||ui(!1);let{future:o,static:h}=he.useContext(Kh),{matches:p}=he.useContext(Yn),{pathname:g}=xp(),x=Jh(),k=nE(e,rE(p,o.v7_relativeSplatPath),g,r==="path"),R=JSON.stringify(k);return he.useEffect(()=>x(JSON.parse(R),{replace:t,state:s,relative:r}),[x,R,r,t,s]),null}function hh(i){ui(!1)}function KR(i){let{basename:e="/",children:t=null,location:s,navigationType:r=Dn.Pop,navigator:o,static:h=!1,future:p}=i;qh()&&ui(!1);let g=e.replace(/^\/*/,"/"),x=he.useMemo(()=>({basename:g,navigator:o,static:h,future:Vh({v7_relativeSplatPath:!1},p)}),[g,p,o,h]);typeof s=="string"&&(s=Xo(s));let{pathname:k="/",search:R="",hash:D="",state:W=null,key:V="default"}=s,Y=he.useMemo(()=>{let ee=sE(k,g);return ee==null?null:{location:{pathname:ee,search:R,hash:D,state:W,key:V},navigationType:r}},[g,k,R,D,W,V,r]);return Y==null?null:he.createElement(Kh.Provider,{value:x},he.createElement(wp.Provider,{children:t,value:Y}))}function qR(i){let{children:e,location:t}=i;return NR(ib(e),t)}new Promise(()=>{});function ib(i,e){e===void 0&&(e=[]);let t=[];return he.Children.forEach(i,(s,r)=>{if(!he.isValidElement(s))return;let o=[...e,r];if(s.type===he.Fragment){t.push.apply(t,ib(s.props.children,o));return}s.type!==hh&&ui(!1),!s.props.index||!s.props.children||ui(!1);let h={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ib(s.props.children,o)),t.push(h)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const JR="6";try{window.__reactRouterVersion=JR}catch{}const ZR="startTransition",fw=$S[ZR];function QR(i){let{basename:e,children:t,future:s,window:r}=i,o=he.useRef();o.current==null&&(o.current=oR({window:r,v5Compat:!0}));let h=o.current,[p,g]=he.useState({action:h.action,location:h.location}),{v7_startTransition:x}=s||{},k=he.useCallback(R=>{x&&fw?fw(()=>g(R)):g(R)},[g,x]);return he.useLayoutEffect(()=>h.listen(k),[h,k]),he.useEffect(()=>$R(s),[s]),he.createElement(KR,{basename:e,children:t,location:p.location,navigationType:p.action,navigator:h,future:s})}var mw;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(mw||(mw={}));var gw;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(gw||(gw={}));const cE=he.createContext(void 0),sh="auth_user",eL=({children:i})=>{const[e,t]=he.useState(()=>{try{const o=localStorage.getItem(sh);return o?JSON.parse(o):null}catch{return null}});he.useEffect(()=>{try{e?localStorage.setItem(sh,JSON.stringify(e)):localStorage.removeItem(sh)}catch{}},[e]);const s=(o,h=!0)=>{if(t(o),!h)try{localStorage.removeItem(sh)}catch{}},r=()=>{t(null);try{localStorage.removeItem(sh)}catch{}};return U.jsx(cE.Provider,{value:{user:e,isAuthenticated:!!e,login:s,logout:r},children:i})},Cp=()=>{const i=he.useContext(cE);if(!i)throw new Error("useAuth must be used within AuthProvider");return i},pE="/enquiry-react/assets/logo-2-D60F1Dlf.svg",tL=({logo:i=pE,version:e})=>{const t=Jh(),{user:s,logout:r,isAuthenticated:o}=Cp(),h=he.useRef(null),[p,g]=he.useState(!1),[x,k]=he.useState(0);he.useEffect(()=>{const D=()=>{h.current&&k(h.current.offsetHeight)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),he.useEffect(()=>{const D=()=>{const W=window.scrollY||window.pageYOffset;g(W>x)};return D(),window.addEventListener("scroll",D,{passive:!0}),()=>window.removeEventListener("scroll",D)},[x]);const R=()=>{r(),t("/login",{replace:!0})};return U.jsxs(U.Fragment,{children:[p&&U.jsx("div",{style:{height:x},"aria-hidden":"true"}),U.jsx("header",{ref:h,className:(p?"fixed top-0 left-0 right-0 z-40 shadow-sm ":"relative ")+"w-full border-b bg-white",children:U.jsxs("div",{className:"max-w-full mx-auto px-4 py-2 flex items-center justify-between",children:[U.jsx("div",{className:"flex items-center space-x-3",children:U.jsx("img",{src:i,alt:"Project logo",className:"h-8"})}),U.jsxs("div",{className:"flex items-center space-x-4",children:[e&&U.jsx("div",{className:"text-xs text-slate-500",children:e}),o&&s?U.jsxs("div",{className:"flex items-center space-x-3",children:[U.jsx("span",{className:"text-sm text-slate-700 hidden sm:inline",children:s.name||s.username}),U.jsx("button",{onClick:R,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Log out",children:"Log out"})]}):null]})]})})]})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sL=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),bw=i=>{const e=sL(i);return e.charAt(0).toUpperCase()+e.slice(1)},fE=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),rL=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=he.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:h,...p},g)=>he.createElement("svg",{ref:g,...nL,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:fE("lucide",r),...!o&&!rL(p)&&{"aria-hidden":"true"},...p},[...h.map(([x,k])=>he.createElement(x,k)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=(i,e)=>{const t=he.forwardRef(({className:s,...r},o)=>he.createElement(oL,{ref:o,iconNode:e,className:fE(`lucide-${iL(bw(i))}`,`lucide-${i}`,s),...r}));return t.displayName=bw(i),t};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],mE=Cr("camera",aL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hL=Cr("chevron-down",lL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],dL=Cr("layout-grid",uL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],pL=Cr("list",cL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],mL=Cr("log-in",fL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sb=Cr("map-pin",gL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vL=Cr("plus",bL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wL=Cr("save",yL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CL=Cr("search",xL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],kL=Cr("undo-2",EL),SL="/enquiry-react/assets/logo-1-BwAZk0Yt.svg";function gE(i,e){return function(){return i.apply(e,arguments)}}const{toString:ML}=Object.prototype,{getPrototypeOf:gv}=Object,{iterator:Ep,toStringTag:bE}=Symbol,kp=(i=>e=>{const t=ML.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ir=i=>(i=i.toLowerCase(),e=>kp(e)===i),Sp=i=>e=>typeof e===i,{isArray:sl}=Array,Qa=Sp("undefined");function Zh(i){return i!==null&&!Qa(i)&&i.constructor!==null&&!Qa(i.constructor)&&ls(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const vE=ir("ArrayBuffer");function TL(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&vE(i.buffer),e}const RL=Sp("string"),ls=Sp("function"),yE=Sp("number"),Qh=i=>i!==null&&typeof i=="object",LL=i=>i===!0||i===!1,lc=i=>{if(kp(i)!=="object")return!1;const e=gv(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(bE in i)&&!(Ep in i)},PL=i=>{if(!Qh(i)||Zh(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},AL=ir("Date"),OL=ir("File"),DL=ir("Blob"),zL=ir("FileList"),NL=i=>Qh(i)&&ls(i.pipe),FL=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||ls(i.append)&&((e=kp(i))==="formdata"||e==="object"&&ls(i.toString)&&i.toString()==="[object FormData]"))},IL=ir("URLSearchParams"),[HL,BL,_L,jL]=["ReadableStream","Request","Response","Headers"].map(ir),WL=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,r;if(typeof i!="object"&&(i=[i]),sl(i))for(s=0,r=i.length;s<r;s++)e.call(null,i[s],s,i);else{if(Zh(i))return;const o=t?Object.getOwnPropertyNames(i):Object.keys(i),h=o.length;let p;for(s=0;s<h;s++)p=o[s],e.call(null,i[p],p,i)}}function wE(i,e){if(Zh(i))return null;e=e.toLowerCase();const t=Object.keys(i);let s=t.length,r;for(;s-- >0;)if(r=t[s],e===r.toLowerCase())return r;return null}const Oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xE=i=>!Qa(i)&&i!==Oo;function rb(){const{caseless:i,skipUndefined:e}=xE(this)&&this||{},t={},s=(r,o)=>{const h=i&&wE(t,o)||o;lc(t[h])&&lc(r)?t[h]=rb(t[h],r):lc(r)?t[h]=rb({},r):sl(r)?t[h]=r.slice():(!e||!Qa(r))&&(t[h]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&eu(arguments[r],s);return t}const VL=(i,e,t,{allOwnKeys:s}={})=>(eu(e,(r,o)=>{t&&ls(r)?i[o]=gE(r,t):i[o]=r},{allOwnKeys:s}),i),UL=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),GL=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},XL=(i,e,t,s)=>{let r,o,h;const p={};if(e=e||{},i==null)return e;do{for(r=Object.getOwnPropertyNames(i),o=r.length;o-- >0;)h=r[o],(!s||s(h,i,e))&&!p[h]&&(e[h]=i[h],p[h]=!0);i=t!==!1&&gv(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},YL=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},$L=i=>{if(!i)return null;if(sl(i))return i;let e=i.length;if(!yE(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},KL=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&gv(Uint8Array)),qL=(i,e)=>{const s=(i&&i[Ep]).call(i);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(i,o[0],o[1])}},JL=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},ZL=ir("HTMLFormElement"),QL=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,r){return s.toUpperCase()+r}),vw=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),eP=ir("RegExp"),CE=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};eu(t,(r,o)=>{let h;(h=e(r,o,i))!==!1&&(s[o]=h||r)}),Object.defineProperties(i,s)},tP=i=>{CE(i,(e,t)=>{if(ls(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(ls(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},iP=(i,e)=>{const t={},s=r=>{r.forEach(o=>{t[o]=!0})};return sl(i)?s(i):s(String(i).split(e)),t},sP=()=>{},rP=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function nP(i){return!!(i&&ls(i.append)&&i[bE]==="FormData"&&i[Ep])}const oP=i=>{const e=new Array(10),t=(s,r)=>{if(Qh(s)){if(e.indexOf(s)>=0)return;if(Zh(s))return s;if(!("toJSON"in s)){e[r]=s;const o=sl(s)?[]:{};return eu(s,(h,p)=>{const g=t(h,r+1);!Qa(g)&&(o[p]=g)}),e[r]=void 0,o}}return s};return t(i,0)},aP=ir("AsyncFunction"),lP=i=>i&&(Qh(i)||ls(i))&&ls(i.then)&&ls(i.catch),EE=((i,e)=>i?setImmediate:e?((t,s)=>(Oo.addEventListener("message",({source:r,data:o})=>{r===Oo&&o===t&&s.length&&s.shift()()},!1),r=>{s.push(r),Oo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ls(Oo.postMessage)),hP=typeof queueMicrotask<"u"?queueMicrotask.bind(Oo):typeof process<"u"&&process.nextTick||EE,uP=i=>i!=null&&ls(i[Ep]),de={isArray:sl,isArrayBuffer:vE,isBuffer:Zh,isFormData:FL,isArrayBufferView:TL,isString:RL,isNumber:yE,isBoolean:LL,isObject:Qh,isPlainObject:lc,isEmptyObject:PL,isReadableStream:HL,isRequest:BL,isResponse:_L,isHeaders:jL,isUndefined:Qa,isDate:AL,isFile:OL,isBlob:DL,isRegExp:eP,isFunction:ls,isStream:NL,isURLSearchParams:IL,isTypedArray:KL,isFileList:zL,forEach:eu,merge:rb,extend:VL,trim:WL,stripBOM:UL,inherits:GL,toFlatObject:XL,kindOf:kp,kindOfTest:ir,endsWith:YL,toArray:$L,forEachEntry:qL,matchAll:JL,isHTMLForm:ZL,hasOwnProperty:vw,hasOwnProp:vw,reduceDescriptors:CE,freezeMethods:tP,toObjectSet:iP,toCamelCase:QL,noop:sP,toFiniteNumber:rP,findKey:wE,global:Oo,isContextDefined:xE,isSpecCompliantForm:nP,toJSONObject:oP,isAsyncFn:aP,isThenable:lP,setImmediate:EE,asap:hP,isIterable:uP};function tt(i,e,t,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}de.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const kE=tt.prototype,SE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{SE[i]={value:i}});Object.defineProperties(tt,SE);Object.defineProperty(kE,"isAxiosError",{value:!0});tt.from=(i,e,t,s,r,o)=>{const h=Object.create(kE);de.toFlatObject(i,h,function(k){return k!==Error.prototype},x=>x!=="isAxiosError");const p=i&&i.message?i.message:"Error",g=e==null&&i?i.code:e;return tt.call(h,p,g,t,s,r),i&&h.cause==null&&Object.defineProperty(h,"cause",{value:i,configurable:!0}),h.name=i&&i.name||"Error",o&&Object.assign(h,o),h};const dP=null;function nb(i){return de.isPlainObject(i)||de.isArray(i)}function ME(i){return de.endsWith(i,"[]")?i.slice(0,-2):i}function yw(i,e,t){return i?i.concat(e).map(function(r,o){return r=ME(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function cP(i){return de.isArray(i)&&!i.some(nb)}const pP=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function Mp(i,e,t){if(!de.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=de.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Y,ee){return!de.isUndefined(ee[Y])});const s=t.metaTokens,r=t.visitor||k,o=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(r))throw new TypeError("visitor must be a function");function x(V){if(V===null)return"";if(de.isDate(V))return V.toISOString();if(de.isBoolean(V))return V.toString();if(!g&&de.isBlob(V))throw new tt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(V)||de.isTypedArray(V)?g&&typeof Blob=="function"?new Blob([V]):Buffer.from(V):V}function k(V,Y,ee){let B=V;if(V&&!ee&&typeof V=="object"){if(de.endsWith(Y,"{}"))Y=s?Y:Y.slice(0,-2),V=JSON.stringify(V);else if(de.isArray(V)&&cP(V)||(de.isFileList(V)||de.endsWith(Y,"[]"))&&(B=de.toArray(V)))return Y=ME(Y),B.forEach(function(X,Z){!(de.isUndefined(X)||X===null)&&e.append(h===!0?yw([Y],Z,o):h===null?Y:Y+"[]",x(X))}),!1}return nb(V)?!0:(e.append(yw(ee,Y,o),x(V)),!1)}const R=[],D=Object.assign(pP,{defaultVisitor:k,convertValue:x,isVisitable:nb});function W(V,Y){if(!de.isUndefined(V)){if(R.indexOf(V)!==-1)throw Error("Circular reference detected in "+Y.join("."));R.push(V),de.forEach(V,function(B,j){(!(de.isUndefined(B)||B===null)&&r.call(e,B,de.isString(j)?j.trim():j,Y,D))===!0&&W(B,Y?Y.concat(j):[j])}),R.pop()}}if(!de.isObject(i))throw new TypeError("data must be an object");return W(i),e}function ww(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function bv(i,e){this._pairs=[],i&&Mp(i,this,e)}const TE=bv.prototype;TE.append=function(e,t){this._pairs.push([e,t])};TE.toString=function(e){const t=e?function(s){return e.call(this,s,ww)}:ww;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function fP(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RE(i,e,t){if(!e)return i;const s=t&&t.encode||fP;de.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=de.isURLSearchParams(e)?e.toString():new bv(e,t).toString(s),o){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+o}return i}class xw{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(s){s!==null&&e(s)})}}const LE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mP=typeof URLSearchParams<"u"?URLSearchParams:bv,gP=typeof FormData<"u"?FormData:null,bP=typeof Blob<"u"?Blob:null,vP={isBrowser:!0,classes:{URLSearchParams:mP,FormData:gP,Blob:bP},protocols:["http","https","file","blob","url","data"]},vv=typeof window<"u"&&typeof document<"u",ob=typeof navigator=="object"&&navigator||void 0,yP=vv&&(!ob||["ReactNative","NativeScript","NS"].indexOf(ob.product)<0),wP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xP=vv&&window.location.href||"http://localhost",CP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vv,hasStandardBrowserEnv:yP,hasStandardBrowserWebWorkerEnv:wP,navigator:ob,origin:xP},Symbol.toStringTag,{value:"Module"})),ji={...CP,...vP};function EP(i,e){return Mp(i,new ji.classes.URLSearchParams,{visitor:function(t,s,r,o){return ji.isNode&&de.isBuffer(t)?(this.append(s,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function kP(i){return de.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SP(i){const e={},t=Object.keys(i);let s;const r=t.length;let o;for(s=0;s<r;s++)o=t[s],e[o]=i[o];return e}function PE(i){function e(t,s,r,o){let h=t[o++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),g=o>=t.length;return h=!h&&de.isArray(r)?r.length:h,g?(de.hasOwnProp(r,h)?r[h]=[r[h],s]:r[h]=s,!p):((!r[h]||!de.isObject(r[h]))&&(r[h]=[]),e(t,s,r[h],o)&&de.isArray(r[h])&&(r[h]=SP(r[h])),!p)}if(de.isFormData(i)&&de.isFunction(i.entries)){const t={};return de.forEachEntry(i,(s,r)=>{e(kP(s),r,t,0)}),t}return null}function MP(i,e,t){if(de.isString(i))try{return(e||JSON.parse)(i),de.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const tu={transitional:LE,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,o=de.isObject(e);if(o&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return r?JSON.stringify(PE(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return EP(e,this.formSerializer).toString();if((p=de.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Mp(p?{"files[]":e}:e,g&&new g,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),MP(e)):e}],transformResponse:[function(e){const t=this.transitional||tu.transitional,s=t&&t.forcedJSONParsing,r=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(s&&!this.responseType||r)){const h=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?tt.from(p,tt.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ji.classes.FormData,Blob:ji.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],i=>{tu.headers[i]={}});const TP=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RP=i=>{const e={};let t,s,r;return i&&i.split(`
`).forEach(function(h){r=h.indexOf(":"),t=h.substring(0,r).trim().toLowerCase(),s=h.substring(r+1).trim(),!(!t||e[t]&&TP[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},Cw=Symbol("internals");function rh(i){return i&&String(i).trim().toLowerCase()}function hc(i){return i===!1||i==null?i:de.isArray(i)?i.map(hc):String(i)}function LP(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const PP=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function ig(i,e,t,s,r){if(de.isFunction(s))return s.call(this,e,t);if(r&&(e=t),!!de.isString(e)){if(de.isString(s))return e.indexOf(s)!==-1;if(de.isRegExp(s))return s.test(e)}}function AP(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function OP(i,e){const t=de.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(r,o,h){return this[s].call(this,e,r,o,h)},configurable:!0})})}let hs=class{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function o(p,g,x){const k=rh(g);if(!k)throw new Error("header name must be a non-empty string");const R=de.findKey(r,k);(!R||r[R]===void 0||x===!0||x===void 0&&r[R]!==!1)&&(r[R||g]=hc(p))}const h=(p,g)=>de.forEach(p,(x,k)=>o(x,k,g));if(de.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(de.isString(e)&&(e=e.trim())&&!PP(e))h(RP(e),t);else if(de.isObject(e)&&de.isIterable(e)){let p={},g,x;for(const k of e){if(!de.isArray(k))throw TypeError("Object iterator must return a key-value pair");p[x=k[0]]=(g=p[x])?de.isArray(g)?[...g,k[1]]:[g,k[1]]:k[1]}h(p,t)}else e!=null&&o(t,e,s);return this}get(e,t){if(e=rh(e),e){const s=de.findKey(this,e);if(s){const r=this[s];if(!t)return r;if(t===!0)return LP(r);if(de.isFunction(t))return t.call(this,r,s);if(de.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rh(e),e){const s=de.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||ig(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let r=!1;function o(h){if(h=rh(h),h){const p=de.findKey(s,h);p&&(!t||ig(s,s[p],p,t))&&(delete s[p],r=!0)}}return de.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const o=t[s];(!e||ig(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,s={};return de.forEach(this,(r,o)=>{const h=de.findKey(s,o);if(h){t[h]=hc(r),delete t[o];return}const p=e?AP(o):String(o).trim();p!==o&&delete t[o],t[p]=hc(r),s[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return de.forEach(this,(s,r)=>{s!=null&&s!==!1&&(t[r]=e&&de.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[Cw]=this[Cw]={accessors:{}}).accessors,r=this.prototype;function o(h){const p=rh(h);s[p]||(OP(r,h),s[p]=!0)}return de.isArray(e)?e.forEach(o):o(e),this}};hs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(hs.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});de.freezeMethods(hs);function sg(i,e){const t=this||tu,s=e||t,r=hs.from(s.headers);let o=s.data;return de.forEach(i,function(p){o=p.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function AE(i){return!!(i&&i.__CANCEL__)}function rl(i,e,t){tt.call(this,i??"canceled",tt.ERR_CANCELED,e,t),this.name="CanceledError"}de.inherits(rl,tt,{__CANCEL__:!0});function OE(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new tt("Request failed with status code "+t.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function DP(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function zP(i,e){i=i||10;const t=new Array(i),s=new Array(i);let r=0,o=0,h;return e=e!==void 0?e:1e3,function(g){const x=Date.now(),k=s[o];h||(h=x),t[r]=g,s[r]=x;let R=o,D=0;for(;R!==r;)D+=t[R++],R=R%i;if(r=(r+1)%i,r===o&&(o=(o+1)%i),x-h<e)return;const W=k&&x-k;return W?Math.round(D*1e3/W):void 0}}function NP(i,e){let t=0,s=1e3/e,r,o;const h=(x,k=Date.now())=>{t=k,r=null,o&&(clearTimeout(o),o=null),i(...x)};return[(...x)=>{const k=Date.now(),R=k-t;R>=s?h(x,k):(r=x,o||(o=setTimeout(()=>{o=null,h(r)},s-R)))},()=>r&&h(r)]}const Fc=(i,e,t=3)=>{let s=0;const r=zP(50,250);return NP(o=>{const h=o.loaded,p=o.lengthComputable?o.total:void 0,g=h-s,x=r(g),k=h<=p;s=h;const R={loaded:h,total:p,progress:p?h/p:void 0,bytes:g,rate:x||void 0,estimated:x&&p&&k?(p-h)/x:void 0,event:o,lengthComputable:p!=null,[e?"download":"upload"]:!0};i(R)},t)},Ew=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},kw=i=>(...e)=>de.asap(()=>i(...e)),FP=ji.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,ji.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(ji.origin),ji.navigator&&/(msie|trident)/i.test(ji.navigator.userAgent)):()=>!0,IP=ji.hasStandardBrowserEnv?{write(i,e,t,s,r,o){const h=[i+"="+encodeURIComponent(e)];de.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),de.isString(s)&&h.push("path="+s),de.isString(r)&&h.push("domain="+r),o===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function HP(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function BP(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function DE(i,e,t){let s=!HP(e);return i&&(s||t==!1)?BP(i,e):e}const Sw=i=>i instanceof hs?{...i}:i;function Vo(i,e){e=e||{};const t={};function s(x,k,R,D){return de.isPlainObject(x)&&de.isPlainObject(k)?de.merge.call({caseless:D},x,k):de.isPlainObject(k)?de.merge({},k):de.isArray(k)?k.slice():k}function r(x,k,R,D){if(de.isUndefined(k)){if(!de.isUndefined(x))return s(void 0,x,R,D)}else return s(x,k,R,D)}function o(x,k){if(!de.isUndefined(k))return s(void 0,k)}function h(x,k){if(de.isUndefined(k)){if(!de.isUndefined(x))return s(void 0,x)}else return s(void 0,k)}function p(x,k,R){if(R in e)return s(x,k);if(R in i)return s(void 0,x)}const g={url:o,method:o,data:o,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(x,k,R)=>r(Sw(x),Sw(k),R,!0)};return de.forEach(Object.keys({...i,...e}),function(k){const R=g[k]||r,D=R(i[k],e[k],k);de.isUndefined(D)&&R!==p||(t[k]=D)}),t}const zE=i=>{const e=Vo({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:h,auth:p}=e;if(e.headers=h=hs.from(h),e.url=RE(DE(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),de.isFormData(t)){if(ji.hasStandardBrowserEnv||ji.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(de.isFunction(t.getHeaders)){const g=t.getHeaders(),x=["content-type","content-length"];Object.entries(g).forEach(([k,R])=>{x.includes(k.toLowerCase())&&h.set(k,R)})}}if(ji.hasStandardBrowserEnv&&(s&&de.isFunction(s)&&(s=s(e)),s||s!==!1&&FP(e.url))){const g=r&&o&&IP.read(o);g&&h.set(r,g)}return e},_P=typeof XMLHttpRequest<"u",jP=_P&&function(i){return new Promise(function(t,s){const r=zE(i);let o=r.data;const h=hs.from(r.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:x}=r,k,R,D,W,V;function Y(){W&&W(),V&&V(),r.cancelToken&&r.cancelToken.unsubscribe(k),r.signal&&r.signal.removeEventListener("abort",k)}let ee=new XMLHttpRequest;ee.open(r.method.toUpperCase(),r.url,!0),ee.timeout=r.timeout;function B(){if(!ee)return;const X=hs.from("getAllResponseHeaders"in ee&&ee.getAllResponseHeaders()),ce={data:!p||p==="text"||p==="json"?ee.responseText:ee.response,status:ee.status,statusText:ee.statusText,headers:X,config:i,request:ee};OE(function(Te){t(Te),Y()},function(Te){s(Te),Y()},ce),ee=null}"onloadend"in ee?ee.onloadend=B:ee.onreadystatechange=function(){!ee||ee.readyState!==4||ee.status===0&&!(ee.responseURL&&ee.responseURL.indexOf("file:")===0)||setTimeout(B)},ee.onabort=function(){ee&&(s(new tt("Request aborted",tt.ECONNABORTED,i,ee)),ee=null)},ee.onerror=function(Z){const ce=Z&&Z.message?Z.message:"Network Error",fe=new tt(ce,tt.ERR_NETWORK,i,ee);fe.event=Z||null,s(fe),ee=null},ee.ontimeout=function(){let Z=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const ce=r.transitional||LE;r.timeoutErrorMessage&&(Z=r.timeoutErrorMessage),s(new tt(Z,ce.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,i,ee)),ee=null},o===void 0&&h.setContentType(null),"setRequestHeader"in ee&&de.forEach(h.toJSON(),function(Z,ce){ee.setRequestHeader(ce,Z)}),de.isUndefined(r.withCredentials)||(ee.withCredentials=!!r.withCredentials),p&&p!=="json"&&(ee.responseType=r.responseType),x&&([D,V]=Fc(x,!0),ee.addEventListener("progress",D)),g&&ee.upload&&([R,W]=Fc(g),ee.upload.addEventListener("progress",R),ee.upload.addEventListener("loadend",W)),(r.cancelToken||r.signal)&&(k=X=>{ee&&(s(!X||X.type?new rl(null,i,ee):X),ee.abort(),ee=null)},r.cancelToken&&r.cancelToken.subscribe(k),r.signal&&(r.signal.aborted?k():r.signal.addEventListener("abort",k)));const j=DP(r.url);if(j&&ji.protocols.indexOf(j)===-1){s(new tt("Unsupported protocol "+j+":",tt.ERR_BAD_REQUEST,i));return}ee.send(o||null)})},WP=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,r;const o=function(x){if(!r){r=!0,p();const k=x instanceof Error?x:this.reason;s.abort(k instanceof tt?k:new rl(k instanceof Error?k.message:k))}};let h=e&&setTimeout(()=>{h=null,o(new tt(`timeout ${e} of ms exceeded`,tt.ETIMEDOUT))},e);const p=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(x=>{x.unsubscribe?x.unsubscribe(o):x.removeEventListener("abort",o)}),i=null)};i.forEach(x=>x.addEventListener("abort",o));const{signal:g}=s;return g.unsubscribe=()=>de.asap(p),g}},VP=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,r;for(;s<t;)r=s+e,yield i.slice(s,r),s=r},UP=async function*(i,e){for await(const t of GP(i))yield*VP(t,e)},GP=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Mw=(i,e,t,s)=>{const r=UP(i,e);let o=0,h,p=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:x,value:k}=await r.next();if(x){p(),g.close();return}let R=k.byteLength;if(t){let D=o+=R;t(D)}g.enqueue(new Uint8Array(k))}catch(x){throw p(x),x}},cancel(g){return p(g),r.return()}},{highWaterMark:2})},Tw=64*1024,{isFunction:Xd}=de,XP=(({Request:i,Response:e})=>({Request:i,Response:e}))(de.global),{ReadableStream:Rw,TextEncoder:Lw}=de.global,Pw=(i,...e)=>{try{return!!i(...e)}catch{return!1}},YP=i=>{i=de.merge.call({skipUndefined:!0},XP,i);const{fetch:e,Request:t,Response:s}=i,r=e?Xd(e):typeof fetch=="function",o=Xd(t),h=Xd(s);if(!r)return!1;const p=r&&Xd(Rw),g=r&&(typeof Lw=="function"?(V=>Y=>V.encode(Y))(new Lw):async V=>new Uint8Array(await new t(V).arrayBuffer())),x=o&&p&&Pw(()=>{let V=!1;const Y=new t(ji.origin,{body:new Rw,method:"POST",get duplex(){return V=!0,"half"}}).headers.has("Content-Type");return V&&!Y}),k=h&&p&&Pw(()=>de.isReadableStream(new s("").body)),R={stream:k&&(V=>V.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(V=>{!R[V]&&(R[V]=(Y,ee)=>{let B=Y&&Y[V];if(B)return B.call(Y);throw new tt(`Response type '${V}' is not supported`,tt.ERR_NOT_SUPPORT,ee)})});const D=async V=>{if(V==null)return 0;if(de.isBlob(V))return V.size;if(de.isSpecCompliantForm(V))return(await new t(ji.origin,{method:"POST",body:V}).arrayBuffer()).byteLength;if(de.isArrayBufferView(V)||de.isArrayBuffer(V))return V.byteLength;if(de.isURLSearchParams(V)&&(V=V+""),de.isString(V))return(await g(V)).byteLength},W=async(V,Y)=>{const ee=de.toFiniteNumber(V.getContentLength());return ee??D(Y)};return async V=>{let{url:Y,method:ee,data:B,signal:j,cancelToken:X,timeout:Z,onDownloadProgress:ce,onUploadProgress:fe,responseType:Te,headers:se,withCredentials:nt="same-origin",fetchOptions:_e}=zE(V),mt=e||fetch;Te=Te?(Te+"").toLowerCase():"text";let Ye=WP([j,X&&X.toAbortSignal()],Z),ii=null;const Vt=Ye&&Ye.unsubscribe&&(()=>{Ye.unsubscribe()});let Vi;try{if(fe&&x&&ee!=="get"&&ee!=="head"&&(Vi=await W(se,B))!==0){let ht=new t(Y,{method:"POST",body:B,duplex:"half"}),gt;if(de.isFormData(B)&&(gt=ht.headers.get("content-type"))&&se.setContentType(gt),ht.body){const[ni,Ut]=Ew(Vi,Fc(kw(fe)));B=Mw(ht.body,Tw,ni,Ut)}}de.isString(nt)||(nt=nt?"include":"omit");const Pt=o&&"credentials"in t.prototype,Ui={..._e,signal:Ye,method:ee.toUpperCase(),headers:se.normalize().toJSON(),body:B,duplex:"half",credentials:Pt?nt:void 0};ii=o&&new t(Y,Ui);let Pe=await(o?mt(ii,_e):mt(Y,Ui));const $e=k&&(Te==="stream"||Te==="response");if(k&&(ce||$e&&Vt)){const ht={};["status","statusText","headers"].forEach(Pi=>{ht[Pi]=Pe[Pi]});const gt=de.toFiniteNumber(Pe.headers.get("content-length")),[ni,Ut]=ce&&Ew(gt,Fc(kw(ce),!0))||[];Pe=new s(Mw(Pe.body,Tw,ni,()=>{Ut&&Ut(),Vt&&Vt()}),ht)}Te=Te||"text";let Xe=await R[de.findKey(R,Te)||"text"](Pe,V);return!$e&&Vt&&Vt(),await new Promise((ht,gt)=>{OE(ht,gt,{data:Xe,headers:hs.from(Pe.headers),status:Pe.status,statusText:Pe.statusText,config:V,request:ii})})}catch(Pt){throw Vt&&Vt(),Pt&&Pt.name==="TypeError"&&/Load failed|fetch/i.test(Pt.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,V,ii),{cause:Pt.cause||Pt}):tt.from(Pt,Pt&&Pt.code,V,ii)}}},$P=new Map,NE=i=>{let e=i?i.env:{};const{fetch:t,Request:s,Response:r}=e,o=[s,r,t];let h=o.length,p=h,g,x,k=$P;for(;p--;)g=o[p],x=k.get(g),x===void 0&&k.set(g,x=p?new Map:YP(e)),k=x;return x};NE();const ab={http:dP,xhr:jP,fetch:{get:NE}};de.forEach(ab,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const Aw=i=>`- ${i}`,KP=i=>de.isFunction(i)||i===null||i===!1,FE={getAdapter:(i,e)=>{i=de.isArray(i)?i:[i];const{length:t}=i;let s,r;const o={};for(let h=0;h<t;h++){s=i[h];let p;if(r=s,!KP(s)&&(r=ab[(p=String(s)).toLowerCase()],r===void 0))throw new tt(`Unknown adapter '${p}'`);if(r&&(de.isFunction(r)||(r=r.get(e))))break;o[p||"#"+h]=r}if(!r){const h=Object.entries(o).map(([g,x])=>`adapter ${g} `+(x===!1?"is not supported by the environment":"is not available in the build"));let p=t?h.length>1?`since :
`+h.map(Aw).join(`
`):" "+Aw(h[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return r},adapters:ab};function rg(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new rl(null,i)}function Ow(i){return rg(i),i.headers=hs.from(i.headers),i.data=sg.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),FE.getAdapter(i.adapter||tu.adapter,i)(i).then(function(s){return rg(i),s.data=sg.call(i,i.transformResponse,s),s.headers=hs.from(s.headers),s},function(s){return AE(s)||(rg(i),s&&s.response&&(s.response.data=sg.call(i,i.transformResponse,s.response),s.response.headers=hs.from(s.response.headers))),Promise.reject(s)})}const IE="1.12.2",Tp={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Tp[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const Dw={};Tp.transitional=function(e,t,s){function r(o,h){return"[Axios v"+IE+"] Transitional option '"+o+"'"+h+(s?". "+s:"")}return(o,h,p)=>{if(e===!1)throw new tt(r(h," has been removed"+(t?" in "+t:"")),tt.ERR_DEPRECATED);return t&&!Dw[h]&&(Dw[h]=!0,console.warn(r(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,h,p):!0}};Tp.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function qP(i,e,t){if(typeof i!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let r=s.length;for(;r-- >0;){const o=s[r],h=e[o];if(h){const p=i[o],g=p===void 0||h(p,o,i);if(g!==!0)throw new tt("option "+o+" must be "+g,tt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new tt("Unknown option "+o,tt.ERR_BAD_OPTION)}}const uc={assertOptions:qP,validators:Tp},gr=uc.validators;let Fo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xw,response:new xw}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Vo(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:o}=t;s!==void 0&&uc.assertOptions(s,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean)},!1),r!=null&&(de.isFunction(r)?t.paramsSerializer={serialize:r}:uc.assertOptions(r,{encode:gr.function,serialize:gr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),uc.assertOptions(t,{baseUrl:gr.spelling("baseURL"),withXsrfToken:gr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=o&&de.merge(o.common,o[t.method]);o&&de.forEach(["delete","get","head","post","put","patch","common"],V=>{delete o[V]}),t.headers=hs.concat(h,o);const p=[];let g=!0;this.interceptors.request.forEach(function(Y){typeof Y.runWhen=="function"&&Y.runWhen(t)===!1||(g=g&&Y.synchronous,p.unshift(Y.fulfilled,Y.rejected))});const x=[];this.interceptors.response.forEach(function(Y){x.push(Y.fulfilled,Y.rejected)});let k,R=0,D;if(!g){const V=[Ow.bind(this),void 0];for(V.unshift(...p),V.push(...x),D=V.length,k=Promise.resolve(t);R<D;)k=k.then(V[R++],V[R++]);return k}D=p.length;let W=t;for(;R<D;){const V=p[R++],Y=p[R++];try{W=V(W)}catch(ee){Y.call(this,ee);break}}try{k=Ow.call(this,W)}catch(V){return Promise.reject(V)}for(R=0,D=x.length;R<D;)k=k.then(x[R++],x[R++]);return k}getUri(e){e=Vo(this.defaults,e);const t=DE(e.baseURL,e.url,e.allowAbsoluteUrls);return RE(t,e.params,e.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(e){Fo.prototype[e]=function(t,s){return this.request(Vo(s||{},{method:e,url:t,data:(s||{}).data}))}});de.forEach(["post","put","patch"],function(e){function t(s){return function(o,h,p){return this.request(Vo(p||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:h}))}}Fo.prototype[e]=t(),Fo.prototype[e+"Form"]=t(!0)});let JP=class HE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const h=new Promise(p=>{s.subscribe(p),o=p}).then(r);return h.cancel=function(){s.unsubscribe(o)},h},e(function(o,h,p){s.reason||(s.reason=new rl(o,h,p),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new HE(function(r){e=r}),cancel:e}}};function ZP(i){return function(t){return i.apply(null,t)}}function QP(i){return de.isObject(i)&&i.isAxiosError===!0}const lb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lb).forEach(([i,e])=>{lb[e]=i});function BE(i){const e=new Fo(i),t=gE(Fo.prototype.request,e);return de.extend(t,Fo.prototype,e,{allOwnKeys:!0}),de.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return BE(Vo(i,r))},t}const ti=BE(tu);ti.Axios=Fo;ti.CanceledError=rl;ti.CancelToken=JP;ti.isCancel=AE;ti.VERSION=IE;ti.toFormData=Mp;ti.AxiosError=tt;ti.Cancel=ti.CanceledError;ti.all=function(e){return Promise.all(e)};ti.spread=ZP;ti.isAxiosError=QP;ti.mergeConfig=Vo;ti.AxiosHeaders=hs;ti.formToJSON=i=>PE(de.isHTMLForm(i)?new FormData(i):i);ti.getAdapter=FE.getAdapter;ti.HttpStatusCode=lb;ti.default=ti;const{Axios:_D,AxiosError:jD,CanceledError:WD,isCancel:VD,CancelToken:UD,VERSION:GD,all:XD,Cancel:YD,isAxiosError:$D,spread:KD,toFormData:qD,AxiosHeaders:JD,HttpStatusCode:ZD,formToJSON:QD,getAdapter:ez,mergeConfig:tz}=ti,_E="https://delta.radleypropertysolutions.com/demo_enquiry/promsrest",eA="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJSUzI1NmluT1RBIiwibmFtZSI6ICJSb25hbiBXaW50ZXJzIn0.N22IsnMkRoYTbelhQ4uCVWKCnlpXpCEzb3zeXqdZKav1b-QpR0AupYbjuLBg9nhcagphBlblN8u98GzDD26Pvcl7R-Izt5xAyxy6HdktqMqy_auhL8okW0-b-NMyhsK9IOYIL0Cbw-x6wcUUweuQcq8WwlcXn0r8C43rxMQ7M4COlFvnKc1zKQt70UMCDe3Fr11nBBIej2KwCimfH7KNUMz8PoHSUKG-HSm4Ai04tG2mZuZ_bD9yy13TJvZWg-VO0N0Emqq95-fED75lpXw0_nF-FPGgGab3I30KJeUEF9AT9_EhPZfXkY1ZdjcM3UMLKzkGDK2apJJh-SEGxesjFw",tA="AIzaSyAUkcEi0DvKJq-CVwzX7JgHk-Bbhe-8jZw",Yo=ti.create({baseURL:_E,headers:{Authorization:`Bearer ${eA}`,"Content-Type":"application/json"}}),iA=async i=>{try{return(await Yo.get("/validatetoken")).data}catch(e){throw console.error("Error fetching recent deals:",e),e}},sA=async i=>{const e="Investor Demo";try{return(await Yo.get(`/getrecentdeals/${i}/${e}`)).data}catch(t){throw console.error("Error fetching recent deals:",t),t}},rA=async i=>{const e=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(i)}&key=${tA}`;try{const t=await ti.get(e);return t.data.status==="OK"&&t.data.results[0]?t.data.results[0].geometry.location:null}catch(t){return console.error("Error geocoding address:",t),null}},zw=async i=>{if(!i)throw new Error("Enquiry ID must be provided.");const e=`${_E}/getapienquiry?enquiryId=${i}`;try{const t=await Yo.get(e);if(t.data.status!==200)throw new Error(`API returned non-200 status: ${t.data.status}`);return t.data.result}catch(t){throw console.error("API Fetch Error:",t),new Error("Failed to load asset data from API.")}},nA=async i=>{try{return(await Yo.post("/updateapienquiry",i)).data}catch(e){throw console.error("Error updating enquiry:",e),e}},jE=async(i,e="")=>{try{const t=`/cloneenquiryreturnsummaries?enquiryId=${encodeURIComponent(i)}&description=${encodeURIComponent(e)}`;return(await Yo.get(t)).data}catch(t){throw console.error("Error saving version:",t),t}},ng=async(i,e)=>{try{const t=`/getsummarydraftsforobligor/${encodeURIComponent(i)}/${encodeURIComponent(e)}`;return(await Yo.get(t)).data}catch(t){throw console.error("Error fetching versions:",t),t}},oA=async i=>{try{return(await Yo.post("/saveandgrade",i)).data}catch(e){throw console.error("Error running saveAndGrade:",e),e}},aA=()=>{const[i,e]=he.useState(""),[t,s]=he.useState(""),[r,o]=he.useState(null),[h,p]=he.useState(!1),g=Jh(),{login:x}=Cp(),k=async R=>{R.preventDefault(),p(!0),o(null);try{const D=await iA(i);D&&D.result==="Token Valid"?(x({name:i,username:i}),g("/assets")):o("Invalid login. Please check the username and try again.")}catch{o("Invalid login. Please check the username and try again.")}finally{p(!1)}};return U.jsxs("div",{className:"flex w-full min-h-screen font-sans",children:[U.jsx("div",{className:"flex items-center justify-center w-full lg:w-1/2",children:U.jsxs("div",{className:"w-full max-w-md p-8 space-y-8",children:[U.jsxs("div",{className:"text-center lg:text-left",children:[U.jsx("img",{src:SL,alt:"PROMS Logo",className:"h-10 mx-auto lg:mx-0"}),U.jsx("p",{className:"mt-2 text-base text-slate-600",children:"Welcome back! Please sign in to your account."})]}),U.jsxs("form",{className:"space-y-6",onSubmit:k,children:[r&&U.jsx("div",{className:"p-3 text-sm text-center text-red-800 bg-red-100 rounded-lg",children:r}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"username",className:"block mb-2 text-sm font-medium text-slate-700",children:"Username"}),U.jsx("input",{id:"username",type:"text",required:!0,placeholder:"Please Input your Username here",className:"block w-full px-4 py-2.5 text-sm bg-white border rounded-lg shadow-sm border-slate-300 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:i,onChange:R=>e(R.target.value)})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-slate-700",children:"Password"}),U.jsx("input",{id:"password",type:"password",className:"block w-full px-4 py-2.5 text-sm bg-white border rounded-lg shadow-sm border-slate-300 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Please Input your Password here",value:t,onChange:R=>s(R.target.value)})]})]}),U.jsx("div",{children:U.jsx("button",{type:"submit",disabled:h,className:"flex items-center justify-center w-full px-4 py-2.5 text-sm font-semibold text-white bg-blue-600 rounded-lg shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed transition-all duration-300",children:h?U.jsxs("svg",{className:"w-5 h-5 text-white animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[U.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),U.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):U.jsxs(U.Fragment,{children:[U.jsx(mL,{className:"w-4 h-4 mr-2"}),"Sign In"]})})})]})]})}),U.jsxs("div",{className:"relative flex-col items-center justify-center hidden w-1/2 lg:flex bg-gradient-to-br from-slate-900 to-slate-800",children:[U.jsx("div",{className:"absolute inset-0 bg-cover opacity-10",style:{backgroundImage:"url('https://images.unsplash.com/photo-1556740714-a8395b3bf30f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80')"}}),U.jsxs("div",{className:"z-10 text-center text-white",children:[U.jsx("h2",{className:"text-4xl font-bold",children:"Unlock Your Data"}),U.jsx("p",{className:"max-w-md mt-4 text-lg text-slate-300",children:"Gain insights and manage your property portfolio with ease."})]})]})]})},WE="/enquiry-react/assets/loading4b-BmAf1T98.gif",VE=he.createContext(void 0),Nw="app_assets_v1",lA=({children:i})=>{const[e,t]=he.useState(()=>{try{const g=localStorage.getItem(Nw);return g?JSON.parse(g):[]}catch{return[]}});he.useEffect(()=>{try{localStorage.setItem(Nw,JSON.stringify(e))}catch{}},[e]);const s=g=>t(g),r=g=>t(x=>[g,...x]),o=(g,x)=>t(k=>k.map(R=>String(R.enquiryId)===g?{...R,...x}:R)),h=g=>t(x=>x.filter(k=>String(k.enquiryId)!==g)),p=()=>t([]);return U.jsx(VE.Provider,{value:{assets:e,setAssets:s,addAsset:r,updateAsset:o,removeAsset:h,clearAssets:p},children:i})},UE=()=>{const i=he.useContext(VE);if(!i)throw new Error("useAssets must be used within AssetsProvider");return i},hA=({assets:i,onAssetSelect:e})=>!i||i.length===0?U.jsx("div",{className:"w-full py-8 text-center text-sm text-slate-600",children:"No assets to display."}):U.jsxs("div",{className:"w-full p-4 space-y-4",children:[U.jsx("ul",{className:"sm:hidden space-y-3",children:i.map(t=>U.jsxs("li",{onClick:()=>e(t),role:"button",tabIndex:0,onKeyDown:s=>(s.key==="Enter"||s.key===" ")&&e(t),className:"border rounded-lg p-3 shadow-sm cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-400 transition-colors",children:[U.jsxs("div",{className:"flex items-center justify-between mb-2",children:[U.jsx("div",{className:"text-sm font-medium text-slate-800",children:t.obligorRef}),U.jsx("div",{className:"text-xs text-slate-500",children:t.zipcode})]}),U.jsx("div",{className:"text-sm text-slate-700 mb-2",children:t.address}),U.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-600",children:[U.jsxs("div",{children:[U.jsx("div",{className:"font-semibold text-slate-700",children:"Sector"}),U.jsx("div",{children:t.sector??"-"})]}),U.jsxs("div",{children:[U.jsx("div",{className:"font-semibold text-slate-700",children:"Status"}),U.jsx("div",{children:t.status??"-"})]}),U.jsxs("div",{children:[U.jsx("div",{className:"font-semibold text-slate-700",children:"Fund"}),U.jsx("div",{children:t.fund??"-"})]}),U.jsxs("div",{children:[U.jsx("div",{className:"font-semibold text-slate-700",children:"Valuation"}),U.jsx("div",{children:typeof t.currentValuation=="number"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t.currentValuation):"-"})]})]})]},t.enquiryId))}),U.jsx("div",{className:"hidden sm:block w-full overflow-auto rounded-md border",children:U.jsxs("table",{className:"w-full min-w-[760px] text-sm text-left text-gray-600",children:[U.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 sticky top-0",children:U.jsxs("tr",{children:[U.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:"Deal Ref"}),U.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:"Address"}),U.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:"Postal Code"}),U.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:"Sector"}),U.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:"Status"}),U.jsx("th",{scope:"col",className:"px-4 py-3 text-left",children:"Fund"})]})}),U.jsx("tbody",{children:i.map(t=>U.jsxs("tr",{onClick:()=>e(t),role:"button",tabIndex:0,onKeyDown:s=>(s.key==="Enter"||s.key===" ")&&e(t),className:"border-b cursor-pointer transition-colors duration-150",children:[U.jsx("td",{className:"px-4 py-3 align-top font-medium truncate max-w-[160px]",children:t.obligorRef}),U.jsx("td",{className:"px-4 py-3 align-top max-w-[360px] truncate",children:t.address}),U.jsx("td",{className:"px-4 py-3 align-top truncate",children:t.zipcode}),U.jsx("td",{className:"px-4 py-3 align-top truncate",children:t.sector}),U.jsx("td",{className:"px-4 py-3 align-top truncate",children:t.status}),U.jsx("td",{className:"px-4 py-3 align-top truncate",children:t.fund})]},t.enquiryId))})]})})]}),uA="AIzaSyAUkcEi0DvKJq-CVwzX7JgHk-Bbhe-8jZw",dA=({asset:i,imageMode:e,onClick:t})=>{const[s,r]=he.useState(null),[o,h]=he.useState(!1),[p,g]=he.useState(!1);he.useEffect(()=>{let ee=!0;return rA(i.address).then(B=>{if(ee&&B){const{lat:j,lng:X}=B;r({lat:j,lng:X})}}),()=>{ee=!1}},[i.address]);const x=he.useMemo(()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(i.currentValuation??0),[i.currentValuation]),k="size=640x360&key="+uA,R=`https://maps.googleapis.com/maps/api/streetview?location=${encodeURIComponent(i.address)}&${k}`,D=s?`${s.lat},${s.lng}`:encodeURIComponent(i.address),W=s?`&markers=color:blue%7Clabel:S%7C${s.lat},${s.lng}`:"",V=`https://maps.googleapis.com/maps/api/staticmap?center=${D}&zoom=5&maptype=roadmap&${k}${W}`,Y=e==="street"?R:V;return U.jsxs("button",{type:"button",onClick:()=>t(i),className:["flex flex-col h-full w-full text-left overflow-hidden rounded-2xl border bg-white","shadow-sm hover:shadow-md transition-shadow","focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500"].join(" "),children:[U.jsxs("div",{className:"relative flex-shrink-0 h-40",children:[!o&&!p&&U.jsx("div",{className:"h-40 w-full bg-slate-200 animate-pulse"}),U.jsx("img",{src:Y,alt:`${e} view of ${i.obligorRef}`,className:["w-full h-40 object-cover",o?"":"hidden"].join(" "),onLoad:()=>h(!0),onError:()=>{g(!0),h(!0)}}),U.jsx("div",{className:"absolute left-3 top-3",children:U.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/90 backdrop-blur px-2 py-1 text-xs font-medium text-slate-700 shadow-sm",children:e==="street"?U.jsxs(U.Fragment,{children:[U.jsx(mE,{className:"h-3.5 w-3.5","aria-hidden":"true"}),"Street View"]}):U.jsxs(U.Fragment,{children:[U.jsx(sb,{className:"h-3.5 w-3.5","aria-hidden":"true"}),"Map"]})})})]}),U.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[U.jsx("div",{className:"flex items-start justify-between gap-2",children:U.jsx("h3",{className:"text-sm font-semibold leading-tight min-h-[1.9rem]",children:i.obligorRef})}),U.jsxs("div",{className:"mt-1 flex items-start gap-1.5 text-slate-600",children:[U.jsx(sb,{className:"mt-0.5 h-3.5 w-3.5 shrink-0","aria-hidden":"true"}),U.jsx("p",{className:"text-xs leading-snug line-clamp-2",children:i.address})]}),U.jsx("div",{className:"flex-1"}),U.jsx("div",{className:"my-3 h-px w-full bg-slate-200"}),U.jsxs("div",{className:"mt-2 grid gap-2",children:[U.jsxs("div",{className:"flex items-center justify-between text-xs",children:[U.jsx("span",{className:"text-slate-500",children:"Sector:"}),U.jsx("span",{className:"font-medium text-slate-800",children:i.sector??"-"})]}),U.jsxs("div",{className:"flex items-center justify-between text-xs",children:[U.jsx("span",{className:"text-slate-500",children:"Valuation:"}),U.jsx("span",{className:"text-sm font-bold text-slate-900",children:x})]})]})]})]})},cA=()=>{var ee;const{user:i}=Cp(),e=xp(),t=Jh(),{assets:s,setAssets:r}=UE(),o=((ee=e.state)==null?void 0:ee.assets)||[],[h,p]=he.useState(!1),[g,x]=he.useState(null),[k,R]=he.useState("gallery"),[D,W]=he.useState("street"),V=B=>{t(`/asset-analysis/${B.enquiryId}`,{state:{asset:B,allAssets:s}})},Y=()=>{W(B=>B==="street"?"map":"street")};return he.useEffect(()=>{if(o&&o.length){r(o);return}const B=i==null?void 0:i.username;return B?((async()=>{p(!0),x(null);try{const X=await sA(B);X&&Array.isArray(X.result)?r(X.result):(r([]),x("No assets returned from server."))}catch{x("Failed to load assets.")}finally{p(!1)}})(),()=>{}):void 0},[]),U.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 sm:px-4 md:px-8 py-2 flex items-center justify-between",children:U.jsxs("div",{className:"flex flex-col w-full font-sans bg-slate-50",children:[U.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-slate-200",children:[U.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Assets"}),U.jsxs("p",{className:"text-sm text-slate-500",children:[h?"Loading assets...":`${s.length} properties found`,g&&U.jsxs("span",{className:"text-rose-600 ml-3",children:["  ",g]})]}),U.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[U.jsxs("div",{className:"relative flex-grow",children:[U.jsx(CL,{className:"absolute w-5 h-5 top-2.5 left-3 text-slate-400",strokeWidth:2}),U.jsx("input",{type:"text",placeholder:"Search assets...",disabled:!0,className:"w-full pl-10 pr-4 py-2 text-sm border rounded-md border-slate-300 bg-slate-100 cursor-not-allowed"})]}),U.jsx("button",{disabled:!0,className:"flex items-center justify-center p-2 text-white bg-blue-400 rounded-md cursor-not-allowed opacity-60",children:U.jsx(vL,{className:"w-5 h-5",strokeWidth:2.5})})]})]}),U.jsx("div",{className:"flex items-center justify-between flex-shrink-0 p-2 border-b border-slate-200",children:U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-md",children:[U.jsx("button",{onClick:()=>R("gallery"),className:`p-1.5 rounded ${k==="gallery"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-800"}`,children:U.jsx(dL,{size:20})}),U.jsx("button",{onClick:()=>R("list"),className:`p-1.5 rounded ${k==="list"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-800"}`,children:U.jsx(pL,{size:20})})]}),k==="gallery"&&U.jsx("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 bg-slate-100 rounded-md hover:bg-slate-200",children:D==="street"?U.jsxs(U.Fragment,{children:[U.jsx(sb,{size:16}),U.jsx("span",{children:"Map View"})]}):U.jsxs(U.Fragment,{children:[U.jsx(mE,{size:16}),U.jsx("span",{children:"Street View"})]})})]})}),U.jsx("div",{className:"flex-1 overflow-y-auto",children:h?U.jsx("div",{className:"text-center",children:U.jsx("img",{src:WE,alt:"Loading...",className:"mt-20 mx-auto"})}):k==="gallery"?U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-4",children:s.map(B=>U.jsx(dA,{asset:B,onClick:j=>V(j),imageMode:D},B.enquiryId))}):U.jsx(hA,{assets:s,onAssetSelect:B=>V(B)})})]})})};let pA={data:""},fA=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||pA},mA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gA=/\/\*[^]*?\*\/|  +/g,Fw=/\n+/g,Pn=(i,e)=>{let t="",s="",r="";for(let o in i){let h=i[o];o[0]=="@"?o[1]=="i"?t=o+" "+h+";":s+=o[1]=="f"?Pn(h,o):o+"{"+Pn(h,o[1]=="k"?"":e)+"}":typeof h=="object"?s+=Pn(h,e?e.replace(/([^,])+/g,p=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,p):p?p+" "+g:g)):o):h!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Pn.p?Pn.p(o,h):o+":"+h+";")}return t+(e&&r?e+"{"+r+"}":r)+s},Hr={},GE=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+GE(i[t]);return e}return i},bA=(i,e,t,s,r)=>{let o=GE(i),h=Hr[o]||(Hr[o]=(g=>{let x=0,k=11;for(;x<g.length;)k=101*k+g.charCodeAt(x++)>>>0;return"go"+k})(o));if(!Hr[h]){let g=o!==i?i:(x=>{let k,R,D=[{}];for(;k=mA.exec(x.replace(gA,""));)k[4]?D.shift():k[3]?(R=k[3].replace(Fw," ").trim(),D.unshift(D[0][R]=D[0][R]||{})):D[0][k[1]]=k[2].replace(Fw," ").trim();return D[0]})(i);Hr[h]=Pn(r?{["@keyframes "+h]:g}:g,t?"":"."+h)}let p=t&&Hr.g?Hr.g:null;return t&&(Hr.g=Hr[h]),((g,x,k,R)=>{R?x.data=x.data.replace(R,g):x.data.indexOf(g)===-1&&(x.data=k?g+x.data:x.data+g)})(Hr[h],e,s,p),h},vA=(i,e,t)=>i.reduce((s,r,o)=>{let h=e[o];if(h&&h.call){let p=h(t),g=p&&p.props&&p.props.className||/^go/.test(p)&&p;h=g?"."+g:p&&typeof p=="object"?p.props?"":Pn(p,""):p===!1?"":p}return s+r+(h??"")},"");function Rp(i){let e=this||{},t=i.call?i(e.p):i;return bA(t.unshift?t.raw?vA(t,[].slice.call(arguments,1),e.p):t.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):t,fA(e.target),e.g,e.o,e.k)}let XE,hb,ub;Rp.bind({g:1});let qr=Rp.bind({k:1});function yA(i,e,t,s){Pn.p=e,XE=i,hb=t,ub=s}function $n(i,e){let t=this||{};return function(){let s=arguments;function r(o,h){let p=Object.assign({},o),g=p.className||r.className;t.p=Object.assign({theme:hb&&hb()},p),t.o=/ *go\d+/.test(g),p.className=Rp.apply(t,s)+(g?" "+g:"");let x=i;return i[0]&&(x=p.as||i,delete p.as),ub&&x[0]&&ub(p),XE(x,p)}return r}}var wA=i=>typeof i=="function",Ic=(i,e)=>wA(i)?i(e):i,xA=(()=>{let i=0;return()=>(++i).toString()})(),YE=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),CA=20,yv="default",$E=(i,e)=>{let{toastLimit:t}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,t)};case 1:return{...i,toasts:i.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return $E(i,{type:i.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...i,toasts:i.toasts.map(h=>h.id===r||r===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let o=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+o}))}}},dc=[],KE={toasts:[],pausedAt:void 0,settings:{toastLimit:CA}},yr={},qE=(i,e=yv)=>{yr[e]=$E(yr[e]||KE,i),dc.forEach(([t,s])=>{t===e&&s(yr[e])})},JE=i=>Object.keys(yr).forEach(e=>qE(i,e)),EA=i=>Object.keys(yr).find(e=>yr[e].toasts.some(t=>t.id===i)),Lp=(i=yv)=>e=>{qE(e,i)},kA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},SA=(i={},e=yv)=>{let[t,s]=he.useState(yr[e]||KE),r=he.useRef(yr[e]);he.useEffect(()=>(r.current!==yr[e]&&s(yr[e]),dc.push([e,s]),()=>{let h=dc.findIndex(([p])=>p===e);h>-1&&dc.splice(h,1)}),[e]);let o=t.toasts.map(h=>{var p,g,x;return{...i,...i[h.type],...h,removeDelay:h.removeDelay||((p=i[h.type])==null?void 0:p.removeDelay)||(i==null?void 0:i.removeDelay),duration:h.duration||((g=i[h.type])==null?void 0:g.duration)||(i==null?void 0:i.duration)||kA[h.type],style:{...i.style,...(x=i[h.type])==null?void 0:x.style,...h.style}}});return{...t,toasts:o}},MA=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:(t==null?void 0:t.id)||xA()}),iu=i=>(e,t)=>{let s=MA(e,i,t);return Lp(s.toasterId||EA(s.id))({type:2,toast:s}),s.id},gi=(i,e)=>iu("blank")(i,e);gi.error=iu("error");gi.success=iu("success");gi.loading=iu("loading");gi.custom=iu("custom");gi.dismiss=(i,e)=>{let t={type:3,toastId:i};e?Lp(e)(t):JE(t)};gi.dismissAll=i=>gi.dismiss(void 0,i);gi.remove=(i,e)=>{let t={type:4,toastId:i};e?Lp(e)(t):JE(t)};gi.removeAll=i=>gi.remove(void 0,i);gi.promise=(i,e,t)=>{let s=gi.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof i=="function"&&(i=i()),i.then(r=>{let o=e.success?Ic(e.success,r):void 0;return o?gi.success(o,{id:s,...t,...t==null?void 0:t.success}):gi.dismiss(s),r}).catch(r=>{let o=e.error?Ic(e.error,r):void 0;o?gi.error(o,{id:s,...t,...t==null?void 0:t.error}):gi.dismiss(s)}),i};var TA=1e3,RA=(i,e="default")=>{let{toasts:t,pausedAt:s}=SA(i,e),r=he.useRef(new Map).current,o=he.useCallback((R,D=TA)=>{if(r.has(R))return;let W=setTimeout(()=>{r.delete(R),h({type:4,toastId:R})},D);r.set(R,W)},[]);he.useEffect(()=>{if(s)return;let R=Date.now(),D=t.map(W=>{if(W.duration===1/0)return;let V=(W.duration||0)+W.pauseDuration-(R-W.createdAt);if(V<0){W.visible&&gi.dismiss(W.id);return}return setTimeout(()=>gi.dismiss(W.id,e),V)});return()=>{D.forEach(W=>W&&clearTimeout(W))}},[t,s,e]);let h=he.useCallback(Lp(e),[e]),p=he.useCallback(()=>{h({type:5,time:Date.now()})},[h]),g=he.useCallback((R,D)=>{h({type:1,toast:{id:R,height:D}})},[h]),x=he.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),k=he.useCallback((R,D)=>{let{reverseOrder:W=!1,gutter:V=8,defaultPosition:Y}=D||{},ee=t.filter(X=>(X.position||Y)===(R.position||Y)&&X.height),B=ee.findIndex(X=>X.id===R.id),j=ee.filter((X,Z)=>Z<B&&X.visible).length;return ee.filter(X=>X.visible).slice(...W?[j+1]:[0,j]).reduce((X,Z)=>X+(Z.height||0)+V,0)},[t]);return he.useEffect(()=>{t.forEach(R=>{if(R.dismissed)o(R.id,R.removeDelay);else{let D=r.get(R.id);D&&(clearTimeout(D),r.delete(R.id))}})},[t,o]),{toasts:t,handlers:{updateHeight:g,startPause:p,endPause:x,calculateOffset:k}}},LA=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,PA=qr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AA=qr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OA=$n("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${PA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,DA=qr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zA=$n("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${DA} 1s linear infinite;
`,NA=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,FA=qr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IA=$n("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${FA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HA=$n("div")`
  position: absolute;
`,BA=$n("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_A=qr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jA=$n("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_A} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,WA=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?he.createElement(jA,null,e):e:t==="blank"?null:he.createElement(BA,null,he.createElement(zA,{...s}),t!=="loading"&&he.createElement(HA,null,t==="error"?he.createElement(OA,{...s}):he.createElement(IA,{...s})))},VA=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,UA=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,GA="0%{opacity:0;} 100%{opacity:1;}",XA="0%{opacity:1;} 100%{opacity:0;}",YA=$n("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$A=$n("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KA=(i,e)=>{let t=i.includes("top")?1:-1,[s,r]=YE()?[GA,XA]:[VA(t),UA(t)];return{animation:e?`${qr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qr(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},qA=he.memo(({toast:i,position:e,style:t,children:s})=>{let r=i.height?KA(i.position||e||"top-center",i.visible):{opacity:0},o=he.createElement(WA,{toast:i}),h=he.createElement($A,{...i.ariaProps},Ic(i.message,i));return he.createElement(YA,{className:i.className,style:{...r,...t,...i.style}},typeof s=="function"?s({icon:o,message:h}):he.createElement(he.Fragment,null,o,h))});yA(he.createElement);var JA=({id:i,className:e,style:t,onHeightUpdate:s,children:r})=>{let o=he.useCallback(h=>{if(h){let p=()=>{let g=h.getBoundingClientRect().height;s(i,g)};p(),new MutationObserver(p).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return he.createElement("div",{ref:o,className:e,style:t},r)},ZA=(i,e)=>{let t=i.includes("top"),s=t?{top:0}:{bottom:0},r=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...r}},QA=Rp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yd=16,e2=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:s,children:r,toasterId:o,containerStyle:h,containerClassName:p})=>{let{toasts:g,handlers:x}=RA(t,o);return he.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Yd,left:Yd,right:Yd,bottom:Yd,pointerEvents:"none",...h},className:p,onMouseEnter:x.startPause,onMouseLeave:x.endPause},g.map(k=>{let R=k.position||e,D=x.calculateOffset(k,{reverseOrder:i,gutter:s,defaultPosition:e}),W=ZA(R,D);return he.createElement(JA,{id:k.id,key:k.id,onHeightUpdate:x.updateHeight,className:k.visible?QA:"",style:W},k.type==="custom"?Ic(k.message,k):r?r(k):he.createElement(qA,{toast:k,position:R}))}))},Hi=gi;const $d=(i,e="en-US")=>i==null||Number.isNaN(Number(i))?"":new Intl.NumberFormat(e,{maximumFractionDigits:0}).format(Number(i)),Kd=({label:i,value:e,unit:t="%"})=>U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"text-gray-700 text-sm block mb-1",children:i}),U.jsxs("div",{className:"flex items-center space-x-2",children:[U.jsx("input",{type:"range",min:"0",max:"100",value:e,className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer",onChange:()=>{}}),U.jsxs("span",{className:"text-xs font-semibold text-blue-600 w-12 text-right",children:[e,t]})]})]}),t2=({open:i,onClose:e,obligorRef:t,customer:s,currentEnquiryId:r,onLoadVersion:o})=>{const[h,p]=he.useState([]),[g,x]=he.useState(!1),[k,R]=he.useState(null);he.useEffect(()=>{if(!i||!t||!s)return;let W=!0;return x(!0),ng(t,s).then(V=>{W&&p((V==null?void 0:V.result)||[])}).catch(()=>p([])).finally(()=>W&&x(!1)),()=>{W=!1}},[i,t,s]);const D=async W=>{const V=window.prompt("Snapshot description (blank ok):","")??"";if(!W)return Hi.error("No version selected to snapshot.");const Y=Hi.loading("Saving snapshot...");try{const ee=await jE(W,V);if(Hi.success("Snapshot saved",{id:Y}),t&&s){const B=await ng(t,s);p((B==null?void 0:B.result)||[])}}catch(ee){Hi.error((ee==null?void 0:ee.message)??"Failed to save snapshot",{id:Y})}};return U.jsxs("aside",{className:`fixed top-0 right-0 h-full w-[360px] bg-white shadow-lg z-50 transform transition-transform ${i?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true",children:[U.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[U.jsx("h3",{className:"font-semibold",children:"Versions"}),U.jsx("div",{children:U.jsx("button",{onClick:e,className:"text-xs px-2 py-1 bg-gray-100 rounded",children:"Close"})})]}),U.jsx("div",{className:"p-4 overflow-auto h-[calc(100%-64px)]",children:!t||!s?U.jsx("div",{className:"text-sm text-gray-500",children:"No asset context to load versions."}):g?U.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):h.length===0?U.jsx("div",{className:"text-sm text-gray-500",children:"No versions found."}):U.jsx("ul",{className:"space-y-2",children:h.map(W=>U.jsx("li",{className:`p-3 border rounded ${W.enquiryId===k?"bg-blue-50 border-blue-200":"bg-white"}`,children:U.jsxs("div",{className:"flex justify-between items-start",children:[U.jsxs("div",{children:[U.jsx("div",{className:"text-sm font-medium",children:W.description||`Draft (${W.id||W.enquiryId})`}),U.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created: ",W.created||""]})]}),U.jsx("div",{className:"flex flex-col items-end gap-2",children:U.jsx("button",{onClick:()=>{R(W.id),o(W.id)},className:"text-xs px-2 py-1 bg-gray-100 rounded",children:"Load"})})]})},W.enquiryId))})}),U.jsxs("div",{className:"p-4 border-t flex gap-2",children:[U.jsx("button",{onClick:()=>D(r??void 0),className:"flex-1 text-sm bg-blue-600 text-white py-2 rounded",children:"Save Snapshot of Current"}),U.jsx("button",{onClick:async()=>{if(!(!t||!s)){x(!0);try{const W=await ng(t,s);p((W==null?void 0:W.result)||[])}finally{x(!1)}}},className:"text-sm px-3 py-2 bg-gray-100 rounded",children:"Refresh"})]})]})},Iw=({title:i,children:e,startCollapsed:t=!1})=>{const[s,r]=he.useState(t);return U.jsxs("div",{className:"mb-4 bg-white border rounded-lg shadow-sm border-slate-200",children:[U.jsxs("button",{onClick:()=>r(!s),className:"flex items-center justify-between w-full p-3 font-semibold text-left text-slate-800",children:[U.jsx("span",{children:i}),U.jsx(hL,{size:20,className:`text-slate-500 transition-transform duration-300 ${s?"":"rotate-180"}`})]}),!s&&U.jsx("div",{className:"px-4 pb-4 border-t border-slate-200",children:e})]})},i2=({isSaving:i,onSave:e,onSaveVersion:t,onOpenVersions:s,onBack:r})=>U.jsxs("div",{className:"mt-2 sm:mt-0 sm:ml-auto flex items-center gap-2",children:[U.jsxs("button",{onClick:e,disabled:i,className:"flex items-center text-white bg-green-500 hover:bg-green-600 px-3 py-1 rounded text-xs disabled:bg-gray-400 disabled:cursor-not-allowed",children:[U.jsx(wL,{className:"mr-1",size:14}),i?"Saving...":"Save"]}),U.jsx("button",{onClick:t,className:"whitespace-nowrap flex items-center text-xs px-3 py-1 rounded bg-indigo-600 text-white hover:bg-indigo-700",children:"Save Version"}),U.jsx("button",{onClick:s,className:"flex items-center text-xs px-3 py-1 rounded bg-gray-100 hover:bg-gray-200",children:"Versions"}),U.jsxs("button",{onClick:r,className:"flex items-center text-xs px-3 py-1 rounded bg-gray-100 hover:bg-gray-200",children:[U.jsx(kL,{className:"mr-1",size:14})," Back"]})]}),s2=({open:i,description:e,setDescription:t,isSaving:s,onClose:r,onConfirm:o})=>i?U.jsxs("div",{className:"fixed inset-0 z-60 flex items-center justify-center",children:[U.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>{s||r()},"aria-hidden":"true"}),U.jsxs("div",{className:"relative w-full max-w-lg mx-4 bg-white rounded-lg shadow-lg z-70",children:[U.jsxs("div",{className:"p-4",children:[U.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"Description (optional)"}),U.jsx("textarea",{value:e,onChange:h=>t(h.target.value),rows:4,className:"w-full text-sm p-2 border rounded-md resize-none",placeholder:"Enter a description for this version (blank allowed)",disabled:s})]}),U.jsxs("div",{className:"p-4 border-t flex justify-end gap-2",children:[U.jsx("button",{onClick:r,className:"text-sm px-3 py-1 rounded bg-gray-100 hover:bg-gray-200",disabled:s,children:"Cancel"}),U.jsx("button",{onClick:o,className:"text-sm px-3 py-1 rounded bg-indigo-600 text-white hover:bg-indigo-700",disabled:s,children:s?"Saving...":"Save Version"})]})]})]}):null,r2=({offerPrice:i,minOffer:e,maxOffer:t,onOfferChange:s,onRerun:r,formatNumber:o})=>{const[h,p]=he.useState(i!==null?String(i):"");he.useEffect(()=>{p(i!==null?String(i):"")},[i,h]);const g=k=>{p(k);const R=Number(k.replace(/,/g,""));Number.isNaN(R)||s(R)},x=()=>{if(h.trim()==="")p(String(i!==null?i:e));else{const k=Number(h.replace(/,/g,""));Number.isNaN(k)?p(String(i!==null?i:e)):p(String(Math.max(e,Math.min(t,k))))}};return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"mb-3 flex items-center gap-2",children:U.jsx("button",{type:"button",onClick:r,className:"w-full text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 shadow-lg font-medium rounded-lg py-2 text-center",children:"Rerun analysis"})}),U.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("label",{className:"text-gray-700 text-sm",children:"Offer Price"}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("input",{min:e,max:t,value:h,onChange:k=>g(k.target.value),onBlur:x,className:`text-sm w-32 p-1 justify-end text-right
             border-transparent ring-transparent focus:border-gray-400 focus:ring-1 focus:ring-gray-400 focus:outline-none`}),U.jsx("div",{className:"text-xs text-gray-500",children:"US$"})]})]}),U.jsx("div",{className:"flex items-center space-x-2 mt-2",children:U.jsx("input",{type:"range",min:e,max:t,step:1e3,value:i??e,onChange:k=>s(Number(k.target.value)),className:"w-full h-1 bg-blue-200 rounded-lg appearance-none cursor-pointer"})}),U.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mt-1",children:[U.jsx("span",{children:`US$${o(e)}`}),U.jsx("span",{children:`US$${o(t)}`})]})]})]})};class Li{constructor(e){this.table=e}reloadData(e,t,s){return this.table.dataLoader.load(e,void 0,void 0,void 0,t,s)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,t){return typeof t<"u"&&(this.table.options[e]=t),this.table.options[e]}deprecationCheck(e,t,s){return this.table.deprecationAdvisor.check(e,t,s)}deprecationCheckMsg(e,t){return this.table.deprecationAdvisor.checkMsg(e,t)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class Lt{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(e,t,s){var r=e?t.split(e):[t],o=r.length,h;for(let p=0;p<o&&(s=s[r[p]],h=s,!!s);p++);return h}static deepClone(e,t,s=[]){var r={}.__proto__,o=[].__proto__;t||(t=Object.assign(Array.isArray(e)?[]:{},e));for(var h in e){let p=e[h],g,x;p!=null&&typeof p=="object"&&(p.__proto__===r||p.__proto__===o)&&(g=s.findIndex(k=>k.subject===p),g>-1?t[h]=s[g].copy:(x=Object.assign(Array.isArray(p)?[]:{},p),s.unshift({subject:p,copy:x}),t[h]=this.deepClone(p,x,s)))}return t}}let n2=class ZE extends Li{constructor(e,t,s){super(e),this.element=t,this.container=this._lookupContainer(),this.parent=s,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,t=this.table.element){return e===t?!0:t.parentNode?this._checkContainerIsParent(e,t.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var t=!(e instanceof MouseEvent),s=t?e.touches[0].pageX:e.pageX,r=t?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let o=Lt.elOffset(this.container);s-=o.left,r-=o.top}return{x:s,y:r}}elementPositionCoords(e,t="right"){var s=Lt.elOffset(e),r,o,h;switch(this.container!==document.body&&(r=Lt.elOffset(this.container),s.left-=r.left,s.top-=r.top),t){case"right":o=s.left+e.offsetWidth,h=s.top-1;break;case"bottom":o=s.left,h=s.top+e.offsetHeight;break;case"left":o=s.left,h=s.top-1;break;case"top":o=s.left,h=s.top;break;case"center":o=s.left+e.offsetWidth/2,h=s.top+e.offsetHeight/2;break}return{x:o,y:h,offset:s}}show(e,t){var s,r,o,h,p;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(o=e,p=this.elementPositionCoords(e,t),h=p.offset,s=p.x,r=p.y):typeof e=="number"?(h={top:0,left:0},s=e,r=t):(p=this.containerEventCoords(e),s=p.x,r=p.y,this.reversedX=!1),this.element.style.top=r+"px",this.element.style.left=s+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(s,r,o,h,t),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",g=>{g.stopPropagation()}),this)}_fitToScreen(e,t,s,r,o){var h=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;(e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",s?this.element.style.right=this.container.offsetWidth-r.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0);let p=Math.max(this.container.offsetHeight,h?this.container.scrollHeight:0);if(t+this.element.offsetHeight>p)if(s)switch(o){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-s.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+s.offsetHeight+1+"px"}else this.element.style.height=p+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new ZE(this.table,e,this),this.childPopup}};class rt extends Li{constructor(e,t){super(e),this._handler=null}initialize(){}registerTableOption(e,t){this.table.optionsList.register(e,t)}registerColumnOption(e,t){this.table.columnManager.optionsList.register(e,t)}registerTableFunction(e,t){typeof this.table[e]>"u"?this.table[e]=(...s)=>(this.table.initGuard(e),t(...s)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,t,s){return this.table.componentFunctionBinder.bind(e,t,s)}registerDataHandler(e,t){this.table.rowManager.registerDataPipelineHandler(e,t),this._handler=e}registerDisplayHandler(e,t){this.table.rowManager.registerDisplayPipelineHandler(e,t),this._handler=e}displayRows(e){var t=this.table.rowManager.displayRows.length-1,s;if(this._handler&&(s=this.table.rowManager.displayPipeline.findIndex(r=>r.handler===this._handler),s>-1&&(t=s)),e&&(t=t+e),this._handler)return t>-1?this.table.rowManager.getDisplayRows(t):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,t){t||(t=this._handler),t&&this.table.rowManager.refreshActiveData(t,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,t){return new n2(this.table,e,t)}alert(e,t){return this.table.alertManager.alert(e,t)}clearAlert(){return this.table.alertManager.clear()}}var o2={rownum:function(i,e,t,s,r,o){return o.getPosition()}};const Fa=class Fa extends rt{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,s={};this.allowedTypes.forEach(r=>{var o="accessor"+(r.charAt(0).toUpperCase()+r.slice(1)),h;e.definition[o]&&(h=this.lookupAccessor(e.definition[o]),h&&(t=!0,s[o]={accessor:h,params:e.definition[o+"Params"]||{}}))}),t&&(e.modules.accessor=s)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":Fa.accessors[e]?t=Fa.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t){var s="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),r=e.getComponent(),o=Lt.deepClone(e.data||{});return this.table.columnManager.traverse(function(h){var p,g,x,k;h.modules.accessor&&(g=h.modules.accessor[s]||h.modules.accessor.accessor||!1,g&&(p=h.getFieldValue(o),p!="undefined"&&(k=h.getComponent(),x=typeof g.params=="function"?g.params(p,o,t,k,r):g.params,h.setFieldValue(o,g.accessor(p,o,t,x,k,r)))))}),o}};Le(Fa,"moduleName","accessor"),Le(Fa,"accessors",o2);let Hc=Fa;var a2={method:"GET"};function db(i,e){var t=[];if(e=e||"",Array.isArray(i))i.forEach((r,o)=>{t=t.concat(db(r,e?e+"["+o+"]":o))});else if(typeof i=="object")for(var s in i)t=t.concat(db(i[s],e?e+"["+s+"]":s));else t.push({key:e,value:i});return t}function l2(i){var e=db(i),t=[];return e.forEach(function(s){t.push(encodeURIComponent(s.key)+"="+encodeURIComponent(s.value))}),t.join("&")}function QE(i,e,t){return i&&t&&Object.keys(t).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",i+=(i.includes("?")?"&":"?")+l2(t)),i}function h2(i,e,t){var s;return new Promise((r,o)=>{if(i=this.urlGenerator.call(this.table,i,e,t),e.method.toUpperCase()!="GET")if(s=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],s){for(var h in s.headers)e.headers||(e.headers={}),typeof e.headers[h]>"u"&&(e.headers[h]=s.headers[h]);e.body=s.body.call(this,i,e,t)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);i?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(i,e).then(p=>{p.ok?p.json().then(g=>{r(g)}).catch(g=>{o(g),console.warn("Ajax Load Error - Invalid JSON returned",g)}):(console.error("Ajax Load Error - Connection Error: "+p.status,p.statusText),o(p))}).catch(p=>{console.error("Ajax Load Error - Connection Error: ",p),o(p)})):(console.warn("Ajax Load Error - No URL Set"),r([]))})}function cb(i,e){var t=[];if(e=e||"",Array.isArray(i))i.forEach((r,o)=>{t=t.concat(cb(r,e?e+"["+o+"]":o))});else if(typeof i=="object")for(var s in i)t=t.concat(cb(i[s],e?e+"["+s+"]":s));else t.push({key:e,value:i});return t}var u2={json:{headers:{"Content-Type":"application/json"},body:function(i,e,t){return JSON.stringify(t)}},form:{headers:{},body:function(i,e,t){var s=cb(t),r=new FormData;return s.forEach(function(o){r.append(o.key,o.value)}),r}}};const Ks=class Ks extends rt{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=Ks.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Ks.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||Ks.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,s,r){var o=this.table.options.ajaxParams;return o&&(typeof o=="function"&&(o=o.call(this.table)),r=Object.assign(Object.assign({},o),r)),r}requestDataCheck(e,t,s,r){return!!(!e&&this.url||typeof e=="string")}requestData(e,t,s,r,o){var h;return!o&&this.requestDataCheck(e)?(e&&this.setUrl(e),h=this.generateConfig(s),this.sendRequest(this.url,t,h)):o}setDefaultConfig(e={}){this.config=Object.assign({},Ks.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return typeof e=="string"?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,s){return this.table.options.ajaxRequesting.call(this.table,e,t)!==!1?this.loaderPromise(e,s,t).then(r=>(this.table.options.ajaxResponse&&(r=this.table.options.ajaxResponse.call(this.table,e,t,r)),r)):Promise.reject()}};Le(Ks,"moduleName","ajax"),Le(Ks,"defaultConfig",a2),Le(Ks,"defaultURLGenerator",QE),Le(Ks,"defaultLoaderPromise",h2),Le(Ks,"contentTypeFormatters",u2);let Bc=Ks;var d2={replace:function(i){return this.table.setData(i)},update:function(i){return this.table.updateOrAddData(i)},insert:function(i){return this.table.addData(i)}},c2={table:function(i){var e=[],t=!0,s=this.table.columnManager.columns,r=[],o=[];return i=i.split(`
`),i.forEach(function(h){e.push(h.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(h){var p=s.find(function(g){return h&&g.definition.title&&h.trim()&&g.definition.title.trim()===h.trim()});p?r.push(p):t=!1}),t||(t=!0,r=[],e[0].forEach(function(h){var p=s.find(function(g){return h&&g.field&&h.trim()&&g.field.trim()===h.trim()});p?r.push(p):t=!1}),t||(r=this.table.columnManager.columnsByIndex)),t&&e.shift(),e.forEach(function(h){var p={};h.forEach(function(g,x){r[x]&&(p[r[x].field]=g)}),o.push(p)}),o):!1}},p2={copyToClipboard:["ctrl + 67","meta + 67"]},f2={copyToClipboard:function(i){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},m2={keybindings:{bindings:p2,actions:f2}};const Cn=class Cn extends rt{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var t,s,r;this.blocked||(e.preventDefault(),this.customSelection?(t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t))):(r=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),s=this.table.modules.export.generateHTMLTable(r),t=s?this.generatePlainContent(r):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),s=this.table.options.clipboardCopyFormatter("html",s))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),s&&e.clipboardData.setData("text/html",s)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),s&&e.originalEvent.clipboardData.setData("text/html",s)),this.dispatchExternal("clipboardCopied",t,s),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach(s=>{var r=[];s.columns.forEach(o=>{var h="";if(o)if(s.type==="group"&&(o.value=o.component.getKey()),o.value===null)h="";else switch(typeof o.value){case"object":h=JSON.stringify(o.value);break;case"undefined":h="";break;default:h=o.value}r.push(h)}),t.push(r.join("	"))}),t.join(`
`)}copy(e,t){var s,r;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),s=window.getSelection(),s.toString()&&t&&(this.customSelection=s.toString()),s.removeAllRanges(),s.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(r=document.body.createTextRange(),r.moveToElementText(this.table.element),r.select()),document.execCommand("copy"),s&&s.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=Cn.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=Cn.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var t,s,r;this.checkPasteOrigin(e)&&(t=this.getPasteData(e),s=this.pasteParser.call(this,t),s?(e.preventDefault(),this.table.modExists("mutator")&&(s=this.mutateData(s)),r=this.pasteAction.call(this,s),this.dispatchExternal("clipboardPasted",t,s,r)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(s=>{t.push(this.table.modules.mutator.transformRow(s,"clipboard"))}):t=e,t}checkPasteOrigin(e){var t=!0,s=this.confirm("clipboard-paste",[e]);return(s||!["DIV","SPAN"].includes(e.target.tagName))&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}};Le(Cn,"moduleName","clipboard"),Le(Cn,"moduleExtensions",m2),Le(Cn,"pasteActions",d2),Le(Cn,"pasteParsers",c2);let _c=Cn;class e1{constructor(e){return this._row=e,new Proxy(this,{get:function(t,s,r){return typeof t[s]<"u"?t[s]:t._row.table.componentFunctionBinder.handle("row",t._row,s)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}_getSelf(){return this._row}}class wv{constructor(e){return this._cell=e,new Proxy(this,{get:function(t,s,r){return typeof t[s]<"u"?t[s]:t._cell.table.componentFunctionBinder.handle("cell",t._cell,s)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,t){typeof t>"u"&&(t=!0),this._cell.setValue(e,t)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class su extends Li{constructor(e,t){super(e.table),this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.column.isRowHeader&&this.element.classList.add("tabulator-row-header")}_configureCell(){var e=this.element,t=this.column.getField(),s={top:"flex-start",bottom:"flex-end",middle:"center"},r={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=s[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=r[this.column.hozAlign]||"")),t&&e.setAttribute("tabulator-field",t),this.column.definition.cssClass){var o=this.column.definition.cssClass.split(" ");o.forEach(h=>{e.classList.add(h)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,t,s){var r=this.setValueProcessData(e,t,s);r&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,t,s){var r=!1;return(this.value!==e||s)&&(r=!0,t&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),r&&this.dispatch("cell-value-changed",this),r}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new wv(this)),this.component}}class xv{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(t,s,r){return typeof t[s]<"u"?t[s]:t._column.table.componentFunctionBinder.handle("column",t._column,s)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(t){e.push(t.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(t){e.push(t.getComponent())}),e}getParentColumn(){return this._column.getParentComponent()}_getSelf(){return this._column}scrollTo(e,t){return this._column.table.columnManager.scrollToColumn(this._column,e,t)}getTable(){return this._column.table}move(e,t){var s=this._column.table.columnManager.findColumn(e);s?this._column.table.columnManager.moveColumn(this._column,s,t):console.warn("Move Error - No matching column found:",s)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var t;return e===!0?t=this._column.reinitializeWidth(!0):t=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),t}}var t1={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};const Mo=class Mo extends Li{constructor(e,t,s){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.isGroup=!1,this.isRowHeader=s,this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((r,o)=>{var h=new Mo(r,this);this.attachColumn(h)}),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.isRowHeader&&e.classList.add("tabulator-row-header"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)typeof this.definition[t]>"u"&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(Mo.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{Mo.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var t=e.cssClass.split(" ");t.forEach(s=>{this.element.classList.add(s)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.headerWordWrap&&t.classList.add("tabulator-col-title-wrap"),e.editableTitle){var s=document.createElement("input");s.classList.add("tabulator-title-editor"),s.addEventListener("click",r=>{r.stopPropagation(),s.focus()}),s.addEventListener("mousedown",r=>{r.stopPropagation()}),s.addEventListener("change",()=>{e.title=s.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),t.appendChild(s),e.field?this.langBind("columns|"+e.field,r=>{s.value=r||e.title||"&nbsp;"}):s.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,r=>{this._formatColumnHeaderTitle(t,r||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var s=this.chain("column-format",[this,t,e],null,()=>t);switch(typeof s){case"object":s instanceof Node?e.appendChild(s):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",s));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=s}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(t=>{this.element.classList.add(t)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var t=e,s=this.fieldStructure,r=s.length,o;for(let h=0;h<r&&(t=t[s[h]],o=t,!!t);h++);return o}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var s=e,r=this.fieldStructure,o=r.length;for(let h=0;h<o;h++)if(h==o-1)s[r[h]]=t;else{if(!s[r[h]])if(typeof t<"u")s[r[h]]={};else break;s=s[r[h]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var s=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=s+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=s-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(r){r.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var t=[];return e?this.columns.forEach(s=>{t.push(s),t=t.concat(s.getColumns(!0))}):t=this.columns,t}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(s){t.push(s.getDefinition(!0))}),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(s){s.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(s){s.hide()}),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.table.initialized&&(this.element.style.width=e+"px"),this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(t){t.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this),this.subscribedExternal("columnWidth")&&this.dispatchExternal("columnWidth",this.getComponent())}checkCellHeights(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(t.row.getElement().offsetParent!==null?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(t){t.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(t){t.setMaxWidth()})}delete(){return new Promise((e,t)=>{this.isGroup&&this.columns.forEach(function(r){r.delete()}),this.dispatch("column-delete",this);var s=this.cells.length;for(let r=0;r<s;r++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var t=new su(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(r=>{r.clearWidth()}));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(r=>{var o=r.getWidth();o>t&&(t=o)}),t)){var s=t+1;e?this.setWidth(s):(this.maxInitialWidth&&!e&&(s=Math.min(s,this.maxInitialWidth)),this.setWidthActual(s))}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then(s=>(t.field==this.field&&(this.field=!1),this.delete().then(()=>s.getComponent()))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new xv(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}getParentComponent(){return this.parent instanceof Mo?this.parent.getComponent():!1}};Le(Mo,"defaultOptionList",t1);let Io=Mo;class ru{constructor(e){return this._row=e,new Proxy(this,{get:function(t,s,r){return typeof t[s]<"u"?t[s]:t._row.table.componentFunctionBinder.handle("row",t._row,s)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,t){return this._row.table.rowManager.scrollToRow(this._row,e,t)}move(e,t){this._row.moveToRow(e,t)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class Bi extends Li{constructor(e,t,s="row"){super(t.table),this.parent=t,this.data={},this.type=s,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,t){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,t),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,t)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var t=0,s=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(s=this.calcMinHeight(),t=this.calcMaxHeight(),e?this.height=Math.max(t,s):this.height=this.manualHeight?this.height:Math.max(t,s)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0}calcMaxHeight(){var e=0;return this.cells.forEach(function(t){var s=t.getHeight();s>e&&(e=s)}),e}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight,this.subscribedExternal("rowHeight")&&this.dispatchExternal("rowHeight",this.getComponent()))}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var t=this.element&&Lt.elVisible(this.element),s={},r;return new Promise((o,h)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(s=Object.assign(s,this.data),s=Object.assign(s,e)),r=this.chain("row-data-changing",[this,s,e],null,e);for(let p in r)this.data[p]=r[p];this.dispatch("row-data-save-after",this);for(let p in e)this.table.columnManager.getColumnsByFieldRoot(p).forEach(x=>{let k=this.getCell(x.getField());if(k){let R=x.getFieldValue(r);k.getValue()!==R&&(k.setValueProcessData(R),t&&k.cellRendered())}});t?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,t,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),o()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var t=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),t=this.cells.find(function(s){return s.column===e}),t}getCellIndex(e){return this.cells.findIndex(function(t){return t===e})}findCell(e){return this.cells.find(t=>t.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,t){var s=this.table.rowManager.findRow(e);s?(this.table.rowManager.moveRowActual(this,s,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let t=0;t<e;t++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(t=>{t(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new ru(this)),this.component}}var g2={avg:function(i,e,t){var s=0,r=typeof t.precision<"u"?t.precision:2;return i.length&&(s=i.reduce(function(o,h){return Number(o)+Number(h)}),s=s/i.length,s=r!==!1?s.toFixed(r):s),parseFloat(s).toString()},max:function(i,e,t){var s=null,r=typeof t.precision<"u"?t.precision:!1;return i.forEach(function(o){o=Number(o),(o>s||s===null)&&(s=o)}),s!==null?r!==!1?s.toFixed(r):s:""},min:function(i,e,t){var s=null,r=typeof t.precision<"u"?t.precision:!1;return i.forEach(function(o){o=Number(o),(o<s||s===null)&&(s=o)}),s!==null?r!==!1?s.toFixed(r):s:""},sum:function(i,e,t){var s=0,r=typeof t.precision<"u"?t.precision:!1;return i.length&&i.forEach(function(o){o=Number(o),s+=isNaN(o)?0:Number(o)}),r!==!1?s.toFixed(r):s},concat:function(i,e,t){var s=0;return i.length&&(s=i.reduce(function(r,o){return String(r)+String(o)})),s},count:function(i,e,t){var s=0;return i.length&&i.forEach(function(r){r&&s++}),s},unique:function(i,e,t){var s=i.filter((r,o)=>(i||r===0)&&i.indexOf(r)===o);return s.length}};const En=class En extends rt{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new Io({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,s={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":En.calculations[t.topCalc]?s.topCalc=En.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":s.topCalc=t.topCalc;break}s.topCalc&&(e.modules.columnCalcs=s,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":En.calculations[t.bottomCalc]?s.botCalc=En.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":s.botCalc=t.bottomCalc;break}s.botCalc&&(e.modules.columnCalcs=s,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var e=document.createDocumentFragment();this.topInitialized||(e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var t,s;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(t=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),s=this.generateRow("top",t),this.topRow=s;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(s.getElement()),s.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),s=this.generateRow("bottom",t),this.botRow=s;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(s.getElement()),s.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(t=>{this.recalcGroup(t)})}}recalcGroup(e){var t,s;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),s=this.generateRowData("bottom",t),e.calcs.bottom.updateData(s),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),s=this.generateRowData("top",t),e.calcs.top.updateData(s),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[],s=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,r=this.table.modules.dataTree;return e.forEach(o=>{var h;t.push(o.getData()),s&&((h=o.modules.dataTree)!=null&&h.open)&&this.rowsToData(r.getFilteredTreeChildren(o)).forEach(p=>{t.push(o)})}),t}generateRow(e,t){var s=this.generateRowData(e,t),r;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),r=new Bi(s,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),r.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),r.component=!1,r.getComponent=()=>(r.component||(r.component=new e1(r)),r.component),r.generateCells=()=>{var o=[];this.table.columnManager.columnsByIndex.forEach(h=>{this.genColumn.setField(h.getField()),this.genColumn.hozAlign=h.hozAlign,h.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter(h.definition[e+"CalcFormatter"]),params:h.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.lookupFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=h.definition.cssClass;var p=new su(this.genColumn,r);p.getElement(),p.column=h,p.setWidth(),h.cells.push(p),o.push(p),h.visible||p.hide()}),r.cells=o},r}generateRowData(e,t){var s={},r=e=="top"?this.topCalcs:this.botCalcs,o=e=="top"?"topCalc":"botCalc",h,p;return r.forEach(function(g){var x=[];g.modules.columnCalcs&&g.modules.columnCalcs[o]&&(t.forEach(function(k){x.push(g.getFieldValue(k))}),p=o+"Params",h=typeof g.modules.columnCalcs[p]=="function"?g.modules.columnCalcs[p](x,t):g.modules.columnCalcs[p],g.setFieldValue(s,g.modules.columnCalcs[o](x,t,h)))}),s}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},t;return this.table.options.groupBy&&this.table.modExists("groupRows")?(t=this.table.modules.groupRows.getGroups(!0),t.forEach(s=>{e[s.getKey()]=this.getGroupResults(s)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var t=e._getSelf(),s=e.getSubGroups(),r={},o={};return s.forEach(h=>{r[h.getKey()]=this.getGroupResults(h)}),o={top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:r},o}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}};Le(En,"moduleName","columnCalcs"),Le(En,"calculations",g2);let jc=En;class Cv extends rt{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),t.dataTreeBranchElement?t.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof t.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),t.dataTreeCollapseElement?typeof t.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?typeof t.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(s,r){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(s,r){return t.dataTreeStartExpanded[r]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var t;e&&(t=this.table.rowManager.getRows(),t.forEach(s=>{this.reinitializeRowChildren(s)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(t=>{e=e.concat(this.getTreeChildren(t,!1,!0))}),e}rowDataChanged(e,t,s){this.redrawNeeded(s)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var t=e.column.getField();t===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],s=Array.isArray(t),r=s||!s&&typeof t=="object"&&t!==null;!r&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!r&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:r?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&r?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&r?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:r}}reinitializeRowChildren(e){var t=this.getTreeChildren(e,!1,!0);t.forEach(function(s){s.reinitialize(!0)})}layoutRow(e){var t=this.elementField?e.getCell(this.elementField):e.getCells()[0],s=t.getElement(),r=e.modules.dataTree;r.branchEl&&(r.branchEl.parentNode&&r.branchEl.parentNode.removeChild(r.branchEl),r.branchEl=!1),r.controlEl&&(r.controlEl.parentNode&&r.controlEl.parentNode.removeChild(r.controlEl),r.controlEl=!1),this.generateControlElement(e,s),e.getElement().classList.add("tabulator-tree-level-"+r.index),r.index&&(this.branchEl?(r.branchEl=this.branchEl.cloneNode(!0),s.insertBefore(r.branchEl,s.firstChild),this.table.rtl?r.branchEl.style.marginRight=(r.branchEl.offsetWidth+r.branchEl.style.marginLeft)*(r.index-1)+r.index*this.indent+"px":r.branchEl.style.marginLeft=(r.branchEl.offsetWidth+r.branchEl.style.marginRight)*(r.index-1)+r.index*this.indent+"px"):this.table.rtl?s.style.paddingRight=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-right"))+r.index*this.indent+"px":s.style.paddingLeft=parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-left"))+r.index*this.indent+"px")}generateControlElement(e,t){var s=e.modules.dataTree,r=s.controlEl;t=t||e.getCells()[0].getElement(),s.children!==!1&&(s.open?(s.controlEl=this.collapseEl.cloneNode(!0),s.controlEl.addEventListener("click",o=>{o.stopPropagation(),this.collapseRow(e)})):(s.controlEl=this.expandEl.cloneNode(!0),s.controlEl.addEventListener("click",o=>{o.stopPropagation(),this.expandRow(e)})),s.controlEl.addEventListener("mousedown",o=>{o.stopPropagation()}),r&&r.parentNode===t?r.parentNode.replaceChild(s.controlEl,r):t.insertBefore(s.controlEl,t.firstChild))}getRows(e){var t=[];return e.forEach((s,r)=>{var o,h;t.push(s),s instanceof Bi&&(s.create(),o=s.modules.dataTree,!o.index&&o.children!==!1&&(h=this.getChildren(s,!1,!0),h.forEach(p=>{p.create(),t.push(p)})))}),t}getChildren(e,t,s){var r=e.modules.dataTree,o=[],h=[];return r.children!==!1&&(r.open||t)&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?o=this.table.modules.filter.filter(r.children):o=r.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o,s),o.forEach(p=>{h.push(p);var g=this.getChildren(p,!1,!0);g.forEach(x=>{h.push(x)})})),h}generateChildren(e){var t=[],s=e.getData()[this.field];return Array.isArray(s)||(s=[s]),s.forEach(r=>{var o=new Bi(r||{},this.table.rowManager);o.create(),o.modules.dataTree.index=e.modules.dataTree.index+1,o.modules.dataTree.parent=e,o.modules.dataTree.children&&(o.modules.dataTree.open=this.startOpen(o.getComponent(),o.modules.dataTree.index)),t.push(o)}),t}expandRow(e,t){var s=e.modules.dataTree;s.children!==!1&&(s.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var t=e.modules.dataTree,s=[],r;return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?r=this.table.modules.filter.filter(t.children):r=t.children,r.forEach(o=>{o instanceof Bi&&s.push(o)})),s}rowDeleting(e){var t=e.modules.dataTree;t&&t.children&&Array.isArray(t.children)&&t.children.forEach(s=>{s instanceof Bi&&s.wipe()})}rowDelete(e){var t=e.modules.dataTree.parent,s;t&&(s=this.findChildIndex(e,t),s!==!1&&t.data[this.field].splice(s,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.refreshData(!0)}addTreeChildRow(e,t,s,r){var o=!1;typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof r<"u"&&(o=this.findChildIndex(r,e),o!==!1&&e.data[this.field].splice(s?o:o+1,0,t)),o===!1&&(s?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var s=!1;return typeof e=="object"?e instanceof Bi?s=e.data:e instanceof ru?s=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?t.modules.dataTree&&(s=t.modules.dataTree.children.find(r=>r instanceof Bi?r.element===e:!1),s&&(s=s.data)):e===null&&(s=!1):typeof e>"u"?s=!1:s=t.data[this.field].find(r=>r.data[this.table.options.index]==e),s&&(Array.isArray(t.data[this.field])&&(s=t.data[this.field].indexOf(s)),s==-1&&(s=!1)),s}getTreeChildren(e,t,s){var r=e.modules.dataTree,o=[];return r&&r.children&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),r.children.forEach(h=>{h instanceof Bi&&(o.push(t?h.getComponent():h),s&&this.getTreeChildren(h,t,s).forEach(p=>{o.push(p)}))})),o}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}Le(Cv,"moduleName","dataTree");function b2(i,e={},t){var s=e.delimiter?e.delimiter:",",r=[],o=[];i.forEach(h=>{var p=[];switch(h.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":h.columns.forEach((g,x)=>{g&&g.depth===1&&(o[x]=typeof g.value>"u"||g.value===null?"":'"'+String(g.value).split('"').join('""')+'"')});break;case"row":h.columns.forEach(g=>{if(g){switch(typeof g.value){case"object":g.value=g.value!==null?JSON.stringify(g.value):"";break;case"undefined":g.value="";break}p.push('"'+String(g.value).split('"').join('""')+'"')}}),r.push(p.join(s));break}}),o.length&&r.unshift(o.join(s)),r=r.join(`
`),e.bom&&(r="\uFEFF"+r),t(r,"text/csv")}function v2(i,e,t){var s=[];i.forEach(r=>{var o={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(h=>{h&&(o[h.component.getTitleDownload()||h.component.getField()]=h.value)}),s.push(o);break}}),s=JSON.stringify(s,null,"	"),t(s,"application/json")}function y2(i,e={},t){var s=[],r=[],o={},h=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},p=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},g=e.jsPDF||{},x=e.title?e.title:"",k,R;g.orientation||(g.orientation=e.orientation||"landscape"),g.unit||(g.unit="pt"),i.forEach(W=>{switch(W.type){case"header":s.push(D(W));break;case"group":r.push(D(W,h));break;case"calc":r.push(D(W,p));break;case"row":r.push(D(W));break}});function D(W,V){var Y=[];return W.columns.forEach(ee=>{var B;if(ee){switch(typeof ee.value){case"object":ee.value=ee.value!==null?JSON.stringify(ee.value):"";break;case"undefined":ee.value="";break}B={content:ee.value,colSpan:ee.width,rowSpan:ee.height},V&&(B.styles=V),Y.push(B)}}),Y}k=this.dependencyRegistry.lookup("jspdf","jsPDF"),R=new k(g),e.autoTable&&(typeof e.autoTable=="function"?o=e.autoTable(R)||{}:o=e.autoTable),x&&(o.didDrawPage=function(W){R.text(x,40,30)}),o.head=s,o.body=r,R.autoTable(o),e.documentProcessing&&e.documentProcessing(R),t(R.output("arraybuffer"),"application/pdf")}function w2(i,e,t){var s=this,r=e.sheetName||"Sheet1",o=this.dependencyRegistry.lookup("XLSX"),h=o.utils.book_new(),p=new Li(this),g="compress"in e?e.compress:!0,x=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:g},k;x.type="binary",h.SheetNames=[],h.Sheets={};function R(){var V=[],Y=[],ee={},B={s:{c:0,r:0},e:{c:i[0]?i[0].columns.reduce((j,X)=>j+(X&&X.width?X.width:1),0):0,r:i.length}};return i.forEach((j,X)=>{var Z=[];j.columns.forEach(function(ce,fe){ce?(Z.push(!(ce.value instanceof Date)&&typeof ce.value=="object"?JSON.stringify(ce.value):ce.value),(ce.width>1||ce.height>-1)&&(ce.height>1||ce.width>1)&&Y.push({s:{r:X,c:fe},e:{r:X+ce.height-1,c:fe+ce.width-1}})):Z.push("")}),V.push(Z)}),o.utils.sheet_add_aoa(ee,V),ee["!ref"]=o.utils.encode_range(B),Y.length&&(ee["!merges"]=Y),ee}if(e.sheetOnly){t(R());return}if(e.sheets)for(var D in e.sheets)e.sheets[D]===!0?(h.SheetNames.push(D),h.Sheets[D]=R()):(h.SheetNames.push(D),p.commsSend(e.sheets[D],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:s.active,intercept:function(V){h.Sheets[D]=V}}));else h.SheetNames.push(r),h.Sheets[r]=R();e.documentProcessing&&(h=e.documentProcessing(h));function W(V){for(var Y=new ArrayBuffer(V.length),ee=new Uint8Array(Y),B=0;B!=V.length;++B)ee[B]=V.charCodeAt(B)&255;return Y}k=o.write(h,x),t(W(k),"application/octet-stream")}function x2(i,e,t){this.modExists("export",!0)&&t(this.modules.export.generateHTMLTable(i),"text/html")}function C2(i,e,t){const s=[];i.forEach(r=>{const o={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(h=>{h&&(o[h.component.getTitleDownload()||h.component.getField()]=h.value)}),s.push(JSON.stringify(o));break}}),t(s.join(`
`),"application/x-ndjson")}var E2={csv:b2,json:v2,jsonLines:C2,pdf:y2,xlsx:w2,html:x2};const Ia=class Ia extends rt{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(t,s){return new Blob([t],{type:s})}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){}downloadToTab(e,t,s,r){this.download(e,t,s,r,!0)}download(e,t,s,r,o){var h=!1;function p(x,k){o?o===!0?this.triggerDownload(x,k,e,t,!0):o(x):this.triggerDownload(x,k,e,t)}if(typeof e=="function"?h=e:Ia.downloaders[e]?h=Ia.downloaders[e]:console.warn("Download Error - No such download type found: ",e),h){var g=this.generateExportList(r);h.call(this.table,g,s||{},p.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),s=this.table.options.groupHeaderDownload;return s&&!Array.isArray(s)&&(s=[s]),t.forEach(r=>{var o;r.type==="group"&&(o=r.columns[0],s&&s[r.indent]&&(o.value=s[r.indent](o.value,r.component._group.getRowCount(),r.component._group.getData(),r.component)))}),t}triggerDownload(e,t,s,r,o){var h=document.createElement("a"),p=this.table.options.downloadEncoder(e,t);p&&(o?window.open(window.URL.createObjectURL(p)):(r=r||"Tabulator."+(typeof s=="function"?"txt":s),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(p,r):(h.setAttribute("href",window.URL.createObjectURL(p)),h.setAttribute("download",r),h.style.display="none",document.body.appendChild(h),h.click(),document.body.removeChild(h))),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,s){switch(t){case"intercept":this.download(s.type,"",s.options,s.active,s.intercept);break}}};Le(Ia,"moduleName","download"),Le(Ia,"downloaders",E2);let Wc=Ia;function Pp(i,e){var t=e.mask,s=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",r=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",o=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function h(p){var g=t[p];typeof g<"u"&&g!==o&&g!==s&&g!==r&&(i.value=i.value+""+g,h(p+1))}i.addEventListener("keydown",p=>{var g=i.value.length,x=p.key;if(p.keyCode>46&&!p.ctrlKey&&!p.metaKey){if(g>=t.length)return p.preventDefault(),p.stopPropagation(),!1;switch(t[g]){case s:if(x.toUpperCase()==x.toLowerCase())return p.preventDefault(),p.stopPropagation(),!1;break;case r:if(isNaN(x))return p.preventDefault(),p.stopPropagation(),!1;break;case o:break;default:if(x!==t[g])return p.preventDefault(),p.stopPropagation(),!1}}}),i.addEventListener("keyup",p=>{p.keyCode>46&&e.maskAutoFill&&h(i.value.length)}),i.placeholder||(i.placeholder=t),e.maskAutoFill&&h(i.value.length)}function k2(i,e,t,s,r){var o=i.getValue(),h=document.createElement("input");if(h.setAttribute("type",r.search?"search":"text"),h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let g in r.elementAttributes)g.charAt(0)=="+"?(g=g.slice(1),h.setAttribute(g,h.getAttribute(g)+r.elementAttributes["+"+g])):h.setAttribute(g,r.elementAttributes[g]);h.value=typeof o<"u"?o:"",e(function(){i.getType()==="cell"&&(h.focus({preventScroll:!0}),h.style.height="100%",r.selectContents&&h.select())});function p(g){(o===null||typeof o>"u")&&h.value!==""||h.value!==o?t(h.value)&&(o=h.value):s()}return h.addEventListener("change",p),h.addEventListener("blur",p),h.addEventListener("keydown",function(g){switch(g.keyCode){case 13:p();break;case 27:s();break;case 35:case 36:g.stopPropagation();break}}),r.mask&&Pp(h,r),h}function S2(i,e,t,s,r){var o=i.getValue(),h=r.verticalNavigation||"hybrid",p=String(o!==null&&typeof o<"u"?o:""),g=document.createElement("textarea"),x=0;if(g.style.display="block",g.style.padding="2px",g.style.height="100%",g.style.width="100%",g.style.boxSizing="border-box",g.style.whiteSpace="pre-wrap",g.style.resize="none",r.elementAttributes&&typeof r.elementAttributes=="object")for(let R in r.elementAttributes)R.charAt(0)=="+"?(R=R.slice(1),g.setAttribute(R,g.getAttribute(R)+r.elementAttributes["+"+R])):g.setAttribute(R,r.elementAttributes[R]);g.value=p,e(function(){i.getType()==="cell"&&(g.focus({preventScroll:!0}),g.style.height="100%",g.scrollHeight,g.style.height=g.scrollHeight+"px",i.getRow().normalizeHeight(),r.selectContents&&g.select())});function k(R){(o===null||typeof o>"u")&&g.value!==""||g.value!==o?(t(g.value)&&(o=g.value),setTimeout(function(){i.getRow().normalizeHeight()},300)):s()}return g.addEventListener("change",k),g.addEventListener("blur",k),g.addEventListener("keyup",function(){g.style.height="";var R=g.scrollHeight;g.style.height=R+"px",R!=x&&(x=R,i.getRow().normalizeHeight())}),g.addEventListener("keydown",function(R){switch(R.keyCode){case 13:R.shiftKey&&r.shiftEnterSubmit&&k();break;case 27:s();break;case 38:(h=="editor"||h=="hybrid"&&g.selectionStart)&&(R.stopImmediatePropagation(),R.stopPropagation());break;case 40:(h=="editor"||h=="hybrid"&&g.selectionStart!==g.value.length)&&(R.stopImmediatePropagation(),R.stopPropagation());break;case 35:case 36:R.stopPropagation();break}}),r.mask&&Pp(g,r),g}function M2(i,e,t,s,r){var o=i.getValue(),h=r.verticalNavigation||"editor",p=document.createElement("input");if(p.setAttribute("type","number"),typeof r.max<"u"&&p.setAttribute("max",r.max),typeof r.min<"u"&&p.setAttribute("min",r.min),typeof r.step<"u"&&p.setAttribute("step",r.step),p.style.padding="4px",p.style.width="100%",p.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let k in r.elementAttributes)k.charAt(0)=="+"?(k=k.slice(1),p.setAttribute(k,p.getAttribute(k)+r.elementAttributes["+"+k])):p.setAttribute(k,r.elementAttributes[k]);p.value=o;var g=function(k){x()};e(function(){i.getType()==="cell"&&(p.removeEventListener("blur",g),p.focus({preventScroll:!0}),p.style.height="100%",p.addEventListener("blur",g),r.selectContents&&p.select())});function x(){var k=p.value;!isNaN(k)&&k!==""&&(k=Number(k)),k!==o?t(k)&&(o=k):s()}return p.addEventListener("keydown",function(k){switch(k.keyCode){case 13:x();break;case 27:s();break;case 38:case 40:h=="editor"&&(k.stopImmediatePropagation(),k.stopPropagation());break;case 35:case 36:k.stopPropagation();break}}),r.mask&&Pp(p,r),p}function T2(i,e,t,s,r){var o=i.getValue(),h=document.createElement("input");if(h.setAttribute("type","range"),typeof r.max<"u"&&h.setAttribute("max",r.max),typeof r.min<"u"&&h.setAttribute("min",r.min),typeof r.step<"u"&&h.setAttribute("step",r.step),h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let g in r.elementAttributes)g.charAt(0)=="+"?(g=g.slice(1),h.setAttribute(g,h.getAttribute(g)+r.elementAttributes["+"+g])):h.setAttribute(g,r.elementAttributes[g]);h.value=o,e(function(){i.getType()==="cell"&&(h.focus({preventScroll:!0}),h.style.height="100%")});function p(){var g=h.value;!isNaN(g)&&g!==""&&(g=Number(g)),g!=o?t(g)&&(o=g):s()}return h.addEventListener("blur",function(g){p()}),h.addEventListener("keydown",function(g){switch(g.keyCode){case 13:p();break;case 27:s();break}}),h}function R2(i,e,t,s,r){var o=r.format,h=r.verticalNavigation||"editor",p=o?window.DateTime||luxon.DateTime:null,g=i.getValue(),x=document.createElement("input");function k(D){var W;return p.isDateTime(D)?W=D:o==="iso"?W=p.fromISO(String(D)):W=p.fromFormat(String(D),o),W.toFormat("yyyy-MM-dd")}if(x.type="date",x.style.padding="4px",x.style.width="100%",x.style.boxSizing="border-box",r.max&&x.setAttribute("max",o?k(r.max):r.max),r.min&&x.setAttribute("min",o?k(r.min):r.min),r.elementAttributes&&typeof r.elementAttributes=="object")for(let D in r.elementAttributes)D.charAt(0)=="+"?(D=D.slice(1),x.setAttribute(D,x.getAttribute(D)+r.elementAttributes["+"+D])):x.setAttribute(D,r.elementAttributes[D]);g=typeof g<"u"?g:"",o&&(p?g=k(g):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),x.value=g,e(function(){i.getType()==="cell"&&(x.focus({preventScroll:!0}),x.style.height="100%",r.selectContents&&x.select())});function R(){var D=x.value,W;if((g===null||typeof g>"u")&&D!==""||D!==g){if(D&&o)switch(W=p.fromFormat(String(D),"yyyy-MM-dd"),o){case!0:D=W;break;case"iso":D=W.toISO();break;default:D=W.toFormat(o)}t(D)&&(g=x.value)}else s()}return x.addEventListener("blur",function(D){(D.relatedTarget||D.rangeParent||D.explicitOriginalTarget!==x)&&R()}),x.addEventListener("keydown",function(D){switch(D.keyCode){case 13:R();break;case 27:s();break;case 35:case 36:D.stopPropagation();break;case 38:case 40:h=="editor"&&(D.stopImmediatePropagation(),D.stopPropagation());break}}),x}function L2(i,e,t,s,r){var o=r.format,h=r.verticalNavigation||"editor",p=o?window.DateTime||luxon.DateTime:null,g,x=i.getValue(),k=document.createElement("input");if(k.type="time",k.style.padding="4px",k.style.width="100%",k.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let D in r.elementAttributes)D.charAt(0)=="+"?(D=D.slice(1),k.setAttribute(D,k.getAttribute(D)+r.elementAttributes["+"+D])):k.setAttribute(D,r.elementAttributes[D]);x=typeof x<"u"?x:"",o&&(p?(p.isDateTime(x)?g=x:o==="iso"?g=p.fromISO(String(x)):g=p.fromFormat(String(x),o),x=g.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),k.value=x,e(function(){i.getType()=="cell"&&(k.focus({preventScroll:!0}),k.style.height="100%",r.selectContents&&k.select())});function R(){var D=k.value,W;if((x===null||typeof x>"u")&&D!==""||D!==x){if(D&&o)switch(W=p.fromFormat(String(D),"hh:mm"),o){case!0:D=W;break;case"iso":D=W.toISO();break;default:D=W.toFormat(o)}t(D)&&(x=k.value)}else s()}return k.addEventListener("blur",function(D){(D.relatedTarget||D.rangeParent||D.explicitOriginalTarget!==k)&&R()}),k.addEventListener("keydown",function(D){switch(D.keyCode){case 13:R();break;case 27:s();break;case 35:case 36:D.stopPropagation();break;case 38:case 40:h=="editor"&&(D.stopImmediatePropagation(),D.stopPropagation());break}}),k}function P2(i,e,t,s,r){var o=r.format,h=r.verticalNavigation||"editor",p=o?this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"):null,g,x=i.getValue(),k=document.createElement("input");if(k.type="datetime-local",k.style.padding="4px",k.style.width="100%",k.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let D in r.elementAttributes)D.charAt(0)=="+"?(D=D.slice(1),k.setAttribute(D,k.getAttribute(D)+r.elementAttributes["+"+D])):k.setAttribute(D,r.elementAttributes[D]);x=typeof x<"u"?x:"",o&&(p?(p.isDateTime(x)?g=x:o==="iso"?g=p.fromISO(String(x)):g=p.fromFormat(String(x),o),x=g.toFormat("yyyy-MM-dd")+"T"+g.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),k.value=x,e(function(){i.getType()==="cell"&&(k.focus({preventScroll:!0}),k.style.height="100%",r.selectContents&&k.select())});function R(){var D=k.value,W;if((x===null||typeof x>"u")&&D!==""||D!==x){if(D&&o)switch(W=p.fromISO(String(D)),o){case!0:D=W;break;case"iso":D=W.toISO();break;default:D=W.toFormat(o)}t(D)&&(x=k.value)}else s()}return k.addEventListener("blur",function(D){(D.relatedTarget||D.rangeParent||D.explicitOriginalTarget!==k)&&R()}),k.addEventListener("keydown",function(D){switch(D.keyCode){case 13:R();break;case 27:s();break;case 35:case 36:D.stopPropagation();break;case 38:case 40:h=="editor"&&(D.stopImmediatePropagation(),D.stopPropagation());break}}),k}let A2=class{constructor(e,t,s,r,o,h){this.edit=e,this.table=e.table,this.cell=t,this.params=this._initializeParams(h),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=t.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:r,cancel:o},this._deprecatedOptionsCheck(),this._initializeValue(),s(this._onRendered.bind(this))}_deprecatedOptionsCheck(){}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function t(s){s.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",t),setTimeout(()=>{e.removeEventListener("click",t)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,t=document.createElement("input");if(t.setAttribute("type",this.params.clearable?"search":"text"),t.style.padding="4px",t.style.width="100%",t.style.boxSizing="border-box",this.params.autocomplete||(t.style.cursor="default",t.style.caretColor="transparent"),e&&typeof e=="object")for(let s in e)s.charAt(0)=="+"?(s=s.slice(1),t.setAttribute(s,t.getAttribute(s)+e["+"+s])):t.setAttribute(s,e[s]);return this.params.mask&&Pp(t,this.params),this._bindInputEvents(t),t}_initializeParams(e){var t=["values","valuesURL","valuesLookup"],s;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",s=Object.keys(e).filter(r=>t.includes(r)).length,s?s>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t>0&&this._focusItem(this.displayItems[t-1]))}_keyDown(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<this.displayItems.length-1&&(t==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[t+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var t=String.fromCharCode(e).toLowerCase();this.filterTerm+=t.toLowerCase();var s=this.displayItems.find(r=>typeof r.label<"u"&&r.label.toLowerCase().startsWith(this.filterTerm));s&&this._focusItem(s),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var t=[],s=++this.listIteration;return this.filtered=!1,this.params.values?t=this.params.values:this.params.valuesURL?t=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?t=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(t=this._uniqueColumnValues(this.params.valuesLookupField)),t instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),t.then().then(r=>this.listIteration===s?this._parseList(r):Promise.reject(s))):Promise.resolve(this._parseList(t))}_addPlaceholder(e){var t=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?t=e:(t.classList.add("tabulator-edit-list-placeholder"),t.innerHTML=e),this.listEl.appendChild(t),this._showList())}_ajaxRequest(e,t){var s=this.params.filterRemote?{term:t}:{};return e=QE(e,{},s),fetch(e).then(r=>r.ok?r.json().catch(o=>(console.warn("List Ajax Load Error - Invalid JSON returned",o),Promise.reject(o))):(console.error("List Ajax Load Error - Connection Error: "+r.status,r.statusText),Promise.reject(r))).catch(r=>(console.error("List Ajax Load Error - Connection Error: ",r),Promise.reject(r)))}_uniqueColumnValues(e){var t={},s=this.table.getData(this.params.valuesLookup),r;return e?r=this.table.columnManager.getColumnByField(e):r=this.cell.getColumn()._getSelf(),r?s.forEach(o=>{var h=r.getFieldValue(o);this._emptyValueCheck(h)||(this.params.multiselect&&Array.isArray(h)?h.forEach(p=>{this._emptyValueCheck(p)||(t[p]=!0)}):t[h]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),t=[]),Object.keys(t)}_emptyValueCheck(e){return e===null||typeof e>"u"||e===""}_parseList(e){var t=[];return Array.isArray(e)||(e=Object.entries(e).map(([s,r])=>({label:r,value:s}))),e.forEach(s=>{typeof s!="object"&&(s={label:s,value:s}),this._parseListItem(s,t,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=t,t}_parseListItem(e,t,s){var r={};e.options?r=this._parseListGroup(e,s+1):(r={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:s,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(r,!0)),t.push(r)}_parseListGroup(e,t){var s={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:t,options:[],original:e};return e.options.forEach(r=>{this._parseListItem(r,s.options,t)}),s}_sortOptions(e){var t;return this.params.sort&&(t=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(t,e)),e}_sortGroup(e,t){t.sort((s,r)=>e(s.label,r.label,s.value,r.value,s.original,r.original)),t.forEach(s=>{s.group&&this._sortGroup(e,s.options)})}_defaultSortFunction(e,t){var s,r,o,h,p=0,g,x=/(\d+)|(\D+)/g,k=/\d/,R=0;if(this.params.sort==="desc"&&([e,t]=[t,e]),!e&&e!==0)R=!t&&t!==0?0:-1;else if(!t&&t!==0)R=1;else{if(isFinite(e)&&isFinite(t))return e-t;if(s=String(e).toLowerCase(),r=String(t).toLowerCase(),s===r)return 0;if(!(k.test(s)&&k.test(r)))return s>r?1:-1;for(s=s.match(x),r=r.match(x),g=s.length>r.length?r.length:s.length;p<g;)if(o=s[p],h=r[p++],o!==h)return isFinite(o)&&isFinite(h)?(o.charAt(0)==="0"&&(o="."+o),h.charAt(0)==="0"&&(h="."+h),o-h):o>h?1:-1;return s.length>r.length}return R}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,t=this.input.value;return t?(this.filtered=!0,this.data.forEach(s=>{this._filterItem(e,t,s)})):this.filtered=!1,this.data}_filterItem(e,t,s){var r=!1;return s.group?(s.options.forEach(o=>{this._filterItem(e,t,o)&&(r=!0)}),s.visible=r):s.visible=e(t,s.label,s.value,s.original),s.visible}_defaultFilterFunc(e,t,s,r){return e=String(e).toLowerCase(),t!==null&&typeof t<"u"&&(String(t).toLowerCase().indexOf(e)>-1||String(s).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(t=>{this._buildItem(t)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var t=e.element,s;if(!this.filtered||e.visible){if(!t){if(t=document.createElement("div"),t.tabIndex=0,s=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,t):e.label,s instanceof HTMLElement?t.appendChild(s):t.innerHTML=s,e.group?t.classList.add("tabulator-edit-list-group"):t.classList.add("tabulator-edit-list-item"),t.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let r in e.elementAttributes)r.charAt(0)=="+"?(r=r.slice(1),t.setAttribute(r,this.input.getAttribute(r)+e.elementAttributes["+"+r])):t.setAttribute(r,e.elementAttributes[r]);e.group?t.addEventListener("click",this._groupClick.bind(this,e)):t.addEventListener("click",this._itemClick.bind(this,e)),t.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=t}this._styleItem(e),this.listEl.appendChild(t),e.group?e.options.forEach(r=>{this._buildItem(r)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,t){t.stopPropagation(),this._chooseItem(e)}_groupClick(e,t){t.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,t){var s;this.typing=!1,this.params.multiselect?(s=this.currentItems.indexOf(e),s>-1?(this.currentItems.splice(s,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(r=>r.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),t||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var t,s;if(this.popup&&this.popup.hide(!0),this.params.multiselect)t=this.currentItems.map(r=>r.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")t=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?t=this.currentItems[0].value:(s=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,s===null||typeof s>"u"||s===""?t=s:t=this.params.emptyValue);t===""&&(t=this.params.emptyValue),this.actions.success(t),this.isFilter&&(this.initialValues=t&&!Array.isArray(t)?[t]:t,this.currentItems=[])}};function O2(i,e,t,s,r){var o=new A2(this,i,e,t,s,r);return o.input}function D2(i,e,t,s,r){var o=this,h=i.getElement(),p=i.getValue(),g=h.getElementsByTagName("svg").length||5,x=h.getElementsByTagName("svg")[0]?h.getElementsByTagName("svg")[0].getAttribute("width"):14,k=[],R=document.createElement("div"),D=document.createElementNS("http://www.w3.org/2000/svg","svg");function W(B){k.forEach(function(j,X){X<B?(o.table.browser=="ie"?j.setAttribute("class","tabulator-star-active"):j.classList.replace("tabulator-star-inactive","tabulator-star-active"),j.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(o.table.browser=="ie"?j.setAttribute("class","tabulator-star-inactive"):j.classList.replace("tabulator-star-active","tabulator-star-inactive"),j.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function V(B){var j=document.createElement("span"),X=D.cloneNode(!0);k.push(X),j.addEventListener("mouseenter",function(Z){Z.stopPropagation(),Z.stopImmediatePropagation(),W(B)}),j.addEventListener("mousemove",function(Z){Z.stopPropagation(),Z.stopImmediatePropagation()}),j.addEventListener("click",function(Z){Z.stopPropagation(),Z.stopImmediatePropagation(),t(B),h.blur()}),j.appendChild(X),R.appendChild(j)}function Y(B){p=B,W(B)}if(h.style.whiteSpace="nowrap",h.style.overflow="hidden",h.style.textOverflow="ellipsis",R.style.verticalAlign="middle",R.style.display="inline-block",R.style.padding="4px",D.setAttribute("width",x),D.setAttribute("height",x),D.setAttribute("viewBox","0 0 512 512"),D.setAttribute("xml:space","preserve"),D.style.padding="0 1px",r.elementAttributes&&typeof r.elementAttributes=="object")for(let B in r.elementAttributes)B.charAt(0)=="+"?(B=B.slice(1),R.setAttribute(B,R.getAttribute(B)+r.elementAttributes["+"+B])):R.setAttribute(B,r.elementAttributes[B]);for(var ee=1;ee<=g;ee++)V(ee);return p=Math.min(parseInt(p),g),W(p),R.addEventListener("mousemove",function(B){W(0)}),R.addEventListener("click",function(B){t(0)}),h.addEventListener("blur",function(B){s()}),h.addEventListener("keydown",function(B){switch(B.keyCode){case 39:Y(p+1);break;case 37:Y(p-1);break;case 13:t(p);break;case 27:s();break}}),R}function z2(i,e,t,s,r){var o=i.getElement(),h=typeof r.max>"u"?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,p=typeof r.min>"u"?o.getElementsByTagName("div")[0]&&o.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,g=(h-p)/100,x=i.getValue()||0,k=document.createElement("div"),R=document.createElement("div"),D,W;function V(){var Y=window.getComputedStyle(o,null),ee=g*Math.round(R.offsetWidth/((o.clientWidth-parseInt(Y.getPropertyValue("padding-left"))-parseInt(Y.getPropertyValue("padding-right")))/100))+p;t(ee),o.setAttribute("aria-valuenow",ee),o.setAttribute("aria-label",x)}if(k.style.position="absolute",k.style.right="0",k.style.top="0",k.style.bottom="0",k.style.width="5px",k.classList.add("tabulator-progress-handle"),R.style.display="inline-block",R.style.position="relative",R.style.height="100%",R.style.backgroundColor="#488CE9",R.style.maxWidth="100%",R.style.minWidth="0%",r.elementAttributes&&typeof r.elementAttributes=="object")for(let Y in r.elementAttributes)Y.charAt(0)=="+"?(Y=Y.slice(1),R.setAttribute(Y,R.getAttribute(Y)+r.elementAttributes["+"+Y])):R.setAttribute(Y,r.elementAttributes[Y]);return o.style.padding="4px 4px",x=Math.min(parseFloat(x),h),x=Math.max(parseFloat(x),p),x=Math.round((x-p)/g),R.style.width=x+"%",o.setAttribute("aria-valuemin",p),o.setAttribute("aria-valuemax",h),R.appendChild(k),k.addEventListener("mousedown",function(Y){D=Y.screenX,W=R.offsetWidth}),k.addEventListener("mouseover",function(){k.style.cursor="ew-resize"}),o.addEventListener("mousemove",function(Y){D&&(R.style.width=W+Y.screenX-D+"px")}),o.addEventListener("mouseup",function(Y){D&&(Y.stopPropagation(),Y.stopImmediatePropagation(),D=!1,W=!1,V())}),o.addEventListener("keydown",function(Y){switch(Y.keyCode){case 39:Y.preventDefault(),R.style.width=R.clientWidth+o.clientWidth/100+"px";break;case 37:Y.preventDefault(),R.style.width=R.clientWidth-o.clientWidth/100+"px";break;case 9:case 13:V();break;case 27:s();break}}),o.addEventListener("blur",function(){s()}),R}function N2(i,e,t,s,r){var o=i.getValue(),h=document.createElement("input"),p=r.tristate,g=typeof r.indeterminateValue>"u"?null:r.indeterminateValue,x=!1,k=Object.keys(r).includes("trueValue"),R=Object.keys(r).includes("falseValue");if(h.setAttribute("type","checkbox"),h.style.marginTop="5px",h.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let W in r.elementAttributes)W.charAt(0)=="+"?(W=W.slice(1),h.setAttribute(W,h.getAttribute(W)+r.elementAttributes["+"+W])):h.setAttribute(W,r.elementAttributes[W]);h.value=o,p&&(typeof o>"u"||o===g||o==="")&&(x=!0,h.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){i.getType()==="cell"&&h.focus({preventScroll:!0})}),h.checked=k?o===r.trueValue:o===!0||o==="true"||o==="True"||o===1;function D(W){var V=h.checked;return k&&V?V=r.trueValue:R&&!V&&(V=r.falseValue),p?W?x?g:V:h.checked&&!x?(h.checked=!1,h.indeterminate=!0,x=!0,g):(x=!1,V):V}return h.addEventListener("change",function(W){t(D())}),h.addEventListener("blur",function(W){t(D(!0))}),h.addEventListener("keydown",function(W){W.keyCode==13&&t(D()),W.keyCode==27&&s()}),h}function F2(i,e,t,s,r){var o=i._getSelf().column,h,p,g;function x(k){var R=k.getValue(),D="input";switch(typeof R){case"number":D="number";break;case"boolean":D="tickCross";break;case"string":R.includes(`
`)&&(D="textarea");break}return D}return h=r.editorLookup?r.editorLookup(i):x(i),r.paramsLookup&&(g=typeof r.paramsLookup=="function"?r.paramsLookup(h,i):r.paramsLookup[h]),p=this.table.modules.edit.lookupEditor(h,o),p.call(this,i,e,t,s,g||{})}var I2={input:k2,textarea:S2,number:M2,range:T2,date:R2,time:L2,datetime:P2,list:O2,star:D2,progress:z2,tickCross:N2,adaptable:F2};const wh=class wh extends rt{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.convertEmptyValues=!1,this.editors=wh.editors,this.registerTableOption("editTriggerEvent","focus"),this.registerTableOption("editorEmptyValue"),this.registerTableOption("editorEmptyValueFunc",this.emptyValueCheck.bind(this)),this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("editorEmptyValue"),this.registerColumnOption("editorEmptyValueFunc"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0)),Object.keys(this.table.options).includes("editorEmptyValue")&&(this.convertEmptyValues=!0)}pasteBlocker(e){if(this.currentCell)return!0}keybindingNavigateNext(e){var t=this.currentCell,s=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||s&&(t.getElement().firstChild.blur(),this.invalidEdit||(s===!0?s=this.table.addRow({}):typeof s=="function"?s=this.table.addRow(s(t.row.getComponent())):s=this.table.addRow(Object.assign({},s)),s.then(()=>{setTimeout(()=>{t.getComponent().navigateNext()})}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.table.modules.edit.clearEdited(t._getSelf())})}navigatePrev(e=this.currentCell,t){var s,r;if(e){if(t&&t.preventDefault(),s=this.navigateLeft(),s)return!0;if(r=this.table.rowManager.prevDisplayRow(e.row,!0),r&&(s=this.findPrevEditableCell(r,r.cells.length),s))return s.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var s,r;if(e){if(t&&t.preventDefault(),s=this.navigateRight(),s)return!0;if(r=this.table.rowManager.nextDisplayRow(e.row,!0),r&&(s=this.findNextEditableCell(r,-1),s))return s.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var s,r;return e&&(t&&t.preventDefault(),s=e.getIndex(),r=this.findPrevEditableCell(e.row,s),r)?(r.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,t){var s,r;return e&&(t&&t.preventDefault(),s=e.getIndex(),r=this.findNextEditableCell(e.row,s),r)?(r.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,t){var s,r;return e&&(t&&t.preventDefault(),s=e.getIndex(),r=this.table.rowManager.prevDisplayRow(e.row,!0),r)?(r.cells[s].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,t){var s,r;return e&&(t&&t.preventDefault(),s=e.getIndex(),r=this.table.rowManager.nextDisplayRow(e.row,!0),r)?(r.cells[s].getComponent().edit(),!0):!1}findNextEditableCell(e,t){var s=!1;if(t<e.cells.length-1)for(var r=t+1;r<e.cells.length;r++){let o=e.cells[r];if(o.column.modules.edit&&Lt.elVisible(o.getElement())&&this.allowEdit(o)){s=o;break}}return s}findPrevEditableCell(e,t){var s=!1;if(t>0)for(var r=t-1;r>=0;r--){let o=e.cells[r];if(o.column.modules.edit&&Lt.elVisible(o.getElement())&&this.allowEdit(o)){s=o;break}}return s}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(t=>{t.column.modules.edit&&typeof t.column.modules.edit.check=="function"&&this.updateCellClass(t)})}initializeColumn(e){var t=Object.keys(e.definition).includes("editorEmptyValue"),s={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{},convertEmptyValues:t,editorEmptyValue:e.definition.editorEmptyValue,editorEmptyValueFunc:e.definition.editorEmptyValueFunc};s.editor=this.lookupEditor(e.definition.editor,e),s.editor&&(e.modules.edit=s)}lookupEditor(e,t){var s;switch(typeof e){case"string":this.editors[e]?s=this.editors[e]:console.warn("Editor Error - No such editor found: ",e);break;case"function":s=e;break;case"boolean":e===!0&&(typeof t.definition.formatter!="function"?this.editors[t.definition.formatter]?s=this.editors[t.definition.formatter]:s=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",t.definition.formatter));break}return s}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var t=this.currentCell,s;if(this.invalidEdit=!1,t){for(this.currentCell=!1,s=t.getElement(),this.dispatch("edit-editor-clear",t,e),s.classList.remove("tabulator-editing");s.firstChild;)s.removeChild(s.firstChild);t.row.getElement().classList.remove("tabulator-editing"),t.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,s=e.getElement(!0);this.updateCellClass(e),s.setAttribute("tabindex",0),s.addEventListener("mousedown",function(r){r.button===2?r.preventDefault():t.mouseClick=!0}),this.options("editTriggerEvent")==="dblclick"&&s.addEventListener("dblclick",function(r){s.classList.contains("tabulator-editing")||(s.focus({preventScroll:!0}),t.edit(e,r,!1))}),(this.options("editTriggerEvent")==="focus"||this.options("editTriggerEvent")==="click")&&s.addEventListener("click",function(r){s.classList.contains("tabulator-editing")||(s.focus({preventScroll:!0}),t.edit(e,r,!1))}),this.options("editTriggerEvent")==="focus"&&s.addEventListener("focus",function(r){t.recursionBlock||t.edit(e,r,!1)})}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var t=this.table.rowManager.element.scrollTop,s=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,r=e.row.getElement();r.offsetTop<t?this.table.rowManager.element.scrollTop-=t-r.offsetTop:r.offsetTop+r.offsetHeight>s&&(this.table.rowManager.element.scrollTop+=r.offsetTop+r.offsetHeight-s);var o=this.table.rowManager.element.scrollLeft,h=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,p=e.getElement();this.table.modExists("frozenColumns")&&(o+=parseInt(this.table.modules.frozenColumns.leftMargin||0),h-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(o-=parseInt(this.table.columnManager.renderer.vDomPadLeft),h-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),p.offsetLeft<o?this.table.rowManager.element.scrollLeft-=o-p.offsetLeft:p.offsetLeft+p.offsetWidth>h&&(this.table.rowManager.element.scrollLeft+=p.offsetLeft+p.offsetWidth-h)}}allowEdit(e){var t=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(t=e.column.modules.edit.check(e.getComponent()));break;case"string":t=!!e.row.data[e.column.modules.edit.check];break;case"boolean":t=e.column.modules.edit.check;break}return t}edit(e,t,s){var r=this,o=!0,h=function(){},p=e.getElement(),g=!1,x,k,R;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function D(B){if(r.currentCell===e&&!g){var j=r.chain("edit-success",[e,B],!0,!0);return j===!0||r.table.options.validationMode==="highlight"?(g=!0,r.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,r.editedCells.indexOf(e)==-1&&r.editedCells.push(e),B=r.transformEmptyValues(B,e),e.setValue(B,!0),j===!0):(g=!0,r.invalidEdit=!0,r.focusCellNoEvent(e,!0),h(),setTimeout(()=>{g=!1},10),!1)}}function W(){r.currentCell===e&&!g&&r.cancelEdit()}function V(B){h=B}if(e.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(p),!1;if(t&&t.stopPropagation(),o=this.allowEdit(e),o||s){if(r.cancelEdit(),r.currentCell=e,this.focusScrollAdjust(e),k=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,k)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,k),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",k),R=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(k):e.column.modules.edit.params,x=e.column.modules.edit.editor.call(r,k,V,D,W,R),this.currentCell&&x!==!1)if(x instanceof Node){for(p.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");p.firstChild;)p.removeChild(p.firstChild);p.appendChild(x),h();for(var Y=p.children,ee=0;ee<Y.length;ee++)Y[ee].addEventListener("click",function(B){B.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",x),this.blur(p),!1;else return this.blur(p),!1;return!0}else return this.mouseClick=!1,this.blur(p),!1}emptyValueCheck(e){return e===""||e===null||typeof e>"u"}transformEmptyValues(e,t){var s=t.column.modules.edit,r=s.convertEmptyValues||this.convertEmptyValues,o;return r&&(o=s.editorEmptyValueFunc||this.options("editorEmptyValueFunc"),o&&o(e)&&(e=s.convertEmptyValues?s.editorEmptyValue:this.options("editorEmptyValue"))),e}blur(e){this.confirm("edit-blur",[e])||e.blur()}getEditedCells(){var e=[];return this.editedCells.forEach(t=>{e.push(t.getComponent())}),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),t=this.editedCells.indexOf(e),t>-1&&this.editedCells.splice(t,1)}};Le(wh,"moduleName","edit"),Le(wh,"editors",I2);let Vc=wh;class Hw{constructor(e,t,s,r){this.type=e,this.columns=t,this.component=s||!1,this.indent=r||0}}class og{constructor(e,t,s,r,o){this.value=e,this.component=t||!1,this.width=s,this.height=r,this.depth=o}}var H2={},B2={visible:function(){return this.rowManager.getVisibleRows(!1,!0)},all:function(){return this.rowManager.rows},selected:function(){return this.modules.selectRow.selectedRows},active:function(){return this.options.pagination?this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2):this.rowManager.getDisplayRows()}};const kn=class kn extends rt{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.colVisPropAttach="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,s,r){var o,h,p,g;return this.cloneTableStyle=t,this.config=e||{},this.colVisProp=r,this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1),g=kn.columnLookups[s],g&&(p=g.call(this.table),p=p.filter(x=>this.columnVisCheck(x))),o=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders(p)):[],p&&(p=p.map(x=>x.getComponent())),h=this.bodyToExportRows(this.rowLookup(s),p),o.concat(h)}generateTable(e,t,s,r){var o=this.generateExportList(e,t,s,r);return this.generateTableElement(o)}rowLookup(e){var t=[],s;return typeof e=="function"?e.call(this.table).forEach(r=>{r=this.table.rowManager.findRow(r),r&&t.push(r)}):(s=kn.rowLookups[e]||kn.rowLookups.active,t=s.call(this.table)),Object.assign([],t)}generateColumnGroupHeaders(e){var t=[];return e||(e=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),e.forEach(s=>{var r=this.processColumnGroup(s);r&&t.push(r)}),t}processColumnGroup(e){var t=e.columns,s=0,r=e.definition["title"+this.colVisPropAttach]||e.definition.title,o={title:r,column:e,depth:1};if(t.length){if(o.subGroups=[],o.width=0,t.forEach(h=>{var p=this.processColumnGroup(h);p&&(o.width+=p.width,o.subGroups.push(p),p.depth>s&&(s=p.depth))}),o.depth+=s,!o.width)return!1}else if(this.columnVisCheck(e))o.width=1;else return!1;return o}columnVisCheck(e){var t=e.definition[this.colVisProp];return this.config.rowHeaders===!1&&e.isRowHeader?!1:(typeof t=="function"&&(t=t.call(this.table,e.getComponent())),t===!1||t===!0?t:e.visible&&e.field)}headersToExportRows(e){var t=[],s=0,r=[];function o(h,p){var g=s-p;if(typeof t[p]>"u"&&(t[p]=[]),h.height=h.subGroups?1:g-h.depth+1,t[p].push(h),h.height>1)for(let x=1;x<h.height;x++)typeof t[p+x]>"u"&&(t[p+x]=[]),t[p+x].push(!1);if(h.width>1)for(let x=1;x<h.width;x++)t[p].push(!1);h.subGroups&&h.subGroups.forEach(function(x){o(x,p+1)})}return e.forEach(function(h){h.depth>s&&(s=h.depth)}),e.forEach(function(h){o(h,0)}),t.forEach(h=>{var p=[];h.forEach(g=>{if(g){let x=typeof g.title>"u"?"":g.title;p.push(new og(x,g.column.getComponent(),g.width,g.height,g.depth))}else p.push(null)}),r.push(new Hw("header",p))}),r}bodyToExportRows(e,t=[]){var s=[];return t.length===0&&this.table.columnManager.columnsByIndex.forEach(r=>{this.columnVisCheck(r)&&t.push(r.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(r=>{switch(r.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&r.modules.dataTree.parent)}return!0}),e.forEach((r,o)=>{var h=r.getData(this.colVisProp),p=[],g=0;switch(r.type){case"group":g=r.level,p.push(new og(r.key,r.getComponent(),t.length,1));break;case"calc":case"row":t.forEach(x=>{p.push(new og(x._column.getFieldValue(h),x,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(g=r.modules.dataTree.index);break}s.push(new Hw(r.type,p,r.getComponent(),g))}),s}generateTableElement(e){var t=document.createElement("table"),s=document.createElement("thead"),r=document.createElement("tbody"),o=this.lookupTableStyles(),h=this.table.options["rowFormatter"+this.colVisPropAttach],p={};return p.rowFormatter=h!==null?h:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(p.treeElementField=this.table.modules.dataTree.elementField),p.groupHeader=this.table.options["groupHeader"+this.colVisPropAttach],p.groupHeader&&!Array.isArray(p.groupHeader)&&(p.groupHeader=[p.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),s,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((g,x)=>{let k;switch(g.type){case"header":s.appendChild(this.generateHeaderElement(g,p,o));break;case"group":r.appendChild(this.generateGroupElement(g,p,o));break;case"calc":r.appendChild(this.generateCalcElement(g,p,o));break;case"row":k=this.generateRowElement(g,p,o),this.mapElementStyles(x%2&&o.evenRow?o.evenRow:o.oddRow,k,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r.appendChild(k);break}}),s.innerHTML&&t.appendChild(s),t.appendChild(r),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.styleRowHeader=e.firstRow.getElementsByClassName("tabulator-row-header")[0],e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,t,s){var r=document.createElement("tr");return e.columns.forEach(o=>{if(o){var h=document.createElement("th"),p=o.component._column.definition.cssClass?o.component._column.definition.cssClass.split(" "):[];h.colSpan=o.width,h.rowSpan=o.height,h.innerHTML=o.value,this.cloneTableStyle&&(h.style.boxSizing="border-box"),p.forEach(function(g){h.classList.add(g)}),this.mapElementStyles(o.component.getElement(),h,["text-align","border-left","border-right","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(o.component._column.contentElement,h,["padding-top","padding-left","padding-right","padding-bottom"]),o.component._column.visible?this.mapElementStyles(o.component.getElement(),h,["width"]):o.component._column.definition.width&&(h.style.width=o.component._column.definition.width+"px"),o.component._column.parent&&o.component._column.parent.isGroup?this.mapElementStyles(o.component._column.parent.groupElement,h,["border-top"]):this.mapElementStyles(o.component.getElement(),h,["border-top"]),o.component._column.isGroup?this.mapElementStyles(o.component.getElement(),h,["border-bottom"]):this.mapElementStyles(this.table.columnManager.getElement(),h,["border-bottom"]),r.appendChild(h)}}),r}generateGroupElement(e,t,s){var r=document.createElement("tr"),o=document.createElement("td"),h=e.columns[0];return r.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?h.value=t.groupHeader[e.indent](h.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):t.groupHeader!==!1&&(h.value=e.component._group.generator(h.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),o.colSpan=h.width,o.innerHTML=h.value,r.classList.add("tabulator-print-table-group"),r.classList.add("tabulator-group-level-"+e.indent),h.component.isVisible()&&r.classList.add("tabulator-group-visible"),this.mapElementStyles(s.firstGroup,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(s.firstGroup,o,["padding-top","padding-left","padding-right","padding-bottom"]),r.appendChild(o),r}generateCalcElement(e,t,s){var r=this.generateRowElement(e,t,s);return r.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(s.calcRow,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r}generateRowElement(e,t,s){var r=document.createElement("tr");if(r.classList.add("tabulator-print-table-row"),e.columns.forEach((o,h)=>{if(o){var p=document.createElement("td"),g=o.component._column,x=this.table,k=x.columnManager.findColumnIndex(g),R=o.value,D,W,V={modules:{},getValue:function(){return R},getField:function(){return g.definition.field},getElement:function(){return p},getType:function(){return"cell"},getColumn:function(){return g.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getTable:function(){return x},getComponent:function(){return V},column:g},Y=g.definition.cssClass?g.definition.cssClass.split(" "):[];if(Y.forEach(function(ee){p.classList.add(ee)}),this.table.modExists("format")&&this.config.formatCells!==!1)R=this.table.modules.format.formatExportValue(V,this.colVisProp);else switch(typeof R){case"object":R=R!==null?JSON.stringify(R):"";break;case"undefined":R="";break}R instanceof Node?p.appendChild(R):p.innerHTML=R,W=["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"],g.isRowHeader?(D=s.styleRowHeader,W.push("background-color")):D=s.styleCells&&s.styleCells[k]?s.styleCells[k]:s.firstCell,D&&(this.mapElementStyles(D,p,W),g.definition.align&&(p.style.textAlign=g.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(t.treeElementField&&t.treeElementField==g.field||!t.treeElementField&&h==0)&&(e.component._row.modules.dataTree.controlEl&&p.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),p.firstChild),e.component._row.modules.dataTree.branchEl&&p.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),p.firstChild)),r.appendChild(p),V.modules.format&&V.modules.format.renderedCallback&&V.modules.format.renderedCallback()}}),t.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let o=Object.assign(e.component);o.getElement=function(){return r},t.rowFormatter(e.component)}return r}generateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.generateTableElement(e)),t.innerHTML}getHtml(e,t,s,r){var o=this.generateExportList(s||this.table.options.htmlOutputConfig,t,e,r||"htmlOutput");return this.generateHTMLTable(o)}mapElementStyles(e,t,s){if(this.cloneTableStyle&&e&&t){var r={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var o=window.getComputedStyle(e);s.forEach(function(h){t.style[r[h]]||(t.style[r[h]]=o.getPropertyValue(h))})}}}};Le(kn,"moduleName","export"),Le(kn,"columnLookups",H2),Le(kn,"rowLookups",B2);let Uc=kn;var _2={"=":function(i,e,t,s){return e==i},"<":function(i,e,t,s){return e<i},"<=":function(i,e,t,s){return e<=i},">":function(i,e,t,s){return e>i},">=":function(i,e,t,s){return e>=i},"!=":function(i,e,t,s){return e!=i},regex:function(i,e,t,s){return typeof i=="string"&&(i=new RegExp(i)),i.test(e)},like:function(i,e,t,s){return i===null||typeof i>"u"?e===i:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(i.toLowerCase())>-1:!1},keywords:function(i,e,t,s){var r=i.toLowerCase().split(typeof s.separator>"u"?" ":s.separator),o=String(e===null||typeof e>"u"?"":e).toLowerCase(),h=[];return r.forEach(p=>{o.includes(p)&&h.push(!0)}),s.matchAll?h.length===r.length:!!h.length},starts:function(i,e,t,s){return i===null||typeof i>"u"?e===i:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(i.toLowerCase()):!1},ends:function(i,e,t,s){return i===null||typeof i>"u"?e===i:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(i.toLowerCase()):!1},in:function(i,e,t,s){return Array.isArray(i)?i.length?i.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",i),!1)}};const _r=class _r extends rt{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var t=this.table.columnManager.findColumn(e.field);if(t)this.setHeaderFilterValue(t,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,t,s,r){return r.filter=this.getFilters(!0,!0),r}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,t,s,r){this.setFilter(e,t,s,r),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,s,r){this.addFilter(e,t,s,r),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(t)this.setHeaderFilterFocus(t);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var s=this.table.columnManager.findColumn(e);if(s)this.setHeaderFilterValue(s,t);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,t,s){this.removeFilter(e,t,s),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,s){return this.search("rows",e,t,s)}searchData(e,t,s){return this.search("data",e,t,s)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&this.initializeColumn(e)}initializeColumn(e,t){var s=this,r=e.getField();function o(h){var p=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",g="",x="",k;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==h){if(e.modules.filter.prevSuccess=h,e.modules.filter.emptyFunc(h))delete s.headerFilters[r];else{switch(e.modules.filter.value=h,typeof e.definition.headerFilterFunc){case"string":_r.filters[e.definition.headerFilterFunc]?(g=e.definition.headerFilterFunc,k=function(R){var D=e.definition.headerFilterFuncParams||{},W=e.getFieldValue(R);return D=typeof D=="function"?D(h,W,R):D,_r.filters[e.definition.headerFilterFunc](h,W,R,D)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":k=function(R){var D=e.definition.headerFilterFuncParams||{},W=e.getFieldValue(R);return D=typeof D=="function"?D(h,W,R):D,e.definition.headerFilterFunc(h,W,R,D)},g=k;break}if(!k)switch(p){case"partial":k=function(R){var D=e.getFieldValue(R);return typeof D<"u"&&D!==null?String(D).toLowerCase().indexOf(String(h).toLowerCase())>-1:!1},g="like";break;default:k=function(R){return e.getFieldValue(R)==h},g="="}s.headerFilters[r]={value:h,func:k,type:g}}e.modules.filter.value=h,x=JSON.stringify(s.headerFilters),s.prevHeaderFilterChangeCheck!==x&&(s.prevHeaderFilterChangeCheck=x,s.trackChanges(),s.refreshFilter())}return!0}e.modules.filter={success:o,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,s){var r=this,o=e.modules.filter.success,h=e.getField(),p,g,x,k,R,D,W,V;e.modules.filter.value=t;function Y(){}function ee(B){V=B}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),h){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(B){return!B&&B!==0},p=document.createElement("div"),p.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":r.table.modules.edit.editors[e.definition.headerFilter]?(g=r.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(B){return B!==!0&&B!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":g=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?g=e.modules.edit.editor:e.definition.formatter&&r.table.modules.edit.editors[e.definition.formatter]?(g=r.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(B){return B!==!0&&B!==!1})):g=r.table.modules.edit.editors.input;break}if(g){if(k={getValue:function(){return typeof t<"u"?t:""},getField:function(){return e.definition.field},getElement:function(){return p},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},W=e.definition.headerFilterParams||{},W=typeof W=="function"?W.call(r.table,k):W,x=g.call(this.table.modules.edit,k,ee,o,Y,W),!x){console.warn("Filter Error - Cannot add filter to "+h+" column, editor returned a value of false");return}if(!(x instanceof Node)){console.warn("Filter Error - Cannot add filter to "+h+" column, editor should return an instance of Node, the editor returned:",x);return}r.langBind("headerFilters|columns|"+e.definition.field,function(B){x.setAttribute("placeholder",typeof B<"u"&&B?B:e.definition.headerFilterPlaceholder||r.langText("headerFilters|default"))}),x.addEventListener("click",function(B){B.stopPropagation(),x.focus()}),x.addEventListener("focus",B=>{var j=this.table.columnManager.contentsElement.scrollLeft,X=this.table.rowManager.element.scrollLeft;j!==X&&(this.table.rowManager.scrollHorizontal(j),this.table.columnManager.scrollHorizontal(j))}),R=!1,D=function(B){R&&clearTimeout(R),R=setTimeout(function(){o(x.value)},r.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=x,e.modules.filter.attrType=x.hasAttribute("type")?x.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=x.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(x.addEventListener("keyup",D),x.addEventListener("search",D),e.modules.filter.attrType=="number"&&x.addEventListener("change",function(B){o(x.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&x.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&x.addEventListener("mousedown",function(B){B.stopPropagation()})),p.appendChild(x),e.contentElement.appendChild(p),s||r.headerFilterColumns.push(e),V&&V()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,s,r){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:s,params:r}]),this.addFilter(e)}addFilter(e,t,s,r){var o=!1;Array.isArray(e)||(e=[{field:e,type:t,value:s,params:r}]),e.forEach(h=>{h=this.findFilter(h),h&&(this.filterList.push(h),o=!0)}),o&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var s=!1;return typeof e.field=="function"?s=function(r){return e.field(r,e.type||{})}:_r.filters[e.type]?(t=this.table.columnManager.getColumnByField(e.field),t?s=function(r){return _r.filters[e.type](e.value,t.getFieldValue(r),r,e.params||{})}:s=function(r){return _r.filters[e.type](e.value,r[e.field],r,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=s,e.func?e:!1}findSubFilters(e){var t=[];return e.forEach(s=>{s=this.findFilter(s),s&&t.push(s)}),t.length?t:!1}getFilters(e,t){var s=[];return e&&(s=this.getHeaderFilters()),t&&s.forEach(function(r){typeof r.type=="function"&&(r.type="function")}),s=s.concat(this.filtersToArray(this.filterList,t)),s}filtersToArray(e,t){var s=[];return e.forEach(r=>{var o;Array.isArray(r)?s.push(this.filtersToArray(r,t)):(o={field:r.field,type:r.type,value:r.value},t&&typeof o.type=="function"&&(o.type="function"),s.push(o))}),s}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,s){Array.isArray(e)||(e=[{field:e,type:t,value:s}]),e.forEach(r=>{var o=-1;typeof r.field=="object"?o=this.filterList.findIndex(h=>r===h):o=this.filterList.findIndex(h=>r.field===h.field&&r.type===h.type&&r.value===h.value),o>-1?this.filterList.splice(o,1):console.warn("Filter Error - No matching filter type found, ignoring: ",r.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,t,s,r){var o=[],h=[];return Array.isArray(t)||(t=[{field:t,type:s,value:r}]),t.forEach(p=>{p=this.findFilter(p),p&&h.push(p)}),this.table.rowManager.rows.forEach(p=>{var g=!0;h.forEach(x=>{this.filterRecurse(x,p.getData())||(g=!1)}),g&&o.push(e==="data"?p.getData("data"):p.getComponent())}),o}filter(e,t){var s=[],r=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(o=>{this.filterRow(o)&&s.push(o)}):s=e.slice(0),this.subscribedExternal("dataFiltered")&&(s.forEach(o=>{r.push(o.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),r)),s}filterRow(e,t){var s=!0,r=e.getData();this.filterList.forEach(h=>{this.filterRecurse(h,r)||(s=!1)});for(var o in this.headerFilters)this.headerFilters[o].func(r)||(s=!1);return s}filterRecurse(e,t){var s=!1;return Array.isArray(e)?e.forEach(r=>{this.filterRecurse(r,t)&&(s=!0)}):s=e.func(t),s}};Le(_r,"moduleName","filter"),Le(_r,"filters",_2);let Gc=_r;function j2(i,e,t){return this.emptyToSpace(this.sanitizeHTML(i.getValue()))}function W2(i,e,t){return i.getValue()}function V2(i,e,t){return i.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(i.getValue()))}function U2(i,e,t){var s=parseFloat(i.getValue()),r="",o,h,p,g,x,k=e.decimal||".",R=e.thousand||",",D=e.negativeSign||"-",W=e.symbol||"",V=!!e.symbolAfter,Y=typeof e.precision<"u"?e.precision:2;if(isNaN(s))return this.emptyToSpace(this.sanitizeHTML(i.getValue()));if(s<0&&(s=Math.abs(s),r=D),o=Y!==!1?s.toFixed(Y):s,o=String(o).split("."),h=o[0],p=o.length>1?k+o[1]:"",e.thousand!==!1)for(g=/(\d+)(\d{3})/;g.test(h);)h=h.replace(g,"$1"+R+"$2");return x=h+p,r===!0?(x="("+x+")",V?x+W:W+x):V?r+x+W:r+W+x}function G2(i,e,t){var s=i.getValue(),r=e.urlPrefix||"",o=e.download,h=s,p=document.createElement("a"),g;function x(k,R){var D=k.shift(),W=R[D];return k.length&&typeof W=="object"?x(k,W):W}if(e.labelField&&(g=i.getData(),h=x(e.labelField.split(this.table.options.nestedFieldSeparator),g)),e.label)switch(typeof e.label){case"string":h=e.label;break;case"function":h=e.label(i);break}if(h){if(e.urlField&&(g=i.getData(),s=Lt.retrieveNestedData(this.table.options.nestedFieldSeparator,e.urlField,g)),e.url)switch(typeof e.url){case"string":s=e.url;break;case"function":s=e.url(i);break}return p.setAttribute("href",r+s),e.target&&p.setAttribute("target",e.target),e.download&&(typeof o=="function"?o=o(i):o=o===!0?"":o,p.setAttribute("download",o)),p.innerHTML=this.emptyToSpace(this.sanitizeHTML(h)),p}else return"&nbsp;"}function X2(i,e,t){var s=document.createElement("img"),r=i.getValue();switch(e.urlPrefix&&(r=e.urlPrefix+i.getValue()),e.urlSuffix&&(r=r+e.urlSuffix),s.setAttribute("src",r),typeof e.height){case"number":s.style.height=e.height+"px";break;case"string":s.style.height=e.height;break}switch(typeof e.width){case"number":s.style.width=e.width+"px";break;case"string":s.style.width=e.width;break}return s.addEventListener("load",function(){i.getRow().normalizeHeight()}),s}function Y2(i,e,t){var s=i.getValue(),r=i.getElement(),o=e.allowEmpty,h=e.allowTruthy,p=Object.keys(e).includes("trueValue"),g=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',x=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return p&&s===e.trueValue||!p&&(h&&s||s===!0||s==="true"||s==="True"||s===1||s==="1")?(r.setAttribute("aria-checked",!0),g||""):o&&(s==="null"||s===""||s===null||typeof s>"u")?(r.setAttribute("aria-checked","mixed"),""):(r.setAttribute("aria-checked",!1),x||"")}function $2(i,e,t){var s=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),r=e.inputFormat||"yyyy-MM-dd HH:mm:ss",o=e.outputFormat||"dd/MM/yyyy HH:mm:ss",h=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",p=i.getValue();if(typeof s<"u"){var g;return s.isDateTime(p)?g=p:r==="iso"?g=s.fromISO(String(p)):g=s.fromFormat(String(p),r),g.isValid?(e.timezone&&(g=g.setZone(e.timezone)),g.toFormat(o)):h===!0||!p?p:typeof h=="function"?h(p):h}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function K2(i,e,t){var s=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),r=e.inputFormat||"yyyy-MM-dd HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",h=typeof e.suffix<"u"?e.suffix:!1,p=typeof e.unit<"u"?e.unit:"days",g=typeof e.humanize<"u"?e.humanize:!1,x=typeof e.date<"u"?e.date:s.now(),k=i.getValue();if(typeof s<"u"){var R;return s.isDateTime(k)?R=k:r==="iso"?R=s.fromISO(String(k)):R=s.fromFormat(String(k),r),R.isValid?g?R.diff(x,p).toHuman()+(h?" "+h:""):parseInt(R.diff(x,p)[p])+(h?" "+h:""):o===!0?k:typeof o=="function"?o(k):o}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function q2(i,e,t){var s=i.getValue();return typeof e[s]>"u"?(console.warn("Missing display value for "+s),s):e[s]}function J2(i,e,t){var s=i.getValue(),r=i.getElement(),o=e&&e.stars?e.stars:5,h=document.createElement("span"),p=document.createElementNS("http://www.w3.org/2000/svg","svg"),g='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',x='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';h.style.verticalAlign="middle",p.setAttribute("width","14"),p.setAttribute("height","14"),p.setAttribute("viewBox","0 0 512 512"),p.setAttribute("xml:space","preserve"),p.style.padding="0 1px",s=s&&!isNaN(s)?parseInt(s):0,s=Math.max(0,Math.min(s,o));for(var k=1;k<=o;k++){var R=p.cloneNode(!0);R.innerHTML=k<=s?g:x,h.appendChild(R)}return r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.setAttribute("aria-label",s),h}function Z2(i,e,t){var s=this.sanitizeHTML(i.getValue())||0,r=document.createElement("span"),o=e&&e.max?e.max:100,h=e&&e.min?e.min:0,p=e&&typeof e.color<"u"?e.color:["red","orange","green"],g="#666666",x,k;if(!(isNaN(s)||typeof i.getValue()>"u")){switch(r.classList.add("tabulator-traffic-light"),k=parseFloat(s)<=o?parseFloat(s):o,k=parseFloat(k)>=h?parseFloat(k):h,x=(o-h)/100,k=Math.round((k-h)/x),typeof p){case"string":g=p;break;case"function":g=p(s);break;case"object":if(Array.isArray(p)){var R=100/p.length,D=Math.floor(k/R);D=Math.min(D,p.length-1),D=Math.max(D,0),g=p[D];break}}return r.style.backgroundColor=g,r}}function Q2(i,e={},t){var s=this.sanitizeHTML(i.getValue())||0,r=i.getElement(),o=e.max?e.max:100,h=e.min?e.min:0,p=e.legendAlign?e.legendAlign:"center",g,x,k,R,D;switch(x=parseFloat(s)<=o?parseFloat(s):o,x=parseFloat(x)>=h?parseFloat(x):h,g=(o-h)/100,x=Math.round((x-h)/g),typeof e.color){case"string":k=e.color;break;case"function":k=e.color(s);break;case"object":if(Array.isArray(e.color)){let ee=100/e.color.length,B=Math.floor(x/ee);B=Math.min(B,e.color.length-1),B=Math.max(B,0),k=e.color[B];break}default:k="#2DC214"}switch(typeof e.legend){case"string":R=e.legend;break;case"function":R=e.legend(s);break;case"boolean":R=s;break;default:R=!1}switch(typeof e.legendColor){case"string":D=e.legendColor;break;case"function":D=e.legendColor(s);break;case"object":if(Array.isArray(e.legendColor)){let ee=100/e.legendColor.length,B=Math.floor(x/ee);B=Math.min(B,e.legendColor.length-1),B=Math.max(B,0),D=e.legendColor[B]}break;default:D="#000"}r.style.minWidth="30px",r.style.position="relative",r.setAttribute("aria-label",x);var W=document.createElement("div");W.style.display="inline-block",W.style.width=x+"%",W.style.backgroundColor=k,W.style.height="100%",W.setAttribute("data-max",o),W.setAttribute("data-min",h);var V=document.createElement("div");if(V.style.position="relative",V.style.width="100%",V.style.height="100%",R){var Y=document.createElement("div");Y.style.position="absolute",Y.style.top=0,Y.style.left=0,Y.style.textAlign=p,Y.style.width="100%",Y.style.color=D,Y.innerHTML=R}return t(function(){if(!(i instanceof wv)){var ee=document.createElement("div");ee.style.position="absolute",ee.style.top="4px",ee.style.bottom="4px",ee.style.left="4px",ee.style.right="4px",r.appendChild(ee),r=ee}r.appendChild(V),V.appendChild(W),R&&V.appendChild(Y)}),""}function eO(i,e,t){return i.getElement().style.backgroundColor=this.sanitizeHTML(i.getValue()),""}function tO(i,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function iO(i,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function sO(i,e,t){var s=i.getValue(),r=e.size||15,o=r+"px",h,p,g=e.hasOwnProperty("onValue")?e.onValue:!0,x=e.hasOwnProperty("offValue")?e.offValue:!1,k=e.onTruthy?s:s===g;return h=document.createElement("div"),h.classList.add("tabulator-toggle"),k?(h.classList.add("tabulator-toggle-on"),h.style.flexDirection="row-reverse",e.onColor&&(h.style.background=e.onColor)):e.offColor&&(h.style.background=e.offColor),h.style.width=2.5*r+"px",h.style.borderRadius=o,e.clickable&&h.addEventListener("click",R=>{i.setValue(k?x:g)}),p=document.createElement("div"),p.classList.add("tabulator-toggle-switch"),p.style.height=o,p.style.width=o,p.style.borderRadius=o,h.appendChild(p),h}function rO(i,e,t){var s=document.createElement("span"),r=i.getRow(),o=i.getTable();return r.watchPosition(h=>{e.relativeToPage&&(h+=o.modules.page.getPageSize()*(o.modules.page.getPage()-1)),s.innerText=h}),s}function nO(i,e,t){return i.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function oO(i,e,t){var s,r,o;function h(p){var g=p.getValue(),x="plaintext";switch(typeof g){case"boolean":x="tickCross";break;case"string":g.includes(`
`)&&(x="textarea");break}return x}return s=e.formatterLookup?e.formatterLookup(i):h(i),e.paramsLookup&&(o=typeof e.paramsLookup=="function"?e.paramsLookup(s,i):e.paramsLookup[s]),r=this.table.modules.format.lookupFormatter(s),r.call(this,i,o||{},t)}function aO(i,e,t){var s=e.delimiter||",",r=i.getValue(),o=this.table,h;return e.valueMap&&(typeof e.valueMap=="string"?h=function(p){return p.map(g=>Lt.retrieveNestedData(o.options.nestedFieldSeparator,e.valueMap,g))}:h=e.valueMap),Array.isArray(r)?(h&&(r=h(r)),r.join(s)):r}function lO(i,e,t){var s=e.indent||"	",r=typeof e.multiline>"u"?!0:e.multiline,o=e.replacer||null,h=i.getValue();return r&&(i.getElement().style.whiteSpace="pre-wrap"),JSON.stringify(h,o,s)}var hO={plaintext:j2,html:W2,textarea:V2,money:U2,link:G2,image:X2,tickCross:Y2,datetime:$2,datetimediff:K2,lookup:q2,star:J2,traffic:Z2,progress:Q2,color:eO,buttonTick:tO,buttonCross:iO,toggle:sO,rownum:rO,handle:nO,adaptable:oO,array:aO,json:lO};const Sn=class Sn extends rt{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupTypeFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupTypeFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupTypeFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupTypeFormatter(e,"HtmlOutput"))}lookupTypeFormatter(e,t){var s={params:e.definition["formatter"+t+"Params"]||{}},r=e.definition["formatter"+t];return s.formatter=this.lookupFormatter(r),s}lookupFormatter(e){var t;switch(typeof e){case"string":Sn.formatters[e]?t=Sn.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),t=Sn.formatters.plaintext);break;case"function":t=e;break;default:t=Sn.formatters.plaintext;break}return t}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,s){var r,o,h,p;return e.definition.titleFormatter?(r=this.lookupFormatter(e.definition.titleFormatter),h=g=>{e.titleFormatterRendered=g},p={getValue:function(){return t},getElement:function(){return s},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},o=e.definition.titleFormatterParams||{},o=typeof o=="function"?o():o,r.call(this,p,o,h)):t}formatValue(e){var t=e.getComponent(),s=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(t):e.column.modules.format.params;function r(o){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=o,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,t,s,r)}formatExportValue(e,t){var s=e.column.modules.format[t],r;if(s){let h=function(p){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=p,e.modules.format.rendered=!1};var o=h;return r=typeof s.params=="function"?s.params(e.getComponent()):s.params,s.formatter.call(this,e.getComponent(),r,h)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(s){return t[s]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}};Le(Sn,"moduleName","format"),Le(Sn,"formatters",hO);let Xc=Sn;class Ev extends rt{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)}),this.layout()}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList)})}layoutColumnPosition(e){var t=[],s=0,r=0;this.leftColumns.forEach((o,h)=>{if(o.modules.frozen.marginValue=s,o.modules.frozen.margin=o.modules.frozen.marginValue+"px",o.visible&&(s+=o.getWidth()),h==this.leftColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup){var p=this.getColGroupParentElement(o);t.includes(p)||(this.layoutElement(p,o),t.push(p)),p.classList.toggle("tabulator-frozen-left",o.modules.frozen.edge&&o.modules.frozen.position==="left"),p.classList.toggle("tabulator-frozen-right",o.modules.frozen.edge&&o.modules.frozen.position==="right")}else this.layoutElement(o.getElement(),o);e&&o.cells.forEach(g=>{this.layoutElement(g.getElement(!0),o)})}),this.rightColumns.forEach((o,h)=>{o.modules.frozen.marginValue=r,o.modules.frozen.margin=o.modules.frozen.marginValue+"px",o.visible&&(r+=o.getWidth()),h==this.rightColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup?this.layoutElement(this.getColGroupParentElement(o),o):this.layoutElement(o.getElement(),o),e&&o.cells.forEach(p=>{this.layoutElement(p.getElement(!0),o)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),t=this.table.rowManager.getRows().filter(s=>!e.includes(s));t.forEach(s=>{s.deinitialize()}),e.forEach(s=>{s.type==="row"&&this.layoutRow(s)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(t=>{var s=e.getCell(t);s&&this.layoutElement(s.getElement(!0),t)}),this.rightColumns.forEach(t=>{var s=e.getCell(t);s&&this.layoutElement(s.getElement(!0),t)})}layoutElement(e,t){var s;t.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?s=t.modules.frozen.position==="left"?"right":"left":s=t.modules.frozen.position,e.style[s]=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),e.classList.toggle("tabulator-frozen-left",t.modules.frozen.edge&&t.modules.frozen.position==="left"),e.classList.toggle("tabulator-frozen-right",t.modules.frozen.edge&&t.modules.frozen.position==="right"))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns)}_calcSpace(e,t){var s=0;for(let r=0;r<t;r++)e[r].visible&&(s+=e[r].getWidth());return s}}Le(Ev,"moduleName","frozenColumns");class kv extends rt{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var e=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var t=this.table.options.frozenRows,s=typeof t;s==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=t&&this.freezeRow(e):s==="function"?t.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(t)&&t.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var t=this.rows.indexOf(e);return t>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach(s=>{t.push(s)}),t}getRows(e){var t=e.slice(0);return this.rows.forEach(function(s){var r=t.indexOf(s);r>-1&&t.splice(r,1)}),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var s=e.getElement();s.parentNode&&s.parentNode.removeChild(s),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach((t,s)=>{this.table.rowManager.styleRow(t,s)})}}Le(kv,"moduleName","frozenRows");class i1{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(t,s,r){return typeof t[s]<"u"?t[s]:t._group.groupManager.table.componentFunctionBinder.handle("group",t._group,s)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,t){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,t)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Na{constructor(e,t,s,r,o,h,p){this.groupManager=e,this.parent=t,this.key=r,this.level=s,this.field=o,this.hasSubGroups=s<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=p,this.rows=[],this.groups=[],this.groupList=[],this.generator=h,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=p?p.visible:typeof e.startOpen[s]<"u"?e.startOpen[s]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(t){t.wipe()}):this.rows.forEach(t=>{t.modules&&delete t.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(t=>{this._createGroup(t,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",t=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(t.stopPropagation(),t.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,t){var s=t+"_"+e,r=new Na(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],this.old?this.old.groups[s]:!1);this.groups[s]=r,this.groupList.push(r)}_addRowToGroup(e){var t=this.level+1;if(this.hasSubGroups){var s=this.groupManager.groupIDLookups[t].func(e.getData()),r=t+"_"+s;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[r]&&this.groups[r].addRow(e):(this.groups[r]||this._createGroup(s,t),this.groups[r].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,t,s){var r=this.conformRowData({});e.updateData(r);var o=this.rows.indexOf(t);o>-1?s?this.rows.splice(o+1,0,e):this.rows.splice(o,0,e):s?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(t){t.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var t=this.rows.indexOf(e),s=e.getElement();t>-1&&this.rows.splice(t,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(s.parentNode&&s.parentNode.removeChild(s),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var t=e.level+"_"+e.key,s;this.groups[t]&&(delete this.groups[t],s=this.groupList.indexOf(e),s>-1&&this.groupList.splice(s,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,t){var s=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(r=>{s.push(r.getData(t||"data"))}),s}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(t=>{e+=t.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var t=e.getHeadersAndRows();t.forEach(s=>{s.detachElement()})}):this.rows.forEach(e=>{var t=e.getElement();t.parentNode.removeChild(t)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(t=>{var s=t.getHeadersAndRows();s.forEach(r=>{var o=r.getElement();e.parentNode.insertBefore(o,e.nextSibling),r.initialize(),e=o})}):this.rows.forEach(t=>{var s=t.getElement();e.parentNode.insertBefore(s,e.nextSibling),t.initialize(),e=s}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(t){e.push(t.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var t=!1;return this.groupList.length?this.groupList.forEach(function(s){var r=s.getRowGroup(e);r&&(t=r)}):this.rows.find(function(s){return s===e})&&(t=this),t}getSubGroups(e){var t=[];return this.groupList.forEach(function(s){t.push(e?s.getComponent():s)}),t}getRows(e,t){var s=[];return t&&this.groupList.length?this.groupList.forEach(r=>{s=s.concat(r.getRows(e,t))}):this.rows.forEach(function(r){s.push(e?r.getComponent():r)}),s}generateGroupHeaderContents(){var e=[],t=this.getRows(!1,!0);for(t.forEach(function(s){e.push(s.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,Lt.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new i1(this)),this.component}}class Sv extends rt{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,s=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(s)&&e.length>s.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(o,h)=>{this.headerGenerator[0]=(p,g,x)=>(typeof p>"u"?"":p)+"<span>("+g+" "+(g===1?o:h.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var r=this.table.columnManager.getRealColumns();r.forEach(o=>{o.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),o.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((o,h)=>{var p,g;typeof o=="function"?p=o:(g=this.table.columnManager.getColumnByField(o),g?p=function(x){return g.getFieldValue(x)}:p=function(x){return x[o]}),this.groupIDLookups.push({field:typeof o=="function"?!1:o,func:p,values:this.allowedValues?this.allowedValues[h]:!1})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(o=>{}),this.startOpen=t),s&&(this.headerGenerator=Array.isArray(s)?s:[s])}else this.groupList=[],this.groups={}}rowSample(e,t){if(this.table.options.groupBy){var s=this.getGroups(!1)[0];t.push(s.getRows(!1)[0])}return t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)t=t.filter(s=>s.type!=="group"),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px";else return t}rowAddingIndex(e,t,s){if(this.table.options.groupBy){this.assignRowToGroup(e);var r=e.modules.group.rows;return r.length>1&&(!t||t&&r.indexOf(t)==-1?s?r[0]!==e&&(t=r[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!s)):r[r.length-1]!==e&&(t=r[r.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!s)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!s)),t}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,t,s){if(this.table.options.groupBy){!s&&t instanceof Na&&(t=this.table.rowManager.prevDisplayRow(e)||t);var r=t instanceof Na?t:t.modules.group,o=e instanceof Na?e:e.modules.group;r===o?this.table.rowManager.moveRowInArray(r.rows,e,t,s):(o&&o.removeRow(e),r.insertRow(e,t,s))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach(function(s){t.push(e?s.getComponent():s)}),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach(s=>{s.groupList.length?t=t.concat(this.getChildGroups(s)):t.push(s)}),t}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var t=[];return e.forEach(s=>{var r={};r.level=0,r.rowCount=0,r.headerContent="";var o=[];s.hasSubGroups?(o=this.pullGroupListData(s.groupList),r.level=s.level,r.rowCount=o.length-s.groupList.length,r.headerContent=s.generator(s.key,r.rowCount,s.rows,s),t.push(r),t=t.concat(o)):(r.level=s.level,r.headerContent=s.generator(s.key,s.rows.length,s.rows,s),r.rowCount=s.getRows().length,t.push(r),s.getRows().forEach(h=>{t.push(h.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(s=>{var r=s.getRowGroup(e);r&&(t=r)}),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(s=>{this.createGroup(s,0,t)}),e.forEach(s=>{this.assignRowToExistingGroup(s,t)})):e.forEach(s=>{this.assignRowToGroup(s,t)}),Object.values(t).forEach(s=>{s.wipe(!0)})}createGroup(e,t,s){var r=t+"_"+e,o;s=s||[],o=new Na(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],s[r]),this.groups[r]=o,this.groupList.push(o)}assignRowToExistingGroup(e,t){var s=this.groupIDLookups[0].func(e.getData()),r="0_"+s;this.groups[r]&&this.groups[r].addRow(e)}assignRowToGroup(e,t){var s=this.groupIDLookups[0].func(e.getData()),r=!this.groups["0_"+s];return r&&this.createGroup(s,0,t),this.groups["0_"+s].addRow(e),!r}reassignRowToGroup(e){if(e.type==="row"){var t=e.modules.group,s=t.getPath(),r=this.getExpectedPath(e),o;o=s.length==r.length&&s.every((h,p)=>h===r[p]),o||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],s=e.getData();return this.groupIDLookups.forEach(r=>{t.push(r.func(s))}),t}updateGroupRows(e){var t=[];return this.blockRedraw||(this.groupList.forEach(s=>{t=t.concat(s.getHeadersAndRows())}),e&&this.refreshData(!0)),t}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(t=>{t.scrollHeader(e)}))}removeGroup(e){var t=e.level+"_"+e.key,s;this.groups[t]&&(delete this.groups[t],s=this.groupList.indexOf(e),s>-1&&this.groupList.splice(s,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,t=!0;this.table.rowManager.getDisplayRows().forEach((s,r)=>{this.table.rowManager.styleRow(s,r),e.appendChild(s.getElement()),s.initialize(!0),s.type!=="group"&&(t=!1)}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}Le(Sv,"moduleName","groupRows");var uO={cellEdit:function(i){i.component.setValueProcessData(i.data.oldValue),i.component.cellRendered()},rowAdd:function(i){i.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(i){var e=this.table.rowManager.addRowActual(i.data.data,i.data.pos,i.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(i.component,e),this.table.rowManager.checkPlaceholder()},rowMove:function(i){var e=i.data.posFrom-i.data.posTo>0;this.table.rowManager.moveRowActual(i.component,this.table.rowManager.getRowFromPosition(i.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},dO={cellEdit:function(i){i.component.setValueProcessData(i.data.newValue),i.component.cellRendered()},rowAdd:function(i){var e=this.table.rowManager.addRowActual(i.data.data,i.data.pos,i.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(i.component,e),this.table.rowManager.checkPlaceholder()},rowDelete:function(i){i.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(i){this.table.rowManager.moveRowActual(i.component,this.table.rowManager.getRowFromPosition(i.data.posTo),i.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},cO={undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"]},pO={undo:function(i){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(i.preventDefault(),this.table.modules.history.undo()))},redo:function(i){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(i.preventDefault(),this.table.modules.history.redo()))}},fO={keybindings:{bindings:cO,actions:pO}};const Mn=class Mn extends rt{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,s){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:t.getPosition(),to:t,after:s})}rowAdded(e,t,s,r){this.action("rowAdd",e,{data:t,pos:s,index:r})}rowDeleted(e){var t,s;this.table.options.groupBy?(s=e.getComponent().getGroup()._getSelf().rows,t=s.indexOf(e),t&&(t=s[t-1])):(t=e.table.rowManager.getRowIndex(e),t&&(t=e.table.rowManager.rows[t-1])),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,s){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:s}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex(function(s){return s.component===e});t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return Mn.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return Mn.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(e,t){this.history.forEach(function(s){if(s.component instanceof Bi)s.component===e&&(s.component=t);else if(s.component instanceof su&&s.component.row===e){var r=s.component.column.getField();r&&(s.component=t.getCell(r))}})}};Le(Mn,"moduleName","history"),Le(Mn,"moduleExtensions",fO),Le(Mn,"undoers",uO),Le(Mn,"redoers",dO);let Yc=Mn;class Mv extends rt{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,t=this.table.options,s=e.getElementsByTagName("th"),r=e.getElementsByTagName("tbody")[0],o=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),r=r?r.getElementsByTagName("tr"):[],this._extractOptions(e,t),s.length?this._extractHeaders(s,r):this._generateBlankHeaders(s,r);for(var h=0;h<r.length;h++){var p=r[h],g=p.getElementsByTagName("td"),x={};this.hasIndex||(x[t.index]=h);for(var k=0;k<g.length;k++){var R=g[k];typeof this.fieldIndex[k]<"u"&&(x[this.fieldIndex[k]]=R.innerHTML)}o.push(x)}t.data=o,this.dispatchExternal("htmlImported")}_extractOptions(e,t,s){var r=e.attributes,o=Object.keys(s||t),h={};o.forEach(k=>{h[k.toLowerCase()]=k});for(var p in r){var g=r[p],x;g&&typeof g=="object"&&g.name&&g.name.indexOf("tabulator-")===0&&(x=g.name.replace("tabulator-",""),typeof h[x]<"u"&&(t[h[x]]=this._attribValue(g.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var t=this.table.options.columns.find(s=>s.title===e);return t||!1}_extractHeaders(e,t){for(var s=0;s<e.length;s++){var r=e[s],o=!1,h=this._findCol(r.textContent),p;h?o=!0:h={title:r.textContent.trim()},h.field||(h.field=r.textContent.trim().toLowerCase().replaceAll(" ","_")),p=r.getAttribute("width"),p&&!h.width&&(h.width=p),this._extractOptions(r,h,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[s]=h.field,h.field==this.table.options.index&&(this.hasIndex=!0),o||this.table.options.columns.push(h)}}_generateBlankHeaders(e,t){for(var s=0;s<e.length;s++){var r=e[s],o={title:"",field:"col"+s};this.fieldIndex[s]=o.field;var h=r.getAttribute("width");h&&(o.width=h),this.table.options.columns.push(o)}}}Le(Mv,"moduleName","htmlTableImport");function mO(i){var e=[],t=0,s=0,r=!1;for(let o=0;o<i.length;o++){let h=i[o],p=i[o+1];if(e[t]||(e[t]=[]),e[t][s]||(e[t][s]=""),h=='"'&&r&&p=='"'){e[t][s]+=h,o++;continue}if(h=='"'){r=!r;continue}if(h==","&&!r){s++;continue}if(h=="\r"&&p==`
`&&!r){s=0,t++,o++;continue}if((h=="\r"||h==`
`)&&!r){s=0,t++;continue}e[t][s]+=h}return e}function gO(i){try{return JSON.parse(i)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function bO(i){return i}function vO(i){var e=this.dependencyRegistry.lookup("XLSX"),t=e.read(i),s=t.Sheets[t.SheetNames[0]];return e.utils.sheet_to_json(s,{header:1})}var yO={csv:mO,json:gO,array:bO,xlsx:vO};const xh=class xh extends rt{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text"),this.registerTableOption("importHeaderTransform"),this.registerTableOption("importValueTransform"),this.registerTableOption("importDataValidator"),this.registerTableOption("importFileValidator")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,t,s,r,o){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(h=>(console.error("Import Error:",h||"Unable to import data"),Promise.reject(h)))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),typeof e=="string"?t=xh.importers[e]:t=e,t||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t,s){var r=this.lookupImporter(e);if(r)return this.pickFile(t,s).then(this.importData.bind(this,r)).then(this.structureData.bind(this)).then(this.mutateData.bind(this)).then(this.validateData.bind(this)).then(this.setData.bind(this)).catch(o=>(this.dispatch("import-error",o),this.dispatchExternal("importError",o),console.error("Import Error:",o||"Unable to import file"),this.table.dataLoader.alertError(),setTimeout(()=>{this.table.dataLoader.clearAlert()},3e3),Promise.reject(o)))}pickFile(e,t){return new Promise((s,r)=>{var o=document.createElement("input");o.type="file",o.accept=e,o.addEventListener("change",h=>{var p=o.files[0],g=new FileReader,x=this.validateFile(p);if(x===!0){switch(this.dispatch("import-importing",o.files),this.dispatchExternal("importImporting",o.files),t||this.table.options.importReader){case"buffer":g.readAsArrayBuffer(p);break;case"binary":g.readAsBinaryString(p);break;case"url":g.readAsDataURL(p);break;case"text":default:g.readAsText(p)}g.onload=k=>{s(g.result)},g.onerror=k=>{console.warn("File Load Error - Unable to read file"),r(k)}}else r(x)}),this.dispatch("import-choose"),this.dispatchExternal("importChoose"),o.click()})}importData(e,t){var s;return this.table.dataLoader.alertLoader(),new Promise((r,o)=>{setTimeout(()=>{s=e.call(this.table,t),s instanceof Promise||s?r(s):o()},10)})}structureData(e){var t=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?t=this.structureArrayToObject(e):t=this.structureArrayToColumns(e),t):e}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(s=>{t.push(this.table.modules.mutator.transformRow(s,"import"))}):t=e,t}transformHeader(e){var t=[];if(this.table.options.importHeaderTransform)e.forEach(s=>{t.push(this.table.options.importHeaderTransform.call(this.table,s,e))});else return e;return t}transformData(e){var t=[];if(this.table.options.importValueTransform)e.forEach(s=>{t.push(this.table.options.importValueTransform.call(this.table,s,e))});else return e;return t}structureArrayToObject(e){var t=this.transformHeader(e.shift()),s=e.map(r=>{var o={};return r=this.transformData(r),t.forEach((h,p)=>{o[h]=r[p]}),o});return s}structureArrayToColumns(e){var t=[],s=this.transformHeader(e[0]),r=this.table.getColumns();return r[0]&&s[0]&&r[0].getDefinition().title===s[0]&&e.shift(),e.forEach(o=>{var h={};o=this.transformData(o),o.forEach((p,g)=>{var x=r[g];x&&(h[x.getField()]=p)}),t.push(h)}),t}validateFile(e){return this.table.options.importFileValidator?this.table.options.importFileValidator.call(this.table,e):!0}validateData(e){var t;return this.table.options.importDataValidator?(t=this.table.options.importDataValidator.call(this.table,e),t===!0?e:Promise.reject(t)):e}setData(e){return this.dispatch("import-imported",e),this.dispatchExternal("importImported",e),this.table.dataLoader.clearAlert(),this.table.setData(e)}};Le(xh,"moduleName","import"),Le(xh,"importers",yO);let $c=xh;class Tv extends rt{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(t=>{for(let s in t)t[s]=null})}cellContentsSelectionFixer(e,t){var s;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===t)){e.preventDefault();try{document.selection?(s=document.body.createTextRange(),s.moveToElementText(t.getElement()),s.select()):window.getSelection&&(s=document.createRange(),s.selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(s))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,s=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let r in this.eventMap)this.eventMap[r]===s&&this.subscribers[r]&&(t=!1);t&&(this.unsubscribe(s+"-touchstart",this.touchSubscribers[s+"-touchstart"]),this.unsubscribe(s+"-touchend",this.touchSubscribers[s+"-touchend"]),delete this.touchSubscribers[s+"-touchstart"],delete this.touchSubscribers[s+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let s in this.eventMap)t[s]&&(this.subscriptionChanged(s,!0),this.columnSubscribers[s]||(this.columnSubscribers[s]=[]),this.columnSubscribers[s].push(e))}handle(e,t,s){this.dispatchEvent(e,t,s)}handleTouch(e,t,s,r){var o=this.touchWatchers[e];switch(e==="column"&&(e="header"),t){case"start":o.tap=!0,clearTimeout(o.tapHold),o.tapHold=setTimeout(()=>{clearTimeout(o.tapHold),o.tapHold=null,o.tap=null,clearTimeout(o.tapDbl),o.tapDbl=null,this.dispatchEvent(e+"TapHold",s,r)},1e3);break;case"end":o.tap&&(o.tap=null,this.dispatchEvent(e+"Tap",s,r)),o.tapDbl?(clearTimeout(o.tapDbl),o.tapDbl=null,this.dispatchEvent(e+"DblTap",s,r)):o.tapDbl=setTimeout(()=>{clearTimeout(o.tapDbl),o.tapDbl=null},300),clearTimeout(o.tapHold),o.tapHold=null;break}}dispatchEvent(e,t,s){var r=s.getComponent(),o;this.columnSubscribers[e]&&(s instanceof su?o=s.column.definition[e]:s instanceof Io&&(o=s.definition[e]),o&&o(t,r)),this.dispatchExternal(e,t,r)}}Le(Tv,"moduleName","interaction");var wO={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35},xO={keyBlock:function(i){i.stopPropagation(),i.preventDefault()},scrollPageUp:function(i){var e=this.table.rowManager,t=e.scrollTop-e.element.clientHeight;i.preventDefault(),e.displayRowsCount&&(t>=0?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(i){var e=this.table.rowManager,t=e.scrollTop+e.element.clientHeight,s=e.element.scrollHeight;i.preventDefault(),e.displayRowsCount&&(t<=s?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(i){var e=this.table.rowManager;i.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(i){var e=this.table.rowManager;i.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(i){this.dispatch("keybinding-nav-prev",i)},navNext:function(i){this.dispatch("keybinding-nav-next",i)},navLeft:function(i){this.dispatch("keybinding-nav-left",i)},navRight:function(i){this.dispatch("keybinding-nav-right",i)},navUp:function(i){this.dispatch("keybinding-nav-up",i)},navDown:function(i){this.dispatch("keybinding-nav-down",i)}};const Tn=class Tn extends rt{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(t,Tn.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)Tn.actions[t]?e[t]&&(typeof e[t]!="object"&&(e[t]=[e[t]]),e[t].forEach(s=>{var r=Array.isArray(s)?s:[s];r.forEach(o=>{this.mapBinding(t,o)})})):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var s={action:Tn.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},r=t.toString().toLowerCase().split(" ").join("").split("+");r.forEach(o=>{switch(o){case"ctrl":s.ctrl=!0;break;case"shift":s.shift=!0;break;case"meta":s.meta=!0;break;default:o=isNaN(o)?o.toUpperCase().charCodeAt(0):parseInt(o),s.keys.push(o),this.watchKeys[o]||(this.watchKeys[o]=[]),this.watchKeys[o].push(s)}})}bindEvents(){var e=this;this.keyupBinding=function(t){var s=t.keyCode,r=e.watchKeys[s];r&&(e.pressedKeys.push(s),r.forEach(function(o){e.checkBinding(t,o)}))},this.keydownBinding=function(t){var s=t.keyCode,r=e.watchKeys[s];if(r){var o=e.pressedKeys.indexOf(s);o>-1&&e.pressedKeys.splice(o,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var s=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta?(t.keys.forEach(r=>{var o=this.pressedKeys.indexOf(r);o==-1&&(s=!1)}),s&&t.action.call(this,e),!0):!1}};Le(Tn,"moduleName","keybindings"),Le(Tn,"bindings",wO),Le(Tn,"actions",xO);let Kc=Tn;class Rv extends rt{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),t.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var t=e.definition.headerMenuIcon,s;s=document.createElement("span"),s.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?s.appendChild(t):s.innerHTML=t):s.innerHTML="&vellip;",s.addEventListener("click",r=>{r.stopPropagation(),r.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,r,e)}),e.titleElement.insertBefore(s,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,s){s._cell&&(s=s._cell),s.column.definition[e]&&this.loadMenuEvent(s.column.definition[e],t,s)}loadMenuTableColumnEvent(e,t,s){s._column&&(s=s._column),s.definition[e]&&this.loadMenuEvent(s.definition[e],t,s)}loadMenuEvent(e,t,s){s._group?s=s._group:s._row&&(s=s._row),e=typeof e=="function"?e.call(this.table,t,s.getComponent()):e,this.loadMenu(t,s,e)}loadMenu(e,t,s,r,o){var h=!(e instanceof MouseEvent),p=document.createElement("div"),g;if(p.classList.add("tabulator-menu"),h||e.preventDefault(),!(!s||!s.length)){if(r)g=o.child(p);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=g=this.popup(p)}s.forEach(x=>{var k=document.createElement("div"),R=x.label,D=x.disabled;x.separator?k.classList.add("tabulator-menu-separator"):(k.classList.add("tabulator-menu-item"),typeof R=="function"&&(R=R.call(this.table,t.getComponent())),R instanceof Node?k.appendChild(R):k.innerHTML=R,typeof D=="function"&&(D=D.call(this.table,t.getComponent())),D?(k.classList.add("tabulator-menu-item-disabled"),k.addEventListener("click",W=>{W.stopPropagation()})):x.menu&&x.menu.length?k.addEventListener("click",W=>{W.stopPropagation(),this.loadMenu(W,t,x.menu,k,g)}):x.action&&k.addEventListener("click",W=>{x.action(W,t.getComponent())}),x.menu&&x.menu.length&&k.classList.add("tabulator-menu-item-submenu")),p.appendChild(k)}),p.addEventListener("click",x=>{this.rootPopup&&this.rootPopup.hide()}),g.show(r||e),g===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",s,g),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=t,this.dispatch("menu-opened",s,g),this.dispatchExternal("menuOpened",t.getComponent()))}}}Le(Rv,"moduleName","menu");class Lv extends rt{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(e){var t=this,s={},r;!e.modules.frozen&&!e.isGroup&&!e.isRowHeader&&(r=e.getElement(),s.mousemove=(function(o){e.parent===t.moving.parent&&((t.touchMove?o.touches[0].pageX:o.pageX)-Lt.elOffset(r).left+t.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(t.toCol!==e||!t.toColAfter)&&(r.parentNode.insertBefore(t.placeholderElement,r.nextSibling),t.moveColumn(e,!0)):(t.toCol!==e||t.toColAfter)&&(r.parentNode.insertBefore(t.placeholderElement,r),t.moveColumn(e,!1)))}).bind(t),r.addEventListener("mousedown",function(o){t.touchMove=!1,o.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(o,e)},t.checkPeriod))}),r.addEventListener("mouseup",function(o){o.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),t.bindTouchEvents(e)),e.modules.moveColumn=s}bindTouchEvents(e){var t=e.getElement(),s=!1,r,o,h,p,g,x;t.addEventListener("touchstart",k=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,r=e.nextColumn(),h=r?r.getWidth()/2:0,o=e.prevColumn(),p=o?o.getWidth()/2:0,g=0,x=0,s=!1,this.startMove(k,e)},this.checkPeriod)},{passive:!0}),t.addEventListener("touchmove",k=>{var R,D;this.moving&&(this.moveHover(k),s||(s=k.touches[0].pageX),R=k.touches[0].pageX-s,R>0?r&&R-g>h&&(D=r,D!==e&&(s=k.touches[0].pageX,D.getElement().parentNode.insertBefore(this.placeholderElement,D.getElement().nextSibling),this.moveColumn(D,!0))):o&&-R-x>p&&(D=o,D!==e&&(s=k.touches[0].pageX,D.getElement().parentNode.insertBefore(this.placeholderElement,D.getElement()),this.moveColumn(D,!1))),D&&(r=D.nextColumn(),g=h,h=r?r.getWidth()/2:0,o=D.prevColumn(),x=p,p=o?o.getWidth()/2:0))},{passive:!0}),t.addEventListener("touchend",k=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(k)})}startMove(e,t){var s=t.getElement(),r=this.table.columnManager.getContentsElement(),o=this.table.columnManager.getHeadersElement();this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection&&this.table.modules.selectRange.mousedown&&this.table.modules.selectRange.selecting==="column"||(this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-Lt.elOffset(s).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",s.parentNode.insertBefore(this.placeholderElement,s),s.parentNode.removeChild(s),this.hoverElement=s.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),r.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=r.clientHeight-o.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e),this.dispatch("column-moving",e,this.moving))}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,t){var s=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(r,o){var h=r.getElement(!0);h.parentNode&&s[o]&&h.parentNode.insertBefore(s[o].getElement(),h.nextSibling)}):e.getCells().forEach(function(r,o){var h=r.getElement(!0);h.parentNode&&s[o]&&h.parentNode.insertBefore(s[o].getElement(),h)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var t=this.table.columnManager.getContentsElement(),s=t.scrollLeft,r=(this.touchMove?e.touches[0].pageX:e.pageX)-Lt.elOffset(t).left+s,o;this.hoverElement.style.left=r-this.startX+"px",r-s<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{o=Math.max(0,s-5),this.table.rowManager.getElement().scrollLeft=o,this.autoScrollTimeout=!1},1))),s+t.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{o=Math.min(t.clientWidth,s+5),this.table.rowManager.getElement().scrollLeft=o,this.autoScrollTimeout=!1},1)))}}Le(Lv,"moduleName","moveColumn");var CO={delete:function(i,e,t){i.delete()}},EO={insert:function(i,e,t){return this.table.addRow(i.getData(),void 0,e),!0},add:function(i,e,t){return this.table.addRow(i.getData()),!0},update:function(i,e,t){return e?(e.update(i.getData()),!0):!1},replace:function(i,e,t){return e?(this.table.addRow(i.getData(),void 0,e),e.delete(),!0):!1}};const To=class To extends rt{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var t=this,s={};s.mouseup=(function(r){t.tableRowDrop(r,e)}).bind(t),s.mousemove=(function(r){var o;r.pageY-Lt.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(o=e.getElement(),o.parentNode.insertBefore(t.placeholderElement,o.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(o=e.getElement(),o.previousSibling&&(o.parentNode.insertBefore(t.placeholderElement,o),t.moveRow(e,!1)))}).bind(t),e.modules.moveRow=s}initializeRow(e){var t=this,s={},r;s.mouseup=(function(o){t.tableRowDrop(o,e)}).bind(t),s.mousemove=(function(o){var h=e.getElement();o.pageY-Lt.elOffset(h).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(h.parentNode.insertBefore(t.placeholderElement,h.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(h.parentNode.insertBefore(t.placeholderElement,h),t.moveRow(e,!1))}).bind(t),this.hasHandle||(r=e.getElement(),r.addEventListener("mousedown",function(o){o.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(o,e)},t.checkPeriod))}),r.addEventListener("mouseup",function(o){o.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=s}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var t=this,s=e.getElement(!0);s.addEventListener("mousedown",function(r){r.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e.row)},t.checkPeriod))}),s.addEventListener("mouseup",function(r){r.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e.row,s)}}bindTouchEvents(e,t){var s=!1,r,o,h,p,g,x;t.addEventListener("touchstart",k=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,r=e.nextRow(),h=r?r.getHeight()/2:0,o=e.prevRow(),p=o?o.getHeight()/2:0,g=0,x=0,s=!1,this.startMove(k,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",k=>{var R,D;this.moving&&(k.preventDefault(),this.moveHover(k),s||(s=k.touches[0].pageY),R=k.touches[0].pageY-s,R>0?r&&R-g>h&&(D=r,D!==e&&(s=k.touches[0].pageY,D.getElement().parentNode.insertBefore(this.placeholderElement,D.getElement().nextSibling),this.moveRow(D,!0))):o&&-R-x>p&&(D=o,D!==e&&(s=k.touches[0].pageY,D.getElement().parentNode.insertBefore(this.placeholderElement,D.getElement()),this.moveRow(D,!1))),D&&(r=D.nextRow(),g=h,h=r?r.getHeight()/2:0,o=D.prevRow(),x=p,p=o?o.getHeight()/2:0))}),t.addEventListener("touchend",k=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(k),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,t){var s=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(s.parentNode.insertBefore(this.placeholderElement,s),s.parentNode.removeChild(s)),this.hoverElement=s.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",t.getComponent()),this.moveHover(e)}setStartPosition(e,t){var s=this.touchMove?e.touches[0].pageX:e.pageX,r=this.touchMove?e.touches[0].pageY:e.pageY,o,h;o=t.getElement(),this.connection?(h=o.getBoundingClientRect(),this.startX=h.left-s+window.pageXOffset,this.startY=h.top-r+window.pageYOffset):this.startY=r-o.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,t){this.toRow=e,this.toRowAfter=t}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var t=this.table.rowManager.getElement(),s=t.scrollTop,r=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+s;this.hoverElement.style.top=Math.min(r-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,t,s){this.dispatchExternal("movableRowsElementDrop",e,t,s?s.getComponent():!1)}connectToTables(e){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",t),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(s=>{typeof s=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(s))):this.connectionElements.push(s)}),this.connectionElements.forEach(s=>{var r=o=>{this.elementRowDrop(o,s,this.moving)};s.addEventListener("mouseup",r),s.tabulatorElementDropEvent=r,s.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(t=>{t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent})}connect(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(s=>{s.type==="row"&&s.modules.moveRow&&s.modules.moveRow.mouseup&&s.getElement().addEventListener("mouseup",s.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",t,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(t=>{t.type==="row"&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,t,s){var r=!1;if(s){switch(typeof this.table.options.movableRowsSender){case"string":r=To.senders[this.table.options.movableRowsSender];break;case"function":r=this.table.options.movableRowsSender;break}r?r.call(this,this.moving?this.moving.getComponent():void 0,t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()}tableRowDrop(e,t){var s=!1,r=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":s=To.receivers[this.table.options.movableRowsReceiver];break;case"function":s=this.table.options.movableRowsReceiver;break}s?r=s.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),r?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:t,success:r})}commsReceived(e,t,s){switch(t){case"connect":return this.connect(e,s.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,s.row,s.success)}}};Le(To,"moduleName","moveRow"),Le(To,"senders",CO),Le(To,"receivers",EO);let qc=To;var kO={};const Ha=class Ha extends rt{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard","import"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutatorImport"),this.registerColumnOption("mutatorImportParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,s){return this.transformRow(t,"data",s)}initializeColumn(e){var t=!1,s={};this.allowedTypes.forEach(r=>{var o="mutator"+(r.charAt(0).toUpperCase()+r.slice(1)),h;e.definition[o]&&(h=this.lookupMutator(e.definition[o]),h&&(t=!0,s[o]={mutator:h,params:e.definition[o+"Params"]||{}}))}),t&&(e.modules.mutate=s)}lookupMutator(e){var t=!1;switch(typeof e){case"string":Ha.mutators[e]?t=Ha.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t,s){var r="mutator"+(t.charAt(0).toUpperCase()+t.slice(1)),o;return this.enabled&&this.table.columnManager.traverse(h=>{var p,g,x;h.modules.mutate&&(p=h.modules.mutate[r]||h.modules.mutate.mutator||!1,p&&(o=h.getFieldValue(typeof s<"u"?s:e),(t=="data"&&!s||typeof o<"u")&&(x=h.getComponent(),g=typeof p.params=="function"?p.params(o,e,t,x):p.params,h.setFieldValue(e,p.mutator(o,e,t,g,x)))))}),e}transformCell(e,t){if(e.column.modules.mutate){var s=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,r={};if(s)return r=Object.assign(r,e.row.getData()),e.column.setFieldValue(r,t),s.mutator(t,r,"edit",s.params,e.getComponent())}return t}mutateLink(e){var t=e.column.definition.mutateLink;t&&(Array.isArray(t)||(t=[t]),t.forEach(s=>{var r=e.row.getCell(s);r&&r.setValue(r.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}};Le(Ha,"moduleName","mutator"),Le(Ha,"mutators",kO);let Jc=Ha;function SO(i,e,t,s,r){var o=document.createElement("span"),h=document.createElement("span"),p=document.createElement("span"),g=document.createElement("span"),x=document.createElement("span"),k=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",R=>{h.innerHTML=R}),this.table.modules.localize.langBind("pagination|counter|of",R=>{g.innerHTML=R}),this.table.modules.localize.langBind("pagination|counter|rows",R=>{k.innerHTML=R}),s?(p.innerHTML=" "+e+"-"+Math.min(e+i-1,s)+" ",x.innerHTML=" "+s+" ",o.appendChild(h),o.appendChild(p),o.appendChild(g),o.appendChild(x),o.appendChild(k)):(p.innerHTML=" 0 ",o.appendChild(h),o.appendChild(p),o.appendChild(k)),o}function MO(i,e,t,s,r){var o=document.createElement("span"),h=document.createElement("span"),p=document.createElement("span"),g=document.createElement("span"),x=document.createElement("span"),k=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",R=>{h.innerHTML=R}),p.innerHTML=" "+t+" ",this.table.modules.localize.langBind("pagination|counter|of",R=>{g.innerHTML=R}),x.innerHTML=" "+r+" ",this.table.modules.localize.langBind("pagination|counter|pages",R=>{k.innerHTML=R}),o.appendChild(h),o.appendChild(p),o.appendChild(g),o.appendChild(x),o.appendChild(k),o}var TO={rows:SO,pages:MO};const Ch=class Ch extends rt{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("paginationOutOfRange",!1),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var s=this.table.rowManager,r=s.getDisplayRows(),o;return t?r.length?o=r[0]:s.activeRows.length&&(o=s.activeRows[s.activeRows.length-1],t=!1):r.length&&(o=r[r.length-1],t=!(r.length<this.size)),{index:o,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",t=document.createElement("div"),t.classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,s,r){return this.initialLoad||(this.progressiveLoad&&!s||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),r.page=this.page,this.size&&(r.size=this.size),r}userSetPageToRow(e){return this.table.options.pagination&&(e=this.table.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,t){var s,r,o;!t&&!this.table.dataLoader.loading&&(s=this.table.rowManager.getElement(),r=s.scrollHeight-s.clientHeight-e,o=this.table.options.progressiveLoadScrollMargin||s.clientHeight*2,r<o&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,t){return t||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(t=>{var s=document.createElement("option");s.value=t,t===!0?this.langBind("pagination|all",function(r){s.innerHTML=r}):s.innerHTML=t,this.pageSizeSelect.appendChild(s)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&(typeof e=="function"?t=e:t=Ch.pageCounters[e],t?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,s;e||(this.langBind("pagination|first",r=>{this.firstBut.innerHTML=r}),this.langBind("pagination|first_title",r=>{this.firstBut.setAttribute("aria-label",r),this.firstBut.setAttribute("title",r)}),this.langBind("pagination|prev",r=>{this.prevBut.innerHTML=r}),this.langBind("pagination|prev_title",r=>{this.prevBut.setAttribute("aria-label",r),this.prevBut.setAttribute("title",r)}),this.langBind("pagination|next",r=>{this.nextBut.innerHTML=r}),this.langBind("pagination|next_title",r=>{this.nextBut.setAttribute("aria-label",r),this.nextBut.setAttribute("title",r)}),this.langBind("pagination|last",r=>{this.lastBut.innerHTML=r}),this.langBind("pagination|last_title",r=>{this.lastBut.setAttribute("aria-label",r),this.lastBut.setAttribute("title",r)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",r=>{this.pageSizeSelect.setAttribute("aria-label",r),this.pageSizeSelect.setAttribute("title",r),t.innerHTML=r}),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",r=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(s=document.querySelector(this.table.options.paginationCounterElement),s?s.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var t=this.displayRows(-1),s=t.indexOf(e);if(s>-1){var r=this.size===!0?1:Math.ceil((s+1)/this.size);return this.setPage(r)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,t,s){var r;if(this.pageCounter)switch(this.mode==="remote"&&(t=this.size,s=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),r=this.pageCounter.call(this,t,s,this.page,e,this.max),typeof r){case"object":if(r instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(r)}else this.pageCounterElement.innerHTML="",r!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",r);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=r}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),s=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),r=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let o=s;o<=r;o++)o>0&&o<=this.max&&this.pagesElement.appendChild(this._generatePageButton(o));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",s=>{t.setAttribute("aria-label",s+" "+e),t.setAttribute("title",s+" "+e)}),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",s=>{this.setPage(e)}),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t=0,s,r,o,h,p=e.filter(g=>g.type==="row");if(this.mode=="local"){s=[],this.setMaxRows(e.length),this.size===!0?(r=0,o=e.length):(r=this.size*(this.page-1),o=r+parseInt(this.size)),this._setPageButtons();for(let g=r;g<o;g++){let x=e[g];x&&(s.push(x),x.type==="row"&&(h||(h=x),t++))}return this._setPageCounter(p.length,t,h?p.indexOf(h)+1:0),s}else return this._setPageButtons(),this._setPageCounter(p.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var t,s;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),t=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+t&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else{if(this.page>this.max&&(console.warn("Remote Pagination Error - Server returned last page value lower than the current page"),s=this.options("paginationOutOfRange"),s))return this.setPage(typeof s=="function"?s.call(this,this.page,this.max):s);this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}};Le(Ch,"moduleName","page"),Le(Ch,"pageCounters",TO);let Zc=Ch;var RO={local:function(i,e){var t=localStorage.getItem(i+"-"+e);return t?JSON.parse(t):!1},cookie:function(i,e){var t=document.cookie,s=i+"-"+e,r=t.indexOf(s+"="),o,h;return r>-1&&(t=t.slice(r),o=t.indexOf(";"),o>-1&&(t=t.slice(0,o)),h=t.replace(s+"=","")),h?JSON.parse(h):!1}},LO={local:function(i,e,t){localStorage.setItem(i+"-"+e,JSON.stringify(t))},cookie:function(i,e,t){var s=new Date;s.setDate(s.getDate()+1e4),document.cookie=i+"-"+e+"="+JSON.stringify(t)+"; expires="+s.toUTCString()}};const is=class is extends rt{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,t=this.table.options.persistenceID,s;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:is.readers[this.table.options.persistenceReaderFunc]?this.readFunc=is.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):is.readers[this.mode]?this.readFunc=is.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:is.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=is.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):is.writers[this.mode]?this.writeFunc=is.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(t||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(s=this.retrieveData("page"),s&&(typeof s.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=s.paginationSize),typeof s.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=s.paginationInitialPage))),this.config.group&&(s=this.retrieveData("group"),s&&(typeof s.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=s.groupBy),typeof s.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=s.groupStartOpen),typeof s.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=s.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,t,s;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(t=this.load("filter"),t&&(this.table.options.initialFilter=t)),this.config.headerFilter&&(s=this.load("headerFilter"),s&&(this.table.options.initialHeaderFilter=s))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e,!0)),!0}initializeColumn(e){var t,s;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),s=this.config.columns===!0?Object.keys(t):this.config.columns,s.forEach(r=>{var o=Object.getOwnPropertyDescriptor(t,r),h=t[r];o&&Object.defineProperty(t,r,{set:p=>{h=p,this.defWatcherBlock||this.save("columns"),o.set&&o.set(p)},get:()=>(o.get&&o.get(),h)})}),this.defWatcherBlock=!1)}load(e,t){var s=this.retrieveData(e);return t&&(s=s?this.mergeDefinition(t,s):t),s}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,t,s){var r=[];return t=t||[],t.forEach((o,h)=>{var p=this._findColumn(e,o),g;p&&(s?g=Object.keys(o):this.config.columns===!0||this.config.columns==null?(g=Object.keys(p),g.push("width")):g=this.config.columns,g.forEach(x=>{x!=="columns"&&typeof o[x]<"u"&&(p[x]=o[x])}),p.columns&&(p.columns=this.mergeDefinition(p.columns,o.columns)),r.push(p))}),e.forEach((o,h)=>{var p=this._findColumn(t,o);p||(r.length>h?r.splice(h,0,o):r.push(o))}),r}_findColumn(e,t){var s=t.columns?"group":t.field?"field":"object";return e.find(function(r){switch(s){case"group":return r.title===t.title&&r.columns.length===t.columns.length;case"field":return r.field===t.field;case"object":return r===t}})}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"headerFilter":t=this.table.modules.filter.getHeaderFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach(function(t){t.column=t.field,delete t.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],s=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(r=>{var o={},h=r.getDefinition(),p;r.isGroup?(o.title=h.title,o.columns=this.parseColumns(r.getColumns())):(o.field=r.getField(),this.config.columns===!0||this.config.columns==null?(p=Object.keys(h),p.push("width"),p.push("visible")):p=this.config.columns,p.forEach(g=>{switch(g){case"width":o.width=r.getWidth();break;case"visible":o.visible=r.visible;break;default:typeof h[g]!="function"&&s.indexOf(g)===-1&&(o[g]=h[g])}})),t.push(o)}),t}};Le(is,"moduleName","persistence"),Le(is,"moduleInitOrder",-10),Le(is,"readers",RO),Le(is,"writers",LO);let Qc=is;class Pv extends rt{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,t,s){this.loadPopupEvent(t,null,e,s)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var t=e.definition;t.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),t.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),t.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),t.headerPopup&&this.initializeColumnHeaderPopup(e),t.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),t.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),t.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var t=e.definition.headerPopupIcon,s;s=document.createElement("span"),s.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?s.appendChild(t):s.innerHTML=t):s.innerHTML="&vellip;",s.addEventListener("click",r=>{r.stopPropagation(),r.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,r,e)}),e.titleElement.insertBefore(s,e.titleElement.firstChild)}loadPopupTableCellEvent(e,t,s){s._cell&&(s=s._cell),s.column.definition[e]&&this.loadPopupEvent(s.column.definition[e],t,s)}loadPopupTableColumnEvent(e,t,s){s._column&&(s=s._column),s.definition[e]&&this.loadPopupEvent(s.definition[e],t,s)}loadPopupEvent(e,t,s,r){var o;function h(p){o=p}s._group?s=s._group:s._row&&(s=s._row),e=typeof e=="function"?e.call(this.table,t,s.getComponent(),h):e,this.loadPopup(t,s,e,o,r)}loadPopup(e,t,s,r,o){var h=!(e instanceof MouseEvent),p,g;s instanceof HTMLElement?p=s:(p=document.createElement("div"),p.innerHTML=s),p.classList.add("tabulator-popup"),p.addEventListener("click",x=>{x.stopPropagation()}),h||e.preventDefault(),g=this.popup(p),typeof r=="function"&&g.renderCallback(r),e?g.show(e):g.show(t.getElement(),o||"center"),g.hideOnBlur(()=>{this.dispatchExternal("popupClosed",t.getComponent())}),this.dispatchExternal("popupOpened",t.getComponent())}}Le(Pv,"moduleName","popup");class Av extends rt{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,s){var r=window.scrollX,o=window.scrollY,h=document.createElement("div"),p=document.createElement("div"),g=this.table.modules.export.generateTable(typeof s<"u"?s:this.table.options.printConfig,typeof t<"u"?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),x,k;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(h.classList.add("tabulator-print-header"),x=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof x=="string"?h.innerHTML=x:h.appendChild(x),this.element.appendChild(h)),this.element.appendChild(g),this.table.options.printFooter&&(p.classList.add("tabulator-print-footer"),k=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof k=="string"?p.innerHTML=k:p.appendChild(k),this.element.appendChild(p)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,g),window.print(),this.cleanup(),window.scrollTo(r,o),this.manualBlock=!1}}Le(Av,"moduleName","print");class Ov extends rt{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var t=this,s;this.currentVersion++,s=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),o;return!t.blocked&&s===t.currentVersion&&(t.block("data-push"),r.forEach(h=>{t.table.rowManager.addRowActual(h,!1)}),o=t.origFuncs.push.apply(e,arguments),t.unblock("data-push")),o}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),o;return!t.blocked&&s===t.currentVersion&&(t.block("data-unshift"),r.forEach(h=>{t.table.rowManager.addRowActual(h,!0)}),o=t.origFuncs.unshift.apply(e,arguments),t.unblock("data-unshift")),o}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var r,o;return!t.blocked&&s===t.currentVersion&&(t.block("data-shift"),t.data.length&&(r=t.table.rowManager.getRowFromDataObject(t.data[0]),r&&r.deleteActual()),o=t.origFuncs.shift.call(e),t.unblock("data-shift")),o}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var r,o;return!t.blocked&&s===t.currentVersion&&(t.block("data-pop"),t.data.length&&(r=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]),r&&r.deleteActual()),o=t.origFuncs.pop.call(e),t.unblock("data-pop")),o}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),o=r[0]<0?e.length+r[0]:r[0],h=r[1],p=r[2]?r.slice(2):!1,g,x;if(!t.blocked&&s===t.currentVersion){if(t.block("data-splice"),p&&(g=e[o]?t.table.rowManager.getRowFromDataObject(e[o]):!1,g?p.forEach(R=>{t.table.rowManager.addRowActual(R,!0,g,!0)}):(p=p.slice().reverse(),p.forEach(R=>{t.table.rowManager.addRowActual(R,!0,!1,!0)}))),h!==0){var k=e.slice(o,typeof r[1]>"u"?r[1]:o+h);k.forEach((R,D)=>{var W=t.table.rowManager.getRowFromDataObject(R);W&&W.deleteActual(D!==k.length-1)})}(p||h!==0)&&t.table.rowManager.reRenderInPosition(),x=t.origFuncs.splice.apply(e,arguments),t.unblock("data-splice")}return x}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var s in t)this.watchKey(e,t,s);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var t=this,s=e.getData()[this.table.options.dataTreeChildField],r={};s&&(r.push=s.push,Object.defineProperty(s,"push",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-push");var o=r.push.apply(s,arguments);this.rebuildTree(e),t.unblock("tree-push")}return o}}),r.unshift=s.unshift,Object.defineProperty(s,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-unshift");var o=r.unshift.apply(s,arguments);this.rebuildTree(e),t.unblock("tree-unshift")}return o}}),r.shift=s.shift,Object.defineProperty(s,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-shift");var o=r.shift.call(s);this.rebuildTree(e),t.unblock("tree-shift")}return o}}),r.pop=s.pop,Object.defineProperty(s,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-pop");var o=r.pop.call(s);this.rebuildTree(e),t.unblock("tree-pop")}return o}}),r.splice=s.splice,Object.defineProperty(s,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-splice");var o=r.splice.apply(s,arguments);this.rebuildTree(e),t.unblock("tree-splice")}return o}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,t,s){var r=this,o=Object.getOwnPropertyDescriptor(t,s),h=t[s],p=this.currentVersion;Object.defineProperty(t,s,{set:g=>{if(h=g,!r.blocked&&p===r.currentVersion){r.block("key");var x={};x[s]=g,e.updateData(x),r.unblock("key")}o.set&&o.set(g)},get:()=>(o.get&&o.get(),h)})}unwatchRow(e){var t=e.getData();for(var s in t)Object.defineProperty(t,s,{value:t[s]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}Le(Ov,"moduleName","reactiveData");class Dv extends rt{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1),this.registerTableOption("resizableColumnGuide",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var t=e.prevColumn();this.reinitializeColumn(e),t&&this.reinitializeColumn(t)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.reinitializeColumn(t)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.reinitializeColumn(t)}))}frozenColumnOffset(e){var t=!1;return e.modules.frozen&&(t=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?t+=e.getWidth()-3:t&&(t-=3)),t!==!1?t+"px":!1}reinitializeColumn(e){var t=this.frozenColumnOffset(e);e.cells.forEach(s=>{s.modules.resize&&s.modules.resize.handleEl&&(t&&(s.modules.resize.handleEl.style[e.modules.frozen.position]=t,s.modules.resize.handleEl.style["z-index"]=11),s.element.after(s.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(t&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=t),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,t,s,r){var o=this,h=!1,p=s.definition.resizable,g={},x=s.getLastColumn();if(e==="header"&&(h=s.definition.formatter=="textarea"||s.definition.variableHeight,g={variableHeight:h}),(p===!0||p==e)&&this._checkResizability(x)){var k=document.createElement("span");k.className="tabulator-col-resize-handle",k.addEventListener("click",function(D){D.stopPropagation()});var R=function(D){o.startColumn=s,o.initialNextColumn=o.nextColumn=x.nextColumn(),o._mouseDown(D,x,k)};k.addEventListener("mousedown",R),k.addEventListener("touchstart",R,{passive:!0}),k.addEventListener("dblclick",D=>{var W=x.getWidth();D.stopPropagation(),x.reinitializeWidth(!0),W!==x.getWidth()&&(o.dispatch("column-resized",x),o.dispatchExternal("columnResized",x.getComponent()))}),s.modules.frozen&&(k.style.position="sticky",k.style[s.modules.frozen.position]=this.frozenColumnOffset(s)),g.handleEl=k,r.parentNode&&s.visible&&r.after(k)}t.modules.resize=g}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(t=>{this.deInitializeComponent(t)})}deInitializeComponent(e){var t;e.modules.resize&&(t=e.modules.resize.handleEl,t&&t.parentElement&&t.parentElement.removeChild(t))}resizeHandle(e,t){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=t)}resize(e,t){var s=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,r=s-this.startX,o=s-this.latestX,h,p;if(this.latestX=s,this.table.rtl&&(r=-r,o=-o),h=t.width==t.minWidth||t.width==t.maxWidth,t.setWidth(this.startWidth+r),p=t.width==t.minWidth||t.width==t.maxWidth,o<0&&(this.nextColumn=this.initialNextColumn),this.table.options.resizableColumnFit&&this.nextColumn&&!(h&&p)){let g=this.nextColumn.getWidth();o>0&&g<=this.nextColumn.minWidth&&(this.nextColumn=this.nextColumn.nextColumn()),this.nextColumn&&this.nextColumn.setWidth(this.nextColumn.getWidth()-o)}this.table.columnManager.rerenderColumns(!0),!this.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}calcGuidePosition(e,t,s){var r=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,o=s.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,h=this.table.element.getBoundingClientRect().x,p=t.element.getBoundingClientRect().left-h,g=r-this.startX,x=Math.max(o+g,p+t.minWidth);return t.maxWidth&&(x=Math.min(x,p+t.maxWidth)),x}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,s){var r=this,o;this.dispatchExternal("columnResizing",t.getComponent()),r.table.options.resizableColumnGuide&&(o=document.createElement("span"),o.classList.add("tabulator-col-resize-guide"),r.table.element.appendChild(o),setTimeout(()=>{o.style.left=r.calcGuidePosition(e,t,s)+"px"})),r.table.element.classList.add("tabulator-block-select");function h(g){r.table.options.resizableColumnGuide?o.style.left=r.calcGuidePosition(g,t,s)+"px":r.resize(g,t)}function p(g){r.table.options.resizableColumnGuide&&(r.resize(g,t),o.remove()),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!1),r.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",p),document.body.removeEventListener("mousemove",h),s.removeEventListener("touchmove",h),s.removeEventListener("touchend",p),r.table.element.classList.remove("tabulator-block-select"),r.startWidth!==t.getWidth()&&(r.table.columnManager.verticalAlignHeaders(),r.dispatch("column-resized",t),r.dispatchExternal("columnResized",t.getComponent()))}e.stopPropagation(),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!0),r.startX=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,r.latestX=r.startX,r.startWidth=t.getWidth(),document.body.addEventListener("mousemove",h),document.body.addEventListener("mouseup",p),s.addEventListener("touchmove",h,{passive:!0}),s.addEventListener("touchend",p)}}Le(Dv,"moduleName","resizeColumns");class zv extends rt{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1),this.registerTableOption("resizableRowGuide",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,s=e.getElement(),r=document.createElement("div");r.className="tabulator-row-resize-handle";var o=document.createElement("div");o.className="tabulator-row-resize-handle prev",r.addEventListener("click",function(g){g.stopPropagation()});var h=function(g){t.startRow=e,t._mouseDown(g,e,r)};r.addEventListener("mousedown",h),r.addEventListener("touchstart",h,{passive:!0}),o.addEventListener("click",function(g){g.stopPropagation()});var p=function(g){var x=t.table.rowManager.prevDisplayRow(e);x&&(t.startRow=x,t._mouseDown(g,x,o))};o.addEventListener("mousedown",p),o.addEventListener("touchstart",p,{passive:!0}),s.appendChild(r),s.appendChild(o)}resize(e,t){t.setHeight(this.startHeight+((typeof e.screenY>"u"?e.touches[0].screenY:e.screenY)-this.startY))}calcGuidePosition(e,t,s){var r=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,o=s.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,h=this.table.element.getBoundingClientRect().y,p=t.element.getBoundingClientRect().top-h,g=r-this.startY;return Math.max(o+g,p)}_mouseDown(e,t,s){var r=this,o;r.dispatchExternal("rowResizing",t.getComponent()),r.table.options.resizableRowGuide&&(o=document.createElement("span"),o.classList.add("tabulator-row-resize-guide"),r.table.element.appendChild(o),setTimeout(()=>{o.style.top=r.calcGuidePosition(e,t,s)+"px"})),r.table.element.classList.add("tabulator-block-select");function h(g){r.table.options.resizableRowGuide?o.style.top=r.calcGuidePosition(g,t,s)+"px":r.resize(g,t)}function p(g){r.table.options.resizableRowGuide&&(r.resize(g,t),o.remove()),document.body.removeEventListener("mouseup",h),document.body.removeEventListener("mousemove",h),s.removeEventListener("touchmove",h),s.removeEventListener("touchend",p),r.table.element.classList.remove("tabulator-block-select"),r.dispatchExternal("rowResized",t.getComponent())}e.stopPropagation(),r.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,r.startHeight=t.getHeight(),document.body.addEventListener("mousemove",h),document.body.addEventListener("mouseup",p),s.addEventListener("touchmove",h,{passive:!0}),s.addEventListener("touchend",p)}}Le(zv,"moduleName","resizeRows");class Nv extends rt{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,t;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(s=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var r=Math.floor(s[0].contentRect.height),o=Math.floor(s[0].contentRect.width);(this.tableHeight!=r||this.tableWidth!=o)&&(this.tableHeight=r,this.tableWidth=o,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(s=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var r=Math.floor(s[0].contentRect.height),o=Math.floor(s[0].contentRect.width);(this.containerHeight!=r||this.containerWidth!=o)&&(this.containerHeight=r,this.containerWidth=o,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}Le(Nv,"moduleName","resizeTable");function PO(i,e,t){var s=document.createElement("div"),r=i.getRow()._row.modules.responsiveLayout;s.classList.add("tabulator-responsive-collapse-toggle"),s.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,i.getElement().classList.add("tabulator-row-handle");function o(h){var p=r.element;r.open=h,p&&(r.open?(s.classList.add("open"),p.style.display=""):(s.classList.remove("open"),p.style.display="none"))}return s.addEventListener("click",function(h){h.stopImmediatePropagation(),o(!r.open),i.getTable().rowManager.adjustTableSize()}),o(r.open),s}var AO={format:{formatters:{responsiveCollapse:PO}}};class ep extends rt{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.collapseFormatter&&(this.collapseFormatter=this.collapseFormatter.bind(this.table)),this.table.columnManager.columnsByIndex.forEach((t,s)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=s,e.push(t),!t.visible&&this.mode==="collapse"&&this.hiddenColumns.push(t))}),e=e.reverse(),e=e.sort((t,s)=>{var r=s.modules.responsive.order-t.modules.responsive.order;return r||s.modules.responsive.index-t.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if(t.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:typeof t.responsive>"u"?1:t.responsive,visible:t.visible!==!1}}initializeRow(e){var t;e.type!=="calc"&&(t=document.createElement("div"),t.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(t=this.hiddenColumns.indexOf(e),t>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let t=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),s=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-t;if(s<0){let r=this.columns[this.index];r?(this.hideColumn(r),this.index++):e=!1}else{let r=this.columns[this.index-1];r&&s>0&&s>=r.getWidth()?(this.showColumn(r),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(t=>{this.generateCollapsedRowContent(t)})}generateCollapsedRowContent(e){var t,s;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);s=this.collapseFormatter(this.generateCollapsedRowData(e)),s&&t.appendChild(s),e.calcHeight(!0)}}generateCollapsedRowData(e){var t=e.getData(),s=[],r;return this.hiddenColumns.forEach(o=>{var h=o.getFieldValue(t);if(o.definition.title&&o.field)if(o.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let g=function(x){x()};var p=g;r={value:!1,data:{},getValue:function(){return h},getData:function(){return t},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return o.getComponent()},getTable:()=>this.table},s.push({field:o.field,title:o.definition.title,value:o.modules.format.formatter.call(this.table.modules.format,r,o.modules.format.params,g)})}else s.push({field:o.field,title:o.definition.title,value:h})}),s}formatCollapsedData(e){var t=document.createElement("table");return e.forEach(s=>{var r=document.createElement("tr"),o=document.createElement("td"),h=document.createElement("td"),p,g=document.createElement("strong");o.appendChild(g),this.modules.localize.bind("columns|"+s.field,function(x){g.innerHTML=x||s.title}),s.value instanceof Node?(p=document.createElement("div"),p.appendChild(s.value),h.appendChild(p)):h.innerHTML=s.value,r.appendChild(o),r.appendChild(h),t.appendChild(r)}),Object.keys(e).length?t:""}}Le(ep,"moduleName","responsiveLayout"),Le(ep,"moduleExtensions",AO);function OO(i,e,t){var s=document.createElement("input"),r=!1;if(s.type="checkbox",s.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(s.addEventListener("click",h=>{h.stopPropagation()}),typeof i.getRow=="function"){var o=i.getRow();o instanceof ru?(s.addEventListener("change",h=>{this.table.options.selectableRowsRangeMode==="click"&&r?r=!1:o.toggleSelect()}),this.table.options.selectableRowsRangeMode==="click"&&s.addEventListener("click",h=>{r=!0,this.table.modules.selectRow.handleComplexRowClick(o._row,h)}),s.checked=o.isSelected&&o.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(o,s)):s=""}else s.addEventListener("change",h=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(s);return s}var DO={format:{formatters:{rowSelection:OO}}};class tp extends rt{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(t,s){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),this.table.options.selectableRows==="highlight"&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),this.table.options.selectableRows!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){}rowRetrieve(e,t){return e==="selected"?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var t=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var t=this,s=t.checkRowSelectability(e),r=e.getElement(),o=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",o)};e.modules.select={selected:!1},r.classList.toggle("tabulator-selectable",s),r.classList.toggle("tabulator-unselectable",!s),t.checkRowSelectability(e)&&t.table.options.selectableRows&&t.table.options.selectableRows!="highlight"&&(t.table.options.selectableRowsRangeMode==="click"?r.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(r.addEventListener("click",function(h){(!t.table.modExists("edit")||!t.table.modules.edit.getCurrentCell())&&t.table._clearSelection(),t.selecting||t.toggleRow(e)}),r.addEventListener("mousedown",function(h){if(h.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),t.toggleRow(e),!1}),r.addEventListener("mouseenter",function(h){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),r.addEventListener("mouseout",function(h){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))})))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var s=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),r=this.table.rowManager.getDisplayRowIndex(e),o=s<=r?s:r,h=s>=r?s:r,p=this.table.rowManager.getDisplayRows().slice(0),g=p.splice(o,h-o+1);t.ctrlKey||t.metaKey?(g.forEach(x=>{x!==this.lastClickedRow&&(this.table.options.selectableRows!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectableRows&&this.toggleRow(x):this.toggleRow(x))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectableRows!==!0&&g.length>this.table.options.selectableRows&&(g=g.slice(0,this.table.options.selectableRows)),this.selectRows(g)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableRowsCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t=[],s,r;switch(typeof e){case"undefined":s=this.table.rowManager.rows;break;case"number":s=this.table.rowManager.findRow(e);break;case"string":s=this.table.rowManager.findRow(e),s||(s=this.table.rowManager.getRows(e));break;default:s=e;break}Array.isArray(s)?s.length&&(s.forEach(o=>{r=this._selectRow(o,!0,!0),r&&t.push(r)}),this._rowSelectionChanged(!1,t)):s&&this._selectRow(s,!1,!0)}_selectRow(e,t,s){if(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==!0&&!s&&this.selectedRows.length>=this.table.options.selectableRows)if(this.table.options.selectableRowsRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var r=this.table.rowManager.findRow(e);if(r){if(this.selectedRows.indexOf(r)==-1)return r.getElement().classList.add("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!0,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!0),this.selectedRows.push(r),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!0),this.dispatchExternal("rowSelected",r.getComponent()),this._rowSelectionChanged(t,r),r}else t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,t){var s=[],r,o;switch(typeof e){case"undefined":r=Object.assign([],this.selectedRows);break;case"number":r=this.table.rowManager.findRow(e);break;case"string":r=this.table.rowManager.findRow(e),r||(r=this.table.rowManager.getRows(e));break;default:r=e;break}Array.isArray(r)?r.length&&(r.forEach(h=>{o=this._deselectRow(h,!0,!0),o&&s.push(o)}),this._rowSelectionChanged(t,[],s)):r&&this._deselectRow(r,t,!0)}_deselectRow(e,t){var s=this,r=s.table.rowManager.findRow(e),o,h;if(r){if(o=s.selectedRows.findIndex(function(p){return p==r}),o>-1)return h=r.getElement(),h&&h.classList.remove("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!1,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!1),s.selectedRows.splice(o,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!1),this.dispatchExternal("rowDeselected",r.getComponent()),s._rowSelectionChanged(t,void 0,r),r}else t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e}_rowSelectionChanged(e,t=[],s=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(t)||(t=[t]),t=t.map(r=>r.getComponent()),Array.isArray(s)||(s=[s]),s=s.map(r=>r.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),t,s))}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var s=this.table.modules.dataTree.getChildren(e,!0,!0);if(t)for(let r of s)this._selectRow(r,!0);else for(let r of s)this._deselectRow(r,!0)}}Le(tp,"moduleName","selectRow"),Le(tp,"moduleExtensions",DO);class s1{constructor(e){return this._range=e,new Proxy(this,{get:function(t,s,r){return typeof t[s]<"u"?t[s]:t._range.table.componentFunctionBinder.handle("range",t._range,s)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0,!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(e=>e.getComponent())}getColumns(){return this._range.getColumns().map(e=>e.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(e,t){this._range.destroyedGuard("setBounds")&&this._range.setBounds(e&&e._cell,t&&t._cell)}setStartBound(e){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}setEndBound(e){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class zO extends Li{constructor(e,t,s,r){super(e),this.rangeManager=t,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=e,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(s,r)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(e,t){this._updateMinMax(),e&&this.setBounds(e,t||e)}setStart(e,t){(this.start.row!==e||this.start.col!==t)&&(this.start.row=e,this.start.col=t,this.initializing.start=!0,this._updateMinMax())}setEnd(e,t){(this.end.row!==e||this.end.col!==t)&&(this.end.row=e,this.end.col=t,this.initializing.end=!0,this._updateMinMax())}setBounds(e,t,s){e&&this.setStartBound(e),this.setEndBound(t||e),this.rangeManager.layoutElement(s)}setStartBound(e){var t,s;e.type==="column"?this.rangeManager.columnSelection&&this.setStart(0,e.getPosition()-1):(t=e.row.position-1,s=e.column.getPosition()-1,e.column===this.rangeManager.rowHeader?this.setStart(t,1):this.setStart(t,s))}setEndBound(e){var t=this._getTableRows().length,s,r,o;e.type==="column"?this.rangeManager.columnSelection&&(this.rangeManager.selecting==="column"?this.setEnd(t-1,e.getPosition()-1):this.rangeManager.selecting==="cell"&&this.setEnd(0,e.getPosition()-1)):(s=e.row.position-1,r=e.column.getPosition()-1,o=e.column===this.rangeManager.rowHeader,this.rangeManager.selecting==="row"?this.setEnd(s,this._getTableColumns().length-1):this.rangeManager.selecting!=="row"&&o?this.setEnd(s,0):this.rangeManager.selecting==="column"?this.setEnd(t-1,r):this.setEnd(s,r))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}layout(){var e=this.table.rowManager.renderer.vDomTop,t=this.table.rowManager.renderer.vDomBottom,s=this.table.columnManager.renderer.leftCol,r=this.table.columnManager.renderer.rightCol,o,h,p,g,x,k,R,D,W,V;this.table.options.renderHorizontal==="virtual"&&this.rangeManager.rowHeader&&(r+=1),e==null&&(e=0),t==null&&(t=1/0),s==null&&(s=0),r==null&&(r=1/0),this.overlaps(s,e,r,t)&&(o=Math.max(this.top,e),h=Math.min(this.bottom,t),p=Math.max(this.left,s),g=Math.min(this.right,r),x=this.rangeManager.getCell(o,p),k=this.rangeManager.getCell(h,g),R=x.getElement(),D=k.getElement(),W=x.row.getElement(),V=k.row.getElement(),this.element.classList.add("tabulator-range-active"),this.table.rtl?(this.element.style.right=W.offsetWidth-R.offsetLeft-R.offsetWidth+"px",this.element.style.width=R.offsetLeft+R.offsetWidth-D.offsetLeft+"px"):(this.element.style.left=W.offsetLeft+R.offsetLeft+"px",this.element.style.width=D.offsetLeft+D.offsetWidth-R.offsetLeft+"px"),this.element.style.top=W.offsetTop+"px",this.element.style.height=V.offsetTop+V.offsetHeight-W.offsetTop+"px")}atTopLeft(e){return e.row.position-1===this.top&&e.column.getPosition()-1===this.left}atBottomRight(e){return e.row.position-1===this.bottom&&e.column.getPosition()-1===this.right}occupies(e){return this.occupiesRow(e.row)&&this.occupiesColumn(e.column)}occupiesRow(e){return this.top<=e.position-1&&e.position-1<=this.bottom}occupiesColumn(e){return this.left<=e.getPosition()-1&&e.getPosition()-1<=this.right}overlaps(e,t,s,r){return!(this.left>s||e>this.right||this.top>r||t>this.bottom)}getData(){var e=[],t=this.getRows(),s=this.getColumns();return t.forEach(r=>{var o=r.getData(),h={};s.forEach(p=>{h[p.field]=o[p.field]}),e.push(h)}),e}getCells(e,t){var s=[],r=this.getRows(),o=this.getColumns();return e?s=r.map(h=>{var p=[];return h.getCells().forEach(g=>{o.includes(g.column)&&p.push(t?g.getComponent():g)}),p}):r.forEach(h=>{h.getCells().forEach(p=>{o.includes(p.column)&&s.push(t?p.getComponent():p)})}),s}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var e=this.getCells(),t=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),e.forEach(s=>{s.setValue(t)}),this.table.restoreRedraw()}getBounds(e){var t=this.getCells(!1,e),s={start:null,end:null};return t.length?(s.start=t[0],s.end=t[t.length-1]):console.warn("No bounds defined on range"),s}getComponent(){return this.component||(this.component=new s1(this)),this.component}destroy(e){this.destroyed=!0,this.element.remove(),e&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(e){return this.destroyed&&console.warn("You cannot call the "+e+" function on a destroyed range"),!this.destroyed}}var NO={rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},FO={rangeJumpLeft:function(i){this.dispatch("keybinding-nav-range",i,"left",!0,!1)},rangeJumpRight:function(i){this.dispatch("keybinding-nav-range",i,"right",!0,!1)},rangeJumpUp:function(i){this.dispatch("keybinding-nav-range",i,"up",!0,!1)},rangeJumpDown:function(i){this.dispatch("keybinding-nav-range",i,"down",!0,!1)},rangeExpandLeft:function(i){this.dispatch("keybinding-nav-range",i,"left",!1,!0)},rangeExpandRight:function(i){this.dispatch("keybinding-nav-range",i,"right",!1,!0)},rangeExpandUp:function(i){this.dispatch("keybinding-nav-range",i,"up",!1,!0)},rangeExpandDown:function(i){this.dispatch("keybinding-nav-range",i,"down",!1,!0)},rangeExpandJumpLeft:function(i){this.dispatch("keybinding-nav-range",i,"left",!0,!0)},rangeExpandJumpRight:function(i){this.dispatch("keybinding-nav-range",i,"right",!0,!0)},rangeExpandJumpUp:function(i){this.dispatch("keybinding-nav-range",i,"up",!0,!0)},rangeExpandJumpDown:function(i){this.dispatch("keybinding-nav-range",i,"down",!0,!0)}},IO={range:function(i){var e=[],t=this.table.modules.selectRange.activeRange,s=!1,r,o,h,p,g;return g=i.length,t&&(r=t.getBounds(),o=r.start,r.start===r.end&&(s=!0),o&&(e=this.table.rowManager.activeRows.slice(),h=e.indexOf(o.row),s?p=i.length:p=e.indexOf(r.end.row)-h+1,h>-1&&(this.table.blockRedraw(),e=e.slice(h,h+p),e.forEach((x,k)=>{x.updateData(i[k%g])}),this.table.restoreRedraw()))),e}},HO={range:function(i){var e=[],t=[],s=this.table.modules.selectRange.activeRange,r=!1,o,h,p,g,x;return s&&(o=s.getBounds(),h=o.start,o.start===o.end&&(r=!0),h&&(i=i.split(`
`),i.forEach(function(k){e.push(k.split("	"))}),e.length&&(g=this.table.columnManager.getVisibleColumnsByIndex(),x=g.indexOf(h.column),x>-1)))?(r?p=e[0].length:p=g.indexOf(o.end.column)-x+1,g=g.slice(x,x+p),e.forEach(k=>{var R={},D=k.length;g.forEach(function(W,V){R[W.field]=k[V%D]}),t.push(R)}),t):!1}},BO={range:function(){var i=this.modules.selectRange.selectedColumns();return this.columnManager.rowHeader&&i.unshift(this.columnManager.rowHeader),i}},_O={range:function(){return this.modules.selectRange.selectedRows()}},jO={keybindings:{bindings:NO,actions:FO},clipboard:{pasteActions:IO,pasteParsers:HO},export:{columnLookups:BO,rowLookups:_O}};class yh extends rt{constructor(e){super(e),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableOption("selectableRangeAutoFocus",!0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()),this.options("columns").findIndex(e=>e.frozen)>0&&console.warn("Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior."),this.options("columns").filter(e=>e.frozen)>1&&console.warn("Having multiple frozen columns with selectRange option may result in unpredictable behavior."))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-moving",this.handleColumnMoving.bind(this)),this.subscribe("column-moved",this.handleColumnMoved.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(e){this.columnSelection&&e.definition.headerSort&&this.options("headerSortClickElement")!=="icon"&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'."),e.modules.edit}updateHeaderColumn(){var e;this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior"))),this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active&&(e=this.table.modules.frozenColumns.getFrozenColumns(),(e.length>1||e.length===1&&e[0]!==this.rowHeader)&&console.warn("Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior"))}getRanges(){return this.ranges.map(e=>e.getComponent())}getRangesData(){return this.ranges.map(e=>e.getData())}addRangeFromComponent(e,t){return e=e?e._cell:null,t=t?t._cell:null,this.addRange(e,t)}cellGetRanges(e){var t=[];return e.column===this.rowHeader?t=this.ranges.filter(s=>s.occupiesRow(e.row)):t=this.ranges.filter(s=>s.occupies(e)),t.map(s=>s.getComponent())}rowGetRanges(e){var t=this.ranges.filter(s=>s.occupiesRow(e));return t.map(s=>s.getComponent())}colGetRanges(e){var t=this.ranges.filter(s=>s.occupiesColumn(e));return t.map(s=>s.getComponent())}_handleMouseUp(e){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(e.key==="Enter"){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),e.preventDefault()}(e.key==="Backspace"||e.key==="Delete")&&this.options("selectableRangeClearCells")&&this.activeRange&&this.activeRange.clearValues()}}initializeFocus(e){var t;this.restoreFocus();try{document.selection?(t=document.body.createTextRange(),t.moveToElementText(e.getElement()),t.select()):window.getSelection&&(t=document.createRange(),t.selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(t))}catch{}}restoreFocus(e){return this.table.rowManager.element.focus(),!0}handleColumnResized(e){var t;this.selecting!=="column"&&this.selecting!=="all"||(t=this.ranges.some(s=>s.occupiesColumn(e)),t&&this.ranges.forEach(s=>{var r=s.getColumns(!0);r.forEach(o=>{o!==e&&o.setWidth(e.width)})}))}handleColumnMoving(e,t){this.resetRanges().setBounds(t),this.overlay.style.visibility="hidden"}handleColumnMoved(e,t,s){this.activeRange.setBounds(e),this.layoutElement()}handleColumnMouseDown(e,t){e.button===2&&(this.selecting==="column"||this.selecting==="all")&&this.activeRange.occupiesColumn(t)||this.table.options.movableColumns&&this.selecting==="column"&&this.activeRange.occupiesColumn(t)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,t))}handleColumnMouseMove(e,t){t===this.rowHeader||!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,t,!0)}renderCell(e){var t=e.getElement(),s=this.ranges.findIndex(r=>r.occupies(e));t.classList.toggle("tabulator-range-selected",s!==-1),t.classList.toggle("tabulator-range-only-cell-selected",this.ranges.length===1&&this.ranges[0].atTopLeft(e)&&this.ranges[0].atBottomRight(e)),t.dataset.range=s}handleCellMouseDown(e,t){e.button===2&&(this.activeRange.occupies(t)||(this.selecting==="row"||this.selecting==="all")&&this.activeRange.occupiesRow(t.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,t))}handleCellMouseMove(e,t){!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,t,!0)}handleCellClick(e,t){this.initializeFocus(t)}handleEditingCell(e){this.activeRange&&this.activeRange.setBounds(e)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(e,t){this.navigate(!1,!1,e),t.preventDefault()}keyNavigateRange(e,t,s,r){this.navigate(s,r,t),e.preventDefault()}navigate(e,t,s){var r=!1,o,h,p,g,x,k,R,D,W,V,Y;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(ee=>ee===this.activeRange?(ee.setEnd(ee.start.row,ee.start.col),!0):(ee.destroy(),!1))),o=this.activeRange,p={top:o.top,bottom:o.bottom,left:o.left,right:o.right},h=t?o.end:o.start,g=h.row,x=h.col,e)switch(s){case"left":x=this.findJumpCellLeft(o.start.row,h.col);break;case"right":x=this.findJumpCellRight(o.start.row,h.col);break;case"up":g=this.findJumpCellUp(h.row,o.start.col);break;case"down":g=this.findJumpCellDown(h.row,o.start.col);break}else{if(t&&(this.selecting==="row"&&(s==="left"||s==="right")||this.selecting==="column"&&(s==="up"||s==="down")))return;switch(s){case"left":x=Math.max(x-1,0);break;case"right":x=Math.min(x+1,this.getTableColumns().length-1);break;case"up":g=Math.max(g-1,0);break;case"down":g=Math.min(g+1,this.getTableRows().length-1);break}}if(this.rowHeader&&x===0&&(x=1),t||o.setStart(g,x),o.setEnd(g,x),t||(this.selecting="cell"),r=p.top!==o.top||p.bottom!==o.bottom||p.left!==o.left||p.right!==o.right,r)return k=this.getRowByRangePos(o.end.row),R=this.getColumnByRangePos(o.end.col),D=k.getElement().getBoundingClientRect(),V=R.getElement().getBoundingClientRect(),W=this.table.rowManager.getElement().getBoundingClientRect(),Y=this.table.columnManager.getElement().getBoundingClientRect(),D.top>=W.top&&D.bottom<=W.bottom||(k.getElement().parentNode&&R.getElement().parentNode?this.autoScroll(o,k.getElement(),R.getElement()):k.getComponent().scrollTo(void 0,!1)),V.left>=Y.left+this.getRowHeaderWidth()&&V.right<=Y.right||(k.getElement().parentNode&&R.getElement().parentNode?this.autoScroll(o,k.getElement(),R.getElement()):R.getComponent().scrollTo(void 0,!1)),this.layoutElement(),!0}rangeRemoved(e){this.ranges=this.ranges.filter(t=>t!==e),this.activeRange===e&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpRow(e,t,s,r,o){return s&&(t=t.reverse()),this.findJumpItem(r,o,t,function(h){return h.getData()[e.getField()]})}findJumpCol(e,t,s,r,o){return s&&(t=t.reverse()),this.findJumpItem(r,o,t,function(h){return e.getData()[h.getField()]})}findJumpItem(e,t,s,r){var o;for(let h of s){let p=r(h);if(e){if(o=h,p)break}else if(t){if(o=h,p)break}else if(p)o=h;else break}return o}findJumpCellLeft(e,t){var s=this.getRowByRangePos(e),r=this.getTableColumns(),o=this.isEmpty(s.getData()[r[t].getField()]),h=r[t-1]?this.isEmpty(s.getData()[r[t-1].getField()]):!1,p=this.rowHeader?r.slice(1,t):r.slice(0,t),g=this.findJumpCol(s,p,!0,o,h);return g?g.getPosition()-1:t}findJumpCellRight(e,t){var s=this.getRowByRangePos(e),r=this.getTableColumns(),o=this.isEmpty(s.getData()[r[t].getField()]),h=r[t+1]?this.isEmpty(s.getData()[r[t+1].getField()]):!1,p=this.findJumpCol(s,r.slice(t+1,r.length),!1,o,h);return p?p.getPosition()-1:t}findJumpCellUp(e,t){var s=this.getColumnByRangePos(t),r=this.getTableRows(),o=this.isEmpty(r[e].getData()[s.getField()]),h=r[e-1]?this.isEmpty(r[e-1].getData()[s.getField()]):!1,p=this.findJumpRow(s,r.slice(0,e),!0,o,h);return p?p.position-1:e}findJumpCellDown(e,t){var s=this.getColumnByRangePos(t),r=this.getTableRows(),o=this.isEmpty(r[e].getData()[s.getField()]),h=r[e+1]?this.isEmpty(r[e+1].getData()[s.getField()]):!1,p=this.findJumpRow(s,r.slice(e+1,r.length),!1,o,h);return p?p.position-1:e}newSelection(e,t){var s;if(t.type==="column"){if(!this.columnSelection)return;if(t===this.rowHeader){s=this.resetRanges(),this.selecting="all";var r,o=this.getCell(-1,-1);this.rowHeader?r=this.getCell(0,1):r=this.getCell(0,0),s.setBounds(r,o);return}else this.selecting="column"}else t.column===this.rowHeader?this.selecting="row":this.selecting="cell";e.shiftKey?this.activeRange.setBounds(!1,t):e.ctrlKey?this.addRange().setBounds(t):this.resetRanges().setBounds(t)}autoScroll(e,t,s){var r=this.table.rowManager.element,o,h,p,g;typeof t>"u"&&(t=this.getRowByRangePos(e.end.row).getElement()),typeof s>"u"&&(s=this.getColumnByRangePos(e.end.col).getElement()),o={left:s.offsetLeft,right:s.offsetLeft+s.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight},h={left:r.scrollLeft+this.getRowHeaderWidth(),right:Math.ceil(r.scrollLeft+r.clientWidth),top:r.scrollTop,bottom:r.scrollTop+r.offsetHeight-this.table.rowManager.scrollbarWidth},p=h.left<o.left&&o.left<h.right&&h.left<o.right&&o.right<h.right,g=h.top<o.top&&o.top<h.bottom&&h.top<o.bottom&&o.bottom<h.bottom,p||(o.left<h.left?r.scrollLeft=o.left-this.getRowHeaderWidth():o.right>h.right&&(r.scrollLeft=Math.min(o.right-r.clientWidth,o.left-this.getRowHeaderWidth()))),g||(o.top<h.top?r.scrollTop=o.top:o.bottom>h.bottom&&(r.scrollTop=o.bottom-r.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(e){e&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(e){var t;e?t=this.table.rowManager.getVisibleRows(!0):t=this.table.rowManager.getRows(),t.forEach(s=>{s.type==="row"&&(this.layoutRow(s),s.cells.forEach(r=>this.renderCell(r)))}),this.getTableColumns().forEach(s=>{this.layoutColumn(s)}),this.layoutRanges()}layoutRow(e){var t=e.getElement(),s=!1,r=this.ranges.some(o=>o.occupiesRow(e));this.selecting==="row"?s=r:this.selecting==="all"&&(s=!0),t.classList.toggle("tabulator-range-selected",s),t.classList.toggle("tabulator-range-highlight",r)}layoutColumn(e){var t=e.getElement(),s=!1,r=this.ranges.some(o=>o.occupiesColumn(e));this.selecting==="column"?s=r:this.selecting==="all"&&(s=!0),t.classList.toggle("tabulator-range-selected",s),t.classList.toggle("tabulator-range-highlight",r)}layoutRanges(){var e,t,s;this.table.initialized&&(e=this.getActiveCell(),e&&(t=e.getElement(),s=e.row.getElement(),this.table.rtl?this.activeRangeCellElement.style.right=s.offsetWidth-t.offsetLeft-t.offsetWidth+"px":this.activeRangeCellElement.style.left=s.offsetLeft+t.offsetLeft+"px",this.activeRangeCellElement.style.top=s.offsetTop+"px",this.activeRangeCellElement.style.width=t.offsetWidth+"px",this.activeRangeCellElement.style.height=s.offsetHeight+"px",this.ranges.forEach(r=>r.layout()),this.overlay.style.visibility="visible"))}getCell(e,t){var s;return t<0&&(t=this.getTableColumns().length+t,t<0)?null:(e<0&&(e=this.getTableRows().length+e),s=this.table.rowManager.getRowFromPosition(e+1),s?s.getCells(!1,!0).filter(r=>r.column.visible)[t]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(e){return this.getTableRows()[e]}getColumnByRangePos(e){return this.getTableColumns()[e]}getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(e,t){var s;return this.maxRanges!==!0&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),s=new zO(this.table,this,e,t),this.activeRange=s,this.ranges.push(s),this.rangeContainer.appendChild(s.element),s}resetRanges(){var e,t,s;return this.ranges.forEach(r=>r.destroy()),this.ranges=[],e=this.addRange(),this.table.rowManager.activeRows.length&&(s=this.table.rowManager.activeRows[0].cells.filter(r=>r.column.visible),t=s[this.rowHeader?1:0],t&&(e.setBounds(t),this.options("selectableRangeAutoFocus")&&this.initializeFocus(t))),e}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(e){return e?this.activeRange.getRows().map(t=>t.getComponent()):this.activeRange.getRows()}selectedColumns(e){return e?this.activeRange.getColumns().map(t=>t.getComponent()):this.activeRange.getColumns()}getRowHeaderWidth(){return this.rowHeader?this.rowHeader.getElement().offsetWidth:0}isEmpty(e){return e==null||e===""}}Le(yh,"moduleName","selectRange"),Le(yh,"moduleInitOrder",1),Le(yh,"moduleExtensions",jO);function WO(i,e,t,s,r,o,h){var p=h.alignEmptyValues,g=h.decimalSeparator,x=h.thousandSeparator,k=0;if(i=String(i),e=String(e),x&&(i=i.split(x).join(""),e=e.split(x).join("")),g&&(i=i.split(g).join("."),e=e.split(g).join(".")),i=parseFloat(i),e=parseFloat(e),isNaN(i))k=isNaN(e)?0:-1;else if(isNaN(e))k=1;else return i-e;return(p==="top"&&o==="desc"||p==="bottom"&&o==="asc")&&(k*=-1),k}function VO(i,e,t,s,r,o,h){var p=h.alignEmptyValues,g=0,x;if(!i)g=e?-1:0;else if(!e)g=1;else{switch(typeof h.locale){case"boolean":h.locale&&(x=this.langLocale());break;case"string":x=h.locale;break}return String(i).toLowerCase().localeCompare(String(e).toLowerCase(),x)}return(p==="top"&&o==="desc"||p==="bottom"&&o==="asc")&&(g*=-1),g}function Fv(i,e,t,s,r,o,h){var p=this.table.dependencyRegistry.lookup(["luxon","DateTime"],"DateTime"),g=h.format||"dd/MM/yyyy HH:mm:ss",x=h.alignEmptyValues,k=0;if(typeof p<"u"){if(p.isDateTime(i)||(g==="iso"?i=p.fromISO(String(i)):i=p.fromFormat(String(i),g)),p.isDateTime(e)||(g==="iso"?e=p.fromISO(String(e)):e=p.fromFormat(String(e),g)),!i.isValid)k=e.isValid?-1:0;else if(!e.isValid)k=1;else return i-e;return(x==="top"&&o==="desc"||x==="bottom"&&o==="asc")&&(k*=-1),k}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function UO(i,e,t,s,r,o,h){return h.format||(h.format="dd/MM/yyyy"),Fv.call(this,i,e,t,s,r,o,h)}function GO(i,e,t,s,r,o,h){return h.format||(h.format="HH:mm"),Fv.call(this,i,e,t,s,r,o,h)}function XO(i,e,t,s,r,o,h){var p=i===!0||i==="true"||i==="True"||i===1?1:0,g=e===!0||e==="true"||e==="True"||e===1?1:0;return p-g}function YO(i,e,t,s,r,o,h){var p=h.type||"length",g=h.alignEmptyValues,x=0,k=this.table,R;h.valueMap&&(typeof h.valueMap=="string"?R=function(W){return W.map(V=>Lt.retrieveNestedData(k.options.nestedFieldSeparator,h.valueMap,V))}:R=h.valueMap);function D(W){var V;switch(R&&(W=R(W)),p){case"length":V=W.length;break;case"sum":V=W.reduce(function(Y,ee){return Y+ee});break;case"max":V=Math.max.apply(null,W);break;case"min":V=Math.min.apply(null,W);break;case"avg":V=W.reduce(function(Y,ee){return Y+ee})/W.length;break;case"string":V=W.join("");break}return V}if(!Array.isArray(i))x=Array.isArray(e)?-1:0;else if(!Array.isArray(e))x=1;else return p==="string"?String(D(i)).toLowerCase().localeCompare(String(D(e)).toLowerCase()):D(e)-D(i);return(g==="top"&&o==="desc"||g==="bottom"&&o==="asc")&&(x*=-1),x}function $O(i,e,t,s,r,o,h){var p=typeof i>"u"?0:1,g=typeof e>"u"?0:1;return p-g}function KO(i,e,t,s,r,o,h){var p,g,x,k,R=0,D,W=/(\d+)|(\D+)/g,V=/\d/,Y=h.alignEmptyValues,ee=0;if(!i&&i!==0)ee=!e&&e!==0?0:-1;else if(!e&&e!==0)ee=1;else{if(isFinite(i)&&isFinite(e))return i-e;if(p=String(i).toLowerCase(),g=String(e).toLowerCase(),p===g)return 0;if(!(V.test(p)&&V.test(g)))return p>g?1:-1;for(p=p.match(W),g=g.match(W),D=p.length>g.length?g.length:p.length;R<D;)if(x=p[R],k=g[R++],x!==k)return isFinite(x)&&isFinite(k)?(x.charAt(0)==="0"&&(x="."+x),k.charAt(0)==="0"&&(k="."+k),x-k):x>k?1:-1;return p.length>g.length}return(Y==="top"&&o==="desc"||Y==="bottom"&&o==="asc")&&(ee*=-1),ee}var qO={number:WO,string:VO,date:UO,time:GO,datetime:Fv,boolean:XO,array:YO,exists:$O,alphanum:KO};const Ro=class Ro extends rt{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,s,r){var o=this.getSort();return o.forEach(h=>{delete h.column}),r.sort=o,r}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var t=!1,s,r;switch(typeof e.definition.sorter){case"string":Ro.sorters[e.definition.sorter]?t=Ro.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":t=e.definition.sorter;break}if(e.modules.sort={sorter:t,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(s=e.getElement(),s.classList.add("tabulator-sortable"),r=document.createElement("div"),r.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":r.classList.add("tabulator-col-sorter-element");break;case"header":s.classList.add("tabulator-col-sorter-element");break;default:s.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":r.appendChild(this.table.options.headerSortElement);break;default:r.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(r),e.modules.sort.element=r,this.setColumnHeaderSortIcon(e,"none"),this.table.options.headerSortClickElement==="icon"&&r.addEventListener("mousedown",o=>{o.stopPropagation()}),(this.table.options.headerSortClickElement==="icon"?r:s).addEventListener("click",o=>{var h="",p=[],g=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?h=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?h=e.modules.sort.dir=="asc"?"desc":"asc":h="none";else switch(e.modules.sort.dir){case"asc":h="desc";break;case"desc":h="asc";break;default:h=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(o.shiftKey||o.ctrlKey)?(p=this.getSort(),g=p.findIndex(x=>x.field===e.getField()),g>-1?(p[g].dir=h,g=p.splice(g,1)[0],h!="none"&&p.push(g)):h!="none"&&p.push({column:e,dir:h}),this.setSort(p)):h=="none"?this.clear():this.setSort(e,h),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,t=[];return e.sortList.forEach(function(s){s.column&&t.push({column:s.column.getComponent(),field:s.column.getField(),dir:s.dir})}),t}setSort(e,t){var s=this,r=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(o){var h;h=s.table.columnManager.findColumn(o.column),h?(o.column=h,r.push(o),s.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",o.column)}),s.sortList=r,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var t=this.table.rowManager.activeRows[0],s="string",r,o;if(t&&(t=t.getData(),r=e.getField(),r))switch(o=e.getFieldValue(t),typeof o){case"undefined":s="string";break;case"boolean":s="boolean";break;default:!isNaN(o)&&o!==""?s="number":o.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(s="alphanum");break}return Ro.sorters[s]}sort(e,t){var s=this,r=this.table.options.sortOrderReverse?s.sortList.slice().reverse():s.sortList,o=[],h=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",s.getSort()),t||s.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(r.forEach(function(p,g){var x;p.column&&(x=p.column.modules.sort,x&&(x.sorter||(x.sorter=s.findSorter(p.column)),p.params=typeof x.params=="function"?x.params(p.column.getComponent(),p.dir):x.params,o.push(p)),t||s.setColumnHeader(p.column,p.dir))}),o.length&&s._sortItems(e,o)):t||r.forEach(function(p,g){s.setColumnHeader(p.column,p.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(p=>{h.push(p.getComponent())}),this.dispatchExternal("dataSorted",s.getSort(),h)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,t)}setColumnHeaderSortIcon(e,t){var s=e.modules.sort.element,r;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;s.firstChild;)s.removeChild(s.firstChild);r=this.table.options.headerSortElement.call(this.table,e.getComponent(),t),typeof r=="object"?s.appendChild(r):s.innerHTML=r}}_sortItems(e,t){var s=t.length-1;e.sort((r,o)=>{for(var h,p=s;p>=0;p--){let g=t[p];if(h=this._sortRow(r,o,g.column,g.dir,g.params),h!==0)break}return h})}_sortRow(e,t,s,r,o){var h,p,g=r=="asc"?e:t,x=r=="asc"?t:e;return e=s.getFieldValue(g.getData()),t=s.getFieldValue(x.getData()),e=typeof e<"u"?e:"",t=typeof t<"u"?t:"",h=g.getComponent(),p=x.getComponent(),s.modules.sort.sorter.call(this,e,t,h,p,s.getComponent(),r,o)}};Le(Ro,"moduleName","sort"),Le(Ro,"sorters",qO);let ip=Ro;class JO{constructor(e,t){this.columnCount=e,this.rowCount=t,this.columnString=[],this.columns=[],this.rows=[]}genColumns(e){var t=Math.max(this.columnCount,Math.max(...e.map(s=>s.length)));this.columnString=[],this.columns=[];for(let s=1;s<=t;s++)this.incrementChar(this.columnString.length-1),this.columns.push(this.columnString.join(""));return this.columns}genRows(e){var t=Math.max(this.rowCount,e.length);this.rows=[];for(let s=1;s<=t;s++)this.rows.push(s);return this.rows}incrementChar(e){let t=this.columnString[e];t?t!=="Z"?this.columnString[e]=String.fromCharCode(this.columnString[e].charCodeAt(0)+1):(this.columnString[e]="A",e?this.incrementChar(e-1):this.columnString.push("A")):this.columnString.push("A")}setRowCount(e){this.rowCount=e}setColumnCount(e){this.columnCount=e}}class Iv{constructor(e){return this._sheet=e,new Proxy(this,{get:function(t,s,r){return typeof t[s]<"u"?t[s]:t._sheet.table.componentFunctionBinder.handle("sheet",t._sheet,s)}})}getTitle(){return this._sheet.title}getKey(){return this._sheet.key}getDefinition(){return this._sheet.getDefinition()}getData(){return this._sheet.getData()}setData(e){return this._sheet.setData(e)}clear(){return this._sheet.clear()}remove(){return this._sheet.remove()}active(){return this._sheet.active()}setTitle(e){return this._sheet.setTitle(e)}setRows(e){return this._sheet.setRows(e)}setColumns(e){return this._sheet.setColumns(e)}}class Bw extends Li{constructor(e,t){super(e.table),this.spreadsheetManager=e,this.definition=t,this.title=this.definition.title||"",this.key=this.definition.key||this.definition.title,this.rowCount=this.definition.rows,this.columnCount=this.definition.columns,this.data=this.definition.data||[],this.element=null,this.isActive=!1,this.grid=new JO(this.columnCount,this.rowCount),this.defaultColumnDefinition={width:100,headerHozAlign:"center",headerSort:!1},this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options("spreadsheetColumnDefinition")),this.columnDefs=[],this.rowDefs=[],this.columnFields=[],this.columns=[],this.rows=[],this.scrollTop=null,this.scrollLeft=null,this.initialize(),this.dispatchExternal("sheetAdded",this.getComponent())}initialize(){this.initializeElement(),this.initializeColumns(),this.initializeRows()}reinitialize(){this.initializeColumns(),this.initializeRows()}initializeElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tab"),this.element.innerText=this.title,this.element.addEventListener("click",()=>{this.spreadsheetManager.loadSheet(this)})}initializeColumns(){this.grid.setColumnCount(this.columnCount),this.columnFields=this.grid.genColumns(this.data),this.columnDefs=[],this.columnFields.forEach(e=>{var t=Object.assign({},this.columnDefinition);t.field=e,t.title=e,this.columnDefs.push(t)})}initializeRows(){var e;this.grid.setRowCount(this.rowCount),e=this.grid.genRows(this.data),this.rowDefs=[],e.forEach((t,s)=>{var r={_id:t},o=this.data[s];o&&o.forEach((h,p)=>{var g=this.columnFields[p];g&&(r[g]=h)}),this.rowDefs.push(r)})}unload(){this.isActive=!1,this.scrollTop=this.table.rowManager.scrollTop,this.scrollLeft=this.table.rowManager.scrollLeft,this.data=this.getData(!0),this.element.classList.remove("tabulator-spreadsheet-tab-active")}load(){var e=!this.isActive;this.isActive=!0,this.table.blockRedraw(),this.table.setData([]),this.table.setColumns(this.columnDefs),this.table.setData(this.rowDefs),this.table.restoreRedraw(),e&&this.scrollTop!==null&&(this.table.rowManager.element.scrollLeft=this.scrollLeft,this.table.rowManager.element.scrollTop=this.scrollTop),this.element.classList.add("tabulator-spreadsheet-tab-active"),this.dispatchExternal("sheetLoaded",this.getComponent())}getComponent(){return new Iv(this)}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()}}getData(e){var t=[],s,r,o;return this.rowDefs.forEach(h=>{var p=[];this.columnFields.forEach(g=>{p.push(h[g])}),t.push(p)}),!e&&!this.options("spreadsheetOutputFull")&&(s=t.map(h=>h.findLastIndex(p=>typeof p<"u")+1),r=Math.max(...s),o=s.findLastIndex(h=>h>0)+1,t=t.slice(0,o),t=t.map(h=>h.slice(0,r))),t}setData(e){this.data=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}clear(){this.setData([])}setTitle(e){this.title=e,this.element.innerText=e,this.dispatchExternal("sheetUpdated",this.getComponent())}setRows(e){this.rowCount=e,this.initializeRows(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}setColumns(e){this.columnCount=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}remove(){this.spreadsheetManager.removeSheet(this)}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispatchExternal("sheetRemoved",this.getComponent())}active(){this.spreadsheetManager.loadSheet(this)}}class Hv extends rt{constructor(e){super(e),this.sheets=[],this.element=null,this.registerTableOption("spreadsheet",!1),this.registerTableOption("spreadsheetRows",50),this.registerTableOption("spreadsheetColumns",50),this.registerTableOption("spreadsheetColumnDefinition",{}),this.registerTableOption("spreadsheetOutputFull",!1),this.registerTableOption("spreadsheetData",!1),this.registerTableOption("spreadsheetSheets",!1),this.registerTableOption("spreadsheetSheetTabs",!1),this.registerTableOption("spreadsheetSheetTabsElement",!1),this.registerTableFunction("setSheets",this.setSheets.bind(this)),this.registerTableFunction("addSheet",this.addSheet.bind(this)),this.registerTableFunction("getSheets",this.getSheets.bind(this)),this.registerTableFunction("getSheetDefinitions",this.getSheetDefinitions.bind(this)),this.registerTableFunction("setSheetData",this.setSheetData.bind(this)),this.registerTableFunction("getSheet",this.getSheet.bind(this)),this.registerTableFunction("getSheetData",this.getSheetData.bind(this)),this.registerTableFunction("clearSheet",this.clearSheet.bind(this)),this.registerTableFunction("removeSheet",this.removeSheetFunc.bind(this)),this.registerTableFunction("activeSheet",this.activeSheetFunc.bind(this))}initialize(){this.options("spreadsheet")&&(this.subscribe("table-initialized",this.tableInitialized.bind(this)),this.subscribe("data-loaded",this.loadRemoteData.bind(this)),this.table.options.index="_id",this.options("spreadsheetData")&&this.options("spreadsheetSheets")&&(console.warn("You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData"),this.table.options.spreadsheetData=!1),this.compatibilityCheck(),this.options("spreadsheetSheetTabs")&&this.initializeTabset())}compatibilityCheck(){this.options("data")&&console.warn("Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table"),this.options("pagination")&&console.warn("The spreadsheet module is not compatible with the pagination module"),this.options("groupBy")&&console.warn("The spreadsheet module is not compatible with the row grouping module"),this.options("responsiveCollapse")&&console.warn("The spreadsheet module is not compatible with the responsive collapse module")}initializeTabset(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tabs");var e=this.options("spreadsheetSheetTabsElement");e&&!(e instanceof HTMLElement)&&(e=document.querySelector(e),e||console.warn("Unable to find element matching spreadsheetSheetTabsElement selector:",this.options("spreadsheetSheetTabsElement"))),e?e.appendChild(this.element):this.footerAppend(this.element)}tableInitialized(){this.sheets.length?this.loadSheet(this.sheets[0]):this.options("spreadsheetSheets")?this.loadSheets(this.options("spreadsheetSheets")):this.options("spreadsheetData")&&this.loadData(this.options("spreadsheetData"))}loadRemoteData(e,t,s){return console.log("data",e,t,s),Array.isArray(e)?(this.table.dataLoader.clearAlert(),this.dispatchExternal("dataLoaded",e),!e.length||Array.isArray(e[0])?this.loadData(e):this.loadSheets(e)):console.error(`Spreadsheet Loading Error - Unable to process remote data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e),!1}loadData(e){var t={data:e};this.loadSheet(this.newSheet(t))}destroySheets(){this.sheets.forEach(e=>{e.destroy()}),this.sheets=[],this.activeSheet=null}loadSheets(e){Array.isArray(e)||(e=[]),this.destroySheets(),e.forEach(t=>{this.newSheet(t)}),this.loadSheet(this.sheets[0])}loadSheet(e){this.activeSheet!==e&&(this.activeSheet&&this.activeSheet.unload(),this.activeSheet=e,e.load())}newSheet(e={}){var t;return e.rows||(e.rows=this.options("spreadsheetRows")),e.columns||(e.columns=this.options("spreadsheetColumns")),t=new Bw(this,e),this.sheets.push(t),this.element&&this.element.appendChild(t.element),t}removeSheet(e){var t=this.sheets.indexOf(e),s;this.sheets.length>1?t>-1&&(this.sheets.splice(t,1),e.destroy(),this.activeSheet===e&&(s=this.sheets[t-1]||this.sheets[0],s?this.loadSheet(s):this.activeSheet=null)):console.warn("Unable to remove sheet, at least one sheet must be active")}lookupSheet(e){return e?e instanceof Bw?e:e instanceof Iv?e._sheet:this.sheets.find(t=>t.key===e)||!1:this.activeSheet}setSheets(e){return this.loadSheets(e),this.getSheets()}addSheet(e){return this.newSheet(e).getComponent()}getSheetDefinitions(){return this.sheets.map(e=>e.getDefinition())}getSheets(){return this.sheets.map(e=>e.getComponent())}getSheet(e){var t=this.lookupSheet(e);return t?t.getComponent():!1}setSheetData(e,t){e&&!t&&(t=e,e=!1);var s=this.lookupSheet(e);return s?s.setData(t):!1}getSheetData(e){var t=this.lookupSheet(e);return t?t.getData():!1}clearSheet(e){var t=this.lookupSheet(e);return t?t.clear():!1}removeSheetFunc(e){var t=this.lookupSheet(e);t&&this.removeSheet(t)}activeSheetFunc(e){var t=this.lookupSheet(e);return t?this.loadSheet(t):!1}}Le(Hv,"moduleName","spreadsheet");class Bv extends rt{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,t,s){var r=e==="tooltip"?s.column.definition.tooltip:s.definition.headerTooltip;r&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,t,s,r),this.table.options.tooltipDelay))}mouseoutCheck(e,t,s){this.popupInstance||this.clearPopup()}clearPopup(e,t,s){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,t,s){var r,o,h;function p(g){o=g}typeof s=="function"&&(s=s(e,t.getComponent(),p)),s instanceof HTMLElement?r=s:(r=document.createElement("div"),s===!0&&(t instanceof su?s=t.value:t.definition.field?this.langBind("columns|"+t.definition.field,g=>{r.innerHTML=s=g||t.definition.title}):s=t.definition.title),r.innerHTML=s),(s||s===0||s===!1)&&(r.classList.add("tabulator-tooltip"),r.addEventListener("mousemove",g=>g.preventDefault()),this.popupInstance=this.popup(r),typeof o=="function"&&this.popupInstance.renderCallback(o),h=this.popupInstance.containerEventCoords(e),this.popupInstance.show(h.x+15,h.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",t.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",t.getComponent()))}}Le(Bv,"moduleName","tooltip");var ZO={integer:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},alphanumeric:function(i,e,t){if(e===""||e===null||typeof e>"u")return!0;var s=new RegExp(/^[a-z0-9]+$/i);return s.test(e)},max:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=t},min:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=t},starts:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(t).toLowerCase())},ends:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(t).toLowerCase())},minLength:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length>=t},maxLength:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length<=t},in:function(i,e,t){return e===""||e===null||typeof e>"u"?!0:(typeof t=="string"&&(t=t.split("|")),t.indexOf(e)>-1)},regex:function(i,e,t){if(e===""||e===null||typeof e>"u")return!0;var s=new RegExp(t);return s.test(e)},unique:function(i,e,t){if(e===""||e===null||typeof e>"u")return!0;var s=!0,r=i.getData(),o=i.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(h){var p=h.getData();p!==r&&e==o.getFieldValue(p)&&(s=!1)}),s},required:function(i,e,t){return e!==""&&e!==null&&typeof e<"u"}};const Eh=class Eh extends rt{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,t,s){var r=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,t):!0;return r!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),t,r)}),r}editorClear(e,t){t&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach(s=>{this.cellValidate(s)!==!0&&t.push(s.getComponent())}),t.length?t:!0}rowValidate(e){var t=[];return e.cells.forEach(s=>{this.cellValidate(s)!==!0&&t.push(s.getComponent())}),t.length?t:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.clearValidation(t._getSelf())})}userValidate(e){var t=[];return this.table.rowManager.rows.forEach(s=>{s=s.getComponent();var r=s.validate();r!==!0&&(t=t.concat(r))}),t.length?t:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var t=this,s=[],r;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(o=>{r=t._extractValidator(o),r&&s.push(r)}):(r=this._extractValidator(e.definition.validator),r&&s.push(r)),e.modules.validate=s.length?s:!1)}_extractValidator(e){var t,s,r;switch(typeof e){case"string":return r=e.indexOf(":"),r>-1?(t=e.substring(0,r),s=e.substring(r+1)):t=e,this._buildValidator(t,s);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var s=typeof e=="function"?e:Eh.validators[e];return s?{type:typeof e=="function"?"function":e,func:s,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,s){var r=this,o=[],h=this.invalidCells.indexOf(t);return e&&e.forEach(p=>{p.func.call(r,t.getComponent(),s,p.params)||o.push({type:p.type,parameters:p.params})}),t.modules.validate||(t.modules.validate={}),o.length?(t.modules.validate.invalid=o,this.table.options.validationMode!=="manual"&&t.getElement().classList.add("tabulator-validation-fail"),h==-1&&this.invalidCells.push(t)):(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),h>-1&&this.invalidCells.splice(h,1)),o.length?o:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(t=>{e.push(t.getComponent())}),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,t=this.invalidCells.indexOf(e),t>-1&&this.invalidCells.splice(t,1))}};Le(Eh,"moduleName","validate"),Le(Eh,"validators",ZO);let sp=Eh;var ag=Object.freeze({__proto__:null,AccessorModule:Hc,AjaxModule:Bc,ClipboardModule:_c,ColumnCalcsModule:jc,DataTreeModule:Cv,DownloadModule:Wc,EditModule:Vc,ExportModule:Uc,FilterModule:Gc,FormatModule:Xc,FrozenColumnsModule:Ev,FrozenRowsModule:kv,GroupRowsModule:Sv,HistoryModule:Yc,HtmlTableImportModule:Mv,ImportModule:$c,InteractionModule:Tv,KeybindingsModule:Kc,MenuModule:Rv,MoveColumnsModule:Lv,MoveRowsModule:qc,MutatorModule:Jc,PageModule:Zc,PersistenceModule:Qc,PopupModule:Pv,PrintModule:Av,ReactiveDataModule:Ov,ResizeColumnsModule:Dv,ResizeRowsModule:zv,ResizeTableModule:Nv,ResponsiveLayoutModule:ep,SelectRangeModule:yh,SelectRowModule:tp,SortModule:ip,SpreadsheetModule:Hv,TooltipModule:Bv,ValidateModule:sp}),QO={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},rowHeader:!1,data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{},dependencies:{}};class r1{constructor(e,t,s={}){this.table=e,this.msgType=t,this.registeredDefaults=Object.assign({},s)}register(e,t){this.registeredDefaults[e]=t}generate(e,t={}){var s=Object.assign({},this.registeredDefaults),r=this.table.options.debugInvalidOptions||t.debugInvalidOptions===!0;Object.assign(s,e);for(let o in t)s.hasOwnProperty(o)||(r&&console.warn("Invalid "+this.msgType+" option:",o),s[o]=t.key);for(let o in s)o in t?s[o]=t[o]:Array.isArray(s[o])?s[o]=Object.assign([],s[o]):typeof s[o]=="object"&&s[o]!==null?s[o]=Object.assign({},s[o]):typeof s[o]>"u"&&delete s[o];return s}}class nu extends Li{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,t){}renderRowCells(e){}rerenderRowCells(e,t){}scrollColumns(e,t){}scrollRows(e,t){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,t){var s=e.getElement();t%2?(s.classList.add("tabulator-row-even"),s.classList.remove("tabulator-row-odd")):(s.classList.add("tabulator-row-odd"),s.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,t,s){var r=this.rows().indexOf(e),o=e.getElement(),h=0;return new Promise((p,g)=>{if(r>-1){if(typeof s>"u"&&(s=this.table.options.scrollToRowIfVisible),!s&&Lt.elVisible(o)&&(h=Lt.elOffset(o).top-Lt.elOffset(this.elementVertical).top,h>0&&h<this.elementVertical.clientHeight-o.offsetHeight))return p(),!1;switch(typeof t>"u"&&(t=this.table.options.scrollToRowPosition),t==="nearest"&&(t=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),t){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(o.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-o.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-o.offsetTop)+o.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+o.offsetHeight;break;case"top":this.elementVertical.scrollTop=o.offsetTop;break}p()}else console.warn("Scroll Error - Row not visible"),g("Scroll Error - Row not visible")})}}class eD extends nu{constructor(e){super(e)}renderRowCells(e,t){const s=document.createDocumentFragment();e.cells.forEach(r=>{s.appendChild(r.getElement())}),e.element.appendChild(s),t||e.cells.forEach(r=>{r.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(t){t.reinitializeWidth()})}}class tD extends nu{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,t){this.dataChange()}scrollColumns(e,t){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(t=>{if(t.visible){var s=t.getWidth();s>e&&(e=s)}}),this.windowBuffer=e*2}rerenderColumns(e,t){var s={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},r=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(o=>{var h={},p;o.visible&&(o.modules.frozen||(p=o.getWidth(),h.leftPos=r,h.rightPos=r+p,h.width=p,this.isFitData&&(h.fitDataCheck=o.modules.vdomHoz?o.modules.vdomHoz.fitDataCheck:!0),r+p>this.vDomScrollPosLeft&&r<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=r),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=p),this.columns.push(o),o.modules.vdomHoz=h,r+=p))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||(!e||this.reinitChanged(s))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const t=document.createDocumentFragment();e.cells.forEach(s=>{t.appendChild(s.getElement())}),e.element.appendChild(t),e.cells.forEach(s=>{s.cellRendered()})}}rerenderRowCells(e,t){this.reinitializeRow(e,t)}reinitializeColumnWidths(e){for(let t=this.leftCol;t<=this.rightCol;t++){let s=this.columns[t];s&&s.reinitializeWidth()}}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,t,s;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(r=>{!r.definition.width&&r.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,t=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],t)){s=t.getElement(),t.generateCells(),this.tableElement.appendChild(s);for(let r=0;r<t.cells.length;r++){let o=t.cells[r];s.appendChild(o.getElement()),o.column.reinitializeWidth()}s.parentNode.removeChild(s),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var t=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((s,r)=>{s!==this.columns[r]&&(t=!1)}),!t)}reinitializeRows(){var e=this.getVisibleRows(),t=this.table.rowManager.getRows().filter(s=>!e.includes(s));e.forEach(s=>{this.reinitializeRow(s,!0)}),t.forEach(s=>{s.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,t,s){for(let r=e;r<t;r++){let o=this.columns[r];o.modules.vdomHoz.leftPos+=s,o.modules.vdomHoz.rightPos+=s}}addColRight(){for(var e=!1,t=!0;t;){let s=this.columns[this.rightCol+1];s&&s.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var o=r.getCell(s);r.getElement().insertBefore(o.getElement(),r.getCell(this.columns[this.rightCol]).getElement().nextSibling),o.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.rightCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=s.getWidth()):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,t=!0;t;){let s=this.columns[this.leftCol-1];if(s)if(s.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(o=>{if(o.type!=="group"){var h=o.getCell(s);o.getElement().insertBefore(h.getElement(),o.getCell(this.columns[this.leftCol]).getElement()),h.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(o=>{o.type!=="group"&&(o.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=s.getWidth();let r=this.fitDataColActualWidthCheck(s);r&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+r,this.vDomPadRight-=r)}else t=!1;else t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,t=!0;t;){let s=this.columns[this.rightCol];s&&s.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var o=r.getCell(s);try{r.getElement().removeChild(o.getElement())}catch(h){console.warn("Could not removeColRight",h.message)}}}),this.vDomPadRight+=s.getWidth(),this.rightCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)})):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,t=!0;t;){let s=this.columns[this.leftCol];s&&s.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var o=r.getCell(s);try{r.getElement().removeChild(o.getElement())}catch(h){console.warn("Could not removeColLeft",h.message)}}}),this.vDomPadLeft+=s.getWidth(),this.leftCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)})):t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var t,s;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),t=e.getWidth(),s=t-e.modules.vdomHoz.width,s&&(e.modules.vdomHoz.rightPos+=s,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,s)),e.modules.vdomHoz.fitDataCheck=!1),s}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.appendCell(e,t)});for(let t=this.leftCol;t<=this.rightCol;t++)this.appendCell(e,this.columns[t]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.appendCell(e,t)})}}appendCell(e,t){if(t&&t.visible){let s=e.getCell(t);e.getElement().appendChild(s.getElement()),s.cellRendered()}}reinitializeRow(e,t){if(e.type!=="group"&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var s=e.getElement();s.firstChild;)s.removeChild(s.firstChild);this.initializeRow(e)}}}class iD extends Li{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.rowHeader=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new r1(this.table,"column definition",t1),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,t={virtual:tD,basic:eD};typeof this.table.options.renderHorizontal=="string"?e=t[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var t;e.deltaX&&(t=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t))})}generateColumnsFromRowData(e){var t=[],s={},r=this.table.options.autoColumns==="full"?e:[e[0]],o=this.table.options.autoColumnsDefinitions;if(e&&e.length){if(r.forEach(h=>{Object.keys(h).forEach((p,g)=>{let x=h[p],k;s[p]?s[p]!==!0&&typeof x<"u"&&(s[p].sorter=this.calculateSorterFromValue(x),s[p]=!0):(k={field:p,title:p,sorter:this.calculateSorterFromValue(x)},t.splice(g,0,k),s[p]=typeof x>"u"?k:!0)})}),o)switch(typeof o){case"function":this.table.options.columns=o.call(this.table,t);break;case"object":Array.isArray(o)?t.forEach(h=>{var p=o.find(g=>g.field===h.field);p&&Object.assign(h,p)}):t.forEach(h=>{o[h.field]&&Object.assign(h,o[h.field])}),this.table.options.columns=t;break}else this.table.options.columns=t;this.setColumns(this.table.options.columns)}}calculateSorterFromValue(e){var t;switch(typeof e){case"undefined":t="string";break;case"boolean":t="boolean";break;case"number":t="number";break;case"object":Array.isArray(e)?t="array":t="string";break;default:!isNaN(e)&&e!==""?t="number":e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?t="alphanum":t="string";break}return t}setColumns(e,t){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),this.dispatchExternal("columnsLoading"),this.table.options.rowHeader&&(this.rowHeader=new Io(this.table.options.rowHeader===!0?{}:this.table.options.rowHeader,this,!0),this.columns.push(this.rowHeader),this.headersElement.appendChild(this.rowHeader.getElement()),this.rowHeader.columnRendered()),e.forEach((s,r)=>{this._addColumn(s)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.subscribedExternal("columnsLoaded")&&this.dispatchExternal("columnsLoaded",this.getComponents()),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,t,s){var r=new Io(e,this),o=r.getElement(),h=s&&this.findColumnIndex(s);if(t&&this.rowHeader&&(!s||s===this.rowHeader)&&(t=!1,s=this.rowHeader,h=0),s&&h>-1){var p=s.getTopColumn(),g=this.columns.indexOf(p),x=p.getElement();t?(this.columns.splice(g,0,r),x.parentNode.insertBefore(o,x)):(this.columns.splice(g+1,0,r),x.parentNode.insertBefore(o,x.nextSibling))}else t?(this.columns.unshift(r),this.headersElement.insertBefore(r.getElement(),this.headersElement.firstChild)):(this.columns.push(r),this.headersElement.appendChild(r.getElement()));return r.columnRendered(),r}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(t=>{t.clearVerticalAlign()}),this.columns.forEach(t=>{var s=t.getHeight();s>e&&(e=s)}),this.headersElement.style.height=e+"px",this.columns.forEach(t=>{t.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var t;if(typeof e=="object"){if(e instanceof Io)return e;if(e instanceof xv)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return t=[],this.columns.forEach(r=>{t.push(r),t=t.concat(r.getColumns(!0))}),t.find(r=>r.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var t=[];return Object.keys(this.columnsByField).forEach(s=>{var r=this.table.options.nestedFieldSeparator?s.split(this.table.options.nestedFieldSeparator)[0]:s;r===e&&t.push(this.columnsByField[s])}),t}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(t=>t.visible);return e>-1?this.columnsByIndex[e]:!1}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(e=>e.visible)}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(t=>e===t)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((t,s)=>{e(t,s)})}getDefinitions(e){var t=[];return this.columnsByIndex.forEach(s=>{(!e||e&&s.visible)&&t.push(s.getDefinition())}),t}getDefinitionTree(){var e=[];return this.columns.forEach(t=>{e.push(t.getDefinition(!0))}),e}getComponents(e){var t=[],s=e?this.columns:this.columnsByIndex;return s.forEach(r=>{t.push(r.getComponent())}),t}getWidth(){var e=0;return this.columnsByIndex.forEach(t=>{t.visible&&(e+=t.getWidth())}),e}moveColumn(e,t,s){t.element.parentNode.insertBefore(e.element,t.element),s&&t.element.parentNode.insertBefore(t.element,e.element),this.moveColumnActual(e,t,s),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,t,s){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,s):this._moveColumnInArray(this.columns,e,t,s),this._moveColumnInArray(this.columnsByIndex,e,t,s,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,t,s),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,t,s,r,o){var h=e.indexOf(t),p,g=[];h>-1&&(e.splice(h,1),p=e.indexOf(s),p>-1?r&&(p=p+1):p=h,e.splice(p,0,t),o&&(g=this.chain("column-moving-rows",[t,s,r],null,[])||[],g=g.concat(this.table.rowManager.rows),g.forEach(function(x){if(x.cells.length){var k=x.cells.splice(h,1)[0];x.cells.splice(p,0,k)}})))}scrollToColumn(e,t,s){var r=0,o=e.getLeftOffset(),h=0,p=e.getElement();return new Promise((g,x)=>{if(typeof t>"u"&&(t=this.table.options.scrollToColumnPosition),typeof s>"u"&&(s=this.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":h=-this.element.clientWidth/2;break;case"right":h=p.clientWidth-this.headersElement.clientWidth;break}if(!s&&o>0&&o+p.offsetWidth<this.element.clientWidth)return!1;r=o+h,r=Math.max(Math.min(r,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(r),this.scrollHorizontal(r),g()}else console.warn("Scroll Error - Column not visible"),x("Scroll Error - Column not visible")})}generateCells(e){var t=[];return this.columnsByIndex.forEach(s=>{t.push(s.generateCell(e))}),t}getFlexBaseWidth(){var e=this.table.element.clientWidth,t=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(s){var r,o,h;s.visible&&(r=s.definition.width||0,o=parseInt(s.minWidth),typeof r=="string"?r.indexOf("%")>-1?h=e/100*parseInt(r):h=parseInt(r):h=r,t+=h>o?h:o)}),t}addColumn(e,t,s){return new Promise((r,o)=>{var h=this._addColumn(e,t,s);this._reIndexColumns(),this.dispatch("column-add",e,t,s),this.layoutMode()!="fitColumns"&&h.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),r(h)})}deregisterColumn(e){var t=e.getField(),s;t&&delete this.columnsByField[t],s=this.columnsByIndex.indexOf(e),s>-1&&this.columnsByIndex.splice(s,1),s=this.columns.indexOf(e),s>-1&&this.columns.splice(s,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,t){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,t)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){Lt.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class sD extends nu{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,t=!0,s=document.createDocumentFragment(),r=this.rows();r.forEach((o,h)=>{this.styleRow(o,h),o.initialize(!1,!0),o.type!=="group"&&(t=!1),s.appendChild(o.getElement())}),e.appendChild(s),r.forEach(o=>{o.rendered(),o.heightInitialized||o.calcHeight(!0)}),r.forEach(o=>{o.heightInitialized||o.setCellHeight()}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(e){var t=Lt.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-t)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-t))}scrollToRow(e){var t=e.getElement();this.elementVertical.scrollTop=Lt.elOffset(t).top-Lt.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class rD extends nu{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var t=this.elementVertical.scrollTop,s=!1,r=!1,o=this.table.rowManager.scrollLeft,h=this.rows(),p=this.vDomTop;p<=this.vDomBottom;p++)if(h[p]){var g=t-h[p].getElement().offsetTop;if(r===!1||Math.abs(g)<r)r=g,s=p;else break}h.forEach(x=>{x.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(s===!1?this.rows.length-1:s,!0,r||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(o)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,t){var s=e-this.vDomScrollPosTop,r=e-this.vDomScrollPosBottom,o=this.vDomWindowBuffer*2,h=this.rows();if(this.scrollTop=e,-s>o||r>o){var p=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*h.length)),this.scrollColumns(p)}else t?(s<0&&this._addTopRow(h,-s),r<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(h,-r):this.vDomScrollPosBottom=this.scrollTop)):(r>=0&&this._addBottomRow(h,r),s>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(h,s):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var t=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-t)>Math.abs(this.vDomBottom-t))}scrollToRow(e){var t=this.rows().indexOf(e);t>-1&&this._virtualRenderFill(t,!0)}visibleRows(e){var t=this.elementVertical.scrollTop,s=this.elementVertical.clientHeight+t,r=!1,o=0,h=0,p=this.rows();if(e)o=this.vDomTop,h=this.vDomBottom;else for(var g=this.vDomTop;g<=this.vDomBottom;g++)if(p[g])if(r)if(s-p[g].getElement().offsetTop>=0)h=g;else break;else if(t-p[g].getElement().offsetTop>=0)o=g;else if(r=!0,s-p[g].getElement().offsetTop>=0)h=g;else break;return p.slice(o,h+1)}_virtualRenderFill(e,t,s){var r=this.tableElement,o=this.elementVertical,h=0,p=0,g=0,x=0,k=0,R=0,D=this.rows(),W=D.length,V=0,Y,ee,B=[],j=0,X=0,Z=this.table.rowManager.fixedHeight,ce=this.elementVertical.clientHeight,fe=this.table.options.rowHeight,Te=!0;if(e=e||0,s=s||0,!e)this.clear();else{for(;r.firstChild;)r.removeChild(r.firstChild);x=(W-e+1)*this.vDomRowHeight,x<ce&&(e-=Math.ceil((ce-x)/this.vDomRowHeight),e<0&&(e=0)),h=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=h}if(W&&Lt.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,Z||this.table.options.maxHeight?(fe&&(X=ce/fe+this.vDomWindowBuffer/fe),X=Math.max(this.vDomWindowMinTotalRows,Math.ceil(X))):X=W;(X==W||p<=ce+this.vDomWindowBuffer||j<this.vDomWindowMinTotalRows)&&this.vDomBottom<W-1;){for(B=[],ee=document.createDocumentFragment(),R=0;R<X&&this.vDomBottom<W-1;)V=this.vDomBottom+1,Y=D[V],this.styleRow(Y,V),Y.initialize(!1,!0),!Y.heightInitialized&&!this.table.options.rowHeight&&Y.clearCellHeight(),ee.appendChild(Y.getElement()),B.push(Y),this.vDomBottom++,R++;if(!B.length)break;r.appendChild(ee),B.forEach(se=>{se.rendered(),se.heightInitialized||se.calcHeight(!0)}),B.forEach(se=>{se.heightInitialized||se.setCellHeight()}),B.forEach(se=>{g=se.getHeight(),j<h?k+=g:p+=g,g>this.vDomWindowBuffer&&(this.vDomWindowBuffer=g*2),j++}),Te=this.table.rowManager.adjustTableSize(),ce=this.elementVertical.clientHeight,Te&&(Z||this.table.options.maxHeight)&&(fe=p/j,X=Math.max(this.vDomWindowMinTotalRows,Math.ceil(ce/fe+this.vDomWindowBuffer/fe)))}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+s:this.scrollTop-k,this.vDomBottomPad=this.vDomBottom==W-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-p-k,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((p+k)/j),this.vDomBottomPad=this.vDomRowHeight*(W-this.vDomBottom-1),this.vDomScrollHeight=k+p+this.vDomBottomPad-ce),r.style.paddingTop=this.vDomTopPad+"px",r.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+k+s-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-ce:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-ce),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&t&&(this.scrollTop+=this.elementVertical.offsetHeight-ce),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,t){for(var s=this.tableElement,r=[],o=0,h=this.vDomTop-1,p=0,g=!0;g;)if(this.vDomTop){let x=e[h],k,R;x&&p<this.vDomMaxRenderChain?(k=x.getHeight()||this.vDomRowHeight,R=x.initialized,t>=k?(this.styleRow(x,h),s.insertBefore(x.getElement(),s.firstChild),(!x.initialized||!x.heightInitialized)&&r.push(x),x.initialize(),R||(k=x.getElement().offsetHeight,k>this.vDomWindowBuffer&&(this.vDomWindowBuffer=k*2)),t-=k,o+=k,this.vDomTop--,h--,p++):g=!1):g=!1}else g=!1;for(let x of r)x.clearCellHeight();this._quickNormalizeRowHeight(r),o&&(this.vDomTopPad-=o,this.vDomTopPad<0&&(this.vDomTopPad=h*this.vDomRowHeight),h<1&&(this.vDomTopPad=0),s.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=o)}_removeTopRow(e,t){for(var s=[],r=0,o=0,h=!0;h;){let p=e[this.vDomTop],g;p&&o<this.vDomMaxRenderChain?(g=p.getHeight()||this.vDomRowHeight,t>=g?(this.vDomTop++,t-=g,r+=g,s.push(p),o++):h=!1):h=!1}for(let p of s){let g=p.getElement();g.parentNode&&g.parentNode.removeChild(g)}r&&(this.vDomTopPad+=r,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?r:r+this.vDomWindowBuffer)}_addBottomRow(e,t){for(var s=this.tableElement,r=[],o=0,h=this.vDomBottom+1,p=0,g=!0;g;){let x=e[h],k,R;x&&p<this.vDomMaxRenderChain?(k=x.getHeight()||this.vDomRowHeight,R=x.initialized,t>=k?(this.styleRow(x,h),s.appendChild(x.getElement()),(!x.initialized||!x.heightInitialized)&&r.push(x),x.initialize(),R||(k=x.getElement().offsetHeight,k>this.vDomWindowBuffer&&(this.vDomWindowBuffer=k*2)),t-=k,o+=k,this.vDomBottom++,h++,p++):g=!1):g=!1}for(let x of r)x.clearCellHeight();this._quickNormalizeRowHeight(r),o&&(this.vDomBottomPad-=o,(this.vDomBottomPad<0||h==e.length-1)&&(this.vDomBottomPad=0),s.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=o)}_removeBottomRow(e,t){for(var s=[],r=0,o=0,h=!0;h;){let p=e[this.vDomBottom],g;p&&o<this.vDomMaxRenderChain?(g=p.getHeight()||this.vDomRowHeight,t>=g?(this.vDomBottom--,t-=g,r+=g,s.push(p),o++):h=!1):h=!1}for(let p of s){let g=p.getElement();g.parentNode&&g.parentNode.removeChild(g)}r&&(this.vDomBottomPad+=r,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=r)}_quickNormalizeRowHeight(e){for(let t of e)t.calcHeight();for(let t of e)t.setCellHeight()}}class nD extends Li{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let t=document.createElement("div");if(t.classList.add("tabulator-placeholder"),typeof e=="string"){let s=document.createElement("div");s.classList.add("tabulator-placeholder-contents"),s.innerHTML=e,t.appendChild(s),this.placeholderContents=s}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(t.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=t}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,t=this.scrollLeft>e,s=this.element.scrollTop,r=this.scrollTop>s;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,t),this.dispatchExternal("scrollHorizontal",e,t),this._positionPlaceholder()),this.scrollTop!=s&&(this.scrollTop=s,this.renderer.scrollRows(s,r),this.dispatch("scroll-vertical",s,r),this.dispatchExternal("scrollVertical",s,r))})}findRow(e){if(typeof e=="object"){if(e instanceof Bi)return e;if(e instanceof ru)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(s=>s.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(s=>s.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var t=this.rows.find(s=>s.data===e);return t||!1}getRowFromPosition(e){return this.getDisplayRows().find(t=>t.type==="row"&&t.getPosition()===e&&t.isDisplayed())}scrollToRow(e,t,s){return this.renderer.scrollToRowPosition(e,t,s)}setData(e,t,s){return new Promise((r,o)=>{t&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&s&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),r()})}_setDataActual(e,t){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((s,r)=>{if(s&&typeof s=="object"){var o=new Bi(s,this);this.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",s)}),this.refreshActiveData(!1,!1,t),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,t){var s=this.rows.indexOf(e),r=this.activeRows.indexOf(e);r>-1&&this.activeRows.splice(r,1),s>-1&&this.rows.splice(s,1),this.setActiveRows(this.activeRows),this.displayRowIterator(o=>{var h=o.indexOf(e);h>-1&&o.splice(h,1)}),t||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,t,s,r){var o=this.addRowActual(e,t,s,r);return o}addRows(e,t,s,r){var o=[];return new Promise((h,p)=>{t=this.findAddRowPos(t),Array.isArray(e)||(e=[e]),(typeof s>"u"&&t||typeof s<"u"&&!t)&&e.reverse(),e.forEach((g,x)=>{var k=this.addRow(g,t,s,!0);o.push(k),this.dispatch("row-added",k,g,t,s)}),this.refreshActiveData(r?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),h(o)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,t,s,r){var o=e instanceof Bi?e:new Bi(e||{},this),h=this.findAddRowPos(t),p=-1,g,x;return s||(x=this.chain("row-adding-position",[o,h],null,{index:s,top:h}),s=x.index,h=x.top),typeof s<"u"&&(s=this.findRow(s)),s=this.chain("row-adding-index",[o,s,h],null,s),s&&(p=this.rows.indexOf(s)),s&&p>-1?(g=this.activeRows.indexOf(s),this.displayRowIterator(function(k){var R=k.indexOf(s);R>-1&&k.splice(h?R:R+1,0,o)}),g>-1&&this.activeRows.splice(h?g:g+1,0,o),this.rows.splice(h?p:p+1,0,o)):h?(this.displayRowIterator(function(k){k.unshift(o)}),this.activeRows.unshift(o),this.rows.unshift(o)):(this.displayRowIterator(function(k){k.push(o)}),this.activeRows.push(o),this.rows.push(o)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",o.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r||this.reRenderInPosition(),o}moveRow(e,t,s){this.dispatch("row-move",e,t,s),this.moveRowActual(e,t,s),this.regenerateRowPositions(),this.dispatch("row-moved",e,t,s),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,t,s){this.moveRowInArray(this.rows,e,t,s),this.moveRowInArray(this.activeRows,e,t,s),this.displayRowIterator(r=>{this.moveRowInArray(r,e,t,s)}),this.dispatch("row-moving",e,t,s)}moveRowInArray(e,t,s,r){var o,h,p,g;if(t!==s&&(o=e.indexOf(t),o>-1&&(e.splice(o,1),h=e.indexOf(s),h>-1?r?e.splice(h+1,0,t):e.splice(h,0,t):e.splice(o,0,t)),e===this.getDisplayRows())){p=o<h?o:h,g=h>o?h:o+1;for(let x=p;x<=g;x++)e[x]&&this.styleRow(e[x],x)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var t=this.getDisplayRows().indexOf(e);return t>-1?t:!1}nextDisplayRow(e,t){var s=this.getDisplayRowIndex(e),r=!1;return s!==!1&&s<this.displayRowsCount-1&&(r=this.getDisplayRows()[s+1]),r&&(!(r instanceof Bi)||r.type!="row")?this.nextDisplayRow(r,t):r}prevDisplayRow(e,t){var s=this.getDisplayRowIndex(e),r=!1;return s&&(r=this.getDisplayRows()[s-1]),t&&r&&(!(r instanceof Bi)||r.type!="row")?this.prevDisplayRow(r,t):r}findRowIndex(e,t){var s;return e=this.findRow(e),e&&(s=t.indexOf(e),s>-1)?s:!1}getData(e,t){var s=[],r=this.getRows(e);return r.forEach(function(o){o.type=="row"&&s.push(o.getData(t||"data"))}),s}getComponents(e){var t=[],s=this.getRows(e);return s.forEach(function(r){t.push(r.getComponent())}),t}getDataCount(e){var t=this.getRows(e);return t.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,t){typeof t<"u"?(this.dataPipeline.push({handler:e,priority:t}),this.dataPipeline.sort((s,r)=>s.priority-r.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,t){typeof t<"u"?(this.displayPipeline.push({handler:e,priority:t}),this.displayPipeline.sort((s,r)=>s.priority-r.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,t,s){var r=this.table,o="",h=0,p=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(h=this.dataPipeline.findIndex(g=>g.handler===e),h>-1)o="dataPipeline",t&&(h==this.dataPipeline.length-1?o="display":h++);else if(h=this.displayPipeline.findIndex(g=>g.handler===e),h>-1)o="displayPipeline",t&&(h==this.displayPipeline.length-1?o="end":h++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else o=e||"all",h=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===o&&h<this.redrawBlockRestoreConfig.index||p.indexOf(o)<p.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:t,renderInPosition:s,stage:o,index:h});return}else Lt.elVisible(this.element)?s?this.reRenderInPosition(this.refreshPipelines.bind(this,e,o,h,s)):(this.refreshPipelines(e,o,h,s),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),r.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,o,h,s),this.dispatch("data-refreshed")}}refreshPipelines(e,t,s,r){switch(this.dispatch("data-refreshing"),(!e||!this.activeRowsPipeline[0])&&(this.activeRowsPipeline[0]=this.rows.slice(0)),t){case"all":case"dataPipeline":for(let o=s;o<this.dataPipeline.length;o++){let h=this.dataPipeline[o].handler(this.activeRowsPipeline[o].slice(0));this.activeRowsPipeline[o+1]=h||this.activeRowsPipeline[o].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":s=0,this.resetDisplayRows();case"displayPipeline":for(let o=s;o<this.displayPipeline.length;o++){let h=this.displayPipeline[o].handler((o?this.getDisplayRows(o-1):this.activeRows).slice(0),r);this.setDisplayRows(h||this.getDisplayRows(o-1).slice(0),o)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),t=1;e.forEach(s=>{s.type==="row"&&(s.setPosition(t),t++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,t){this.displayRows[t]=e,t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,t){var s=Object.assign([],this.renderer.visibleRows(!t));return e&&(s=this.chain("rows-visible",[t],s,s)),s}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var t=[];switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!1,!0);break;default:t=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return t}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,t={virtual:rD,basic:sD};typeof this.table.options.renderVertical=="string"?e=t[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,t){var s=e.getElement();t%2?(s.classList.add("tabulator-row-even"),s.classList.remove("tabulator-row-odd")):(s.classList.add("tabulator-row-odd"),s.classList.remove("tabulator-row-even"))}normalizeHeight(e){this.activeRows.forEach(function(t){t.normalizeHeight(e)})}adjustTableSize(){let e=this.element.clientHeight,t,s=!1;if(this.renderer.verticalFillMode==="fill"){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){t=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const o="calc(100% - "+r+"px)";this.element.style.minHeight=t||"calc(100% - "+r+"px)",this.element.style.height=o,this.element.style.maxHeight=o}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(s=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),s}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class oD extends Li{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class aD extends Li{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(t=>{e[t]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,t,s){this.pseudoTrackers[e].target!==s&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",t,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,t),this.pseudoTrackers[e].target=s,this.dispatch(e+"-mouseenter",t,s))}pseudoMouseLeave(e,t){var s=Object.keys(this.pseudoTrackers),r={row:["cell"],cell:["row"]};s=s.filter(o=>{var h=r[e];return o!==e&&(!h||h&&!h.includes(o))}),s.forEach(o=>{var h=this.pseudoTrackers[o].target;this.pseudoTrackers[o].target&&(this.dispatch(o+"-mouseleave",t,h),this.pseudoTrackers[o].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),t=Object.values(this.componentMap);for(let s of t)for(let r of e){let o=s+"-"+r;this.subscriptionChange(o,this.subscriptionChanged.bind(this,s,r))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,t,s){var r=this.listeners[t].components,o=r.indexOf(e),h=!1;s?o===-1&&(r.push(e),h=!0):this.subscribed(e+"-"+t)||o>-1&&(r.splice(o,1),h=!0),(t==="mouseenter"||t==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),h&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let t=this.listeners[e];t.components.length?t.handler||(t.handler=this.track.bind(this,e),this.el.addEventListener(e,t.handler)):t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}track(e,t){var s=t.composedPath&&t.composedPath()||t.path,r=this.findTargets(s);r=this.bindComponents(e,r),this.triggerEvents(e,t,r),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(r).length&&this.pseudoMouseLeave("none",t)}findTargets(e){var t={};let s=Object.keys(this.componentMap);for(let r of e){let o=r.classList?[...r.classList]:[];if(o.filter(g=>this.abortClasses.includes(g)).length)break;let p=o.filter(g=>s.includes(g));for(let g of p)t[this.componentMap[g]]||(t[this.componentMap[g]]=r)}return t.group&&t.group===t.row&&delete t.row,t}bindComponents(e,t){var s=Object.keys(t).reverse(),r=this.listeners[e],o={},h={},p={};for(let g of s){let x,k=t[g],R=this.previousTargets[g];if(R&&R.target===k)x=R.component;else switch(g){case"row":case"group":(r.components.includes("row")||r.components.includes("cell")||r.components.includes("group"))&&(x=this.table.rowManager.getVisibleRows(!0).find(W=>W.getElement()===k),t.row&&t.row.parentNode&&t.row.parentNode.closest(".tabulator-row")&&(t[g]=!1));break;case"column":r.components.includes("column")&&(x=this.table.columnManager.findColumn(k));break;case"cell":r.components.includes("cell")&&(o.row instanceof Bi?x=o.row.findCell(k):t.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}x&&(o[g]=x,p[g]={target:k,component:x})}return this.previousTargets=p,Object.keys(t).forEach(g=>{let x=o[g];h[g]=x}),h}triggerEvents(e,t,s){var r=this.listeners[e];for(let o in s)s[o]&&r.components.includes(o)&&this.dispatch(o+"-"+e,t,s[o])}clearWatchers(){for(let e in this.listeners){let t=this.listeners[e];t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}}class lD{constructor(e){this.table=e,this.bindings={}}bind(e,t,s){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][t]?console.warn("Unable to bind component handler, a matching function name is already bound",e,t,s):this.bindings[e][t]=s}handle(e,t,s){if(this.bindings[e]&&this.bindings[e][s]&&typeof this.bindings[e][s].bind=="function")return this.bindings[e][s].bind(null,t);s!=="then"&&typeof s=="string"&&!s.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+s+" function, have you checked that you have the correct Tabulator module installed?")}}class hD extends Li{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,t,s,r,o,h){var p=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,t,s,o])){this.loading=!0,o||this.alertLoader(),t=this.chain("data-params",[e,s,o],t||{},t||{}),t=this.mapParams(t,this.table.options.dataSendParams);var g=this.chain("data-load",[e,t,s,o],!1,Promise.resolve([]));return g.then(x=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(x)&&typeof x=="object"&&(x=this.mapParams(x,this.objectInvert(this.table.options.dataReceiveParams)));var k=this.chain("data-loaded",[x],null,x);p==this.requestOrder?(this.clearAlert(),k!==!1&&(this.dispatchExternal("dataLoaded",k),this.table.rowManager.setData(k,r,typeof h>"u"?!r:h))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(x=>{console.error("Data Load Error: ",x),this.dispatchExternal("dataLoadError",x),o||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,r,typeof h>"u"?!r:h),Promise.resolve()}mapParams(e,t){var s={};for(let r in e)s[t.hasOwnProperty(r)?t[r]:r]=e[r];return s}objectInvert(e){var t={};for(let s in e)t[e[s]]=s;return t}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class uD{constructor(e,t,s){this.table=e,this.events={},this.optionsList=t||{},this.subscriptionNotifiers={},this.dispatch=s?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=s}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var s;if(this.events[e])if(t)if(s=this.events[e].findIndex(r=>r===t),s>-1)this.events[e].splice(s,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,t){var s=this.subscriptionNotifiers[e];s&&s.forEach(r=>{r(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift(),s;return this.events[t]&&this.events[t].forEach((r,o)=>{let h=r.apply(this.table,e);o||(s=h)}),s}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}}class dD{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t,s=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:t,priority:s}),this.events[e].sort((r,o)=>r.priority-o.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var s;if(this.events[e]){if(t)if(s=this.events[e].findIndex(r=>r.callback===t),s>-1)this.events[e].splice(s,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,t,s,r){var o=s;return Array.isArray(t)||(t=[t]),this.subscribed(e)?(this.events[e].forEach((h,p)=>{o=h.callback.apply(this,t.concat([o]))}),o):typeof r=="function"?r():r}_confirm(e,t){var s=!1;return Array.isArray(t)||(t=[t]),this.subscribed(e)&&this.events[e].forEach((r,o)=>{r.callback.apply(this,t)&&(s=!0)}),s}_notifySubscriptionChange(e,t){var s=this.subscriptionNotifiers[e];s&&s.forEach(r=>{r(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift();this.events[t]&&this.events[t].forEach(s=>{s.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._confirm(...arguments)}}class cD extends Li{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,t,s){var r="";return typeof this.options(e)<"u"?(r="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",t?(r=r+", Please use the %c"+t+"%c option instead",this._warnUser(r,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),s&&(this.table.options[t]=this.table.options[e])):this._warnUser(r,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,t){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+t,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}class pD extends Li{constructor(e){super(e),this.deps={},this.props={}}initialize(){this.deps=Object.assign({},this.options("dependencies"))}lookup(e,t,s){if(Array.isArray(e)){for(const o of e){var r=this.lookup(o,t,!0);if(r)break}if(r)return r;this.error(e)}else return t?this.lookupProp(e,t,s):this.lookupKey(e,s)}lookupProp(e,t,s){var r;if(this.props[e]&&this.props[e][t])return this.props[e][t];if(r=this.lookupKey(e,s),r)return this.props[e]||(this.props[e]={}),this.props[e][t]=r[t]||r,this.props[e][t]}lookupKey(e,t){var s;return this.deps[e]?s=this.deps[e]:window[e]?(this.deps[e]=window[e],s=this.deps[e]):t||this.error(e),s}error(e){console.error("Unable to find dependency",e,"Please check documentation and ensure you have imported the required library into your project")}}function fD(i,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(i),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function _w(i,e){i.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function mD(i,e){var t=0,s=this.table.rowManager.element.clientWidth,r=0,o=!1;i.forEach((h,p)=>{h.widthFixed||h.reinitializeWidth(),(this.table.options.responsiveLayout?h.modules.responsive.visible:h.visible)&&(o=h),h.visible&&(t+=h.getWidth())}),o?(r=s-t+o.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(o.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?o.setWidth(r):o.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function gD(i,e){var t=this.table.rowManager.element.getBoundingClientRect().width,s=0,r=0,o=0,h=0,p=[],g=[],x=0,k=0,R=0;function D(V){var Y;return typeof V=="string"?V.indexOf("%")>-1?Y=t/100*parseInt(V):Y=parseInt(V):Y=V,Y}function W(V,Y,ee,B){var j=[],X=0,Z=0,ce=0,fe=o,Te=0,se=0,nt=[];function _e(Ye){return ee*(Ye.column.definition.widthGrow||1)}function mt(Ye){return D(Ye.width)-ee*(Ye.column.definition.widthShrink||0)}return V.forEach(function(Ye,ii){var Vt=B?mt(Ye):_e(Ye);Ye.column.minWidth>=Vt?j.push(Ye):Ye.column.maxWidth&&Ye.column.maxWidth<Vt?(Ye.width=Ye.column.maxWidth,Y-=Ye.column.maxWidth,fe-=B?Ye.column.definition.widthShrink||1:Ye.column.definition.widthGrow||1,fe&&(ee=Math.floor(Y/fe))):(nt.push(Ye),se+=B?Ye.column.definition.widthShrink||1:Ye.column.definition.widthGrow||1)}),j.length?(j.forEach(function(Ye){X+=B?Ye.width-Ye.column.minWidth:Ye.column.minWidth,Ye.width=Ye.column.minWidth}),Z=Y-X,ce=se?Math.floor(Z/se):Z,Te=W(nt,Z,ce,B)):(Te=se?Y-Math.floor(Y/se)*se:Y,nt.forEach(function(Ye){Ye.width=B?mt(Ye):_e(Ye)})),Te}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),i.forEach(function(V){var Y,ee,B;V.visible&&(Y=V.definition.width,ee=parseInt(V.minWidth),Y?(B=D(Y),s+=B>ee?B:ee,V.definition.widthShrink&&(g.push({column:V,width:B>ee?B:ee}),x+=V.definition.widthShrink)):(p.push({column:V,width:0}),o+=V.definition.widthGrow||1))}),r=t-s,h=Math.floor(r/o),R=W(p,r,h,!1),p.length&&R>0&&(p[p.length-1].width+=R),p.forEach(function(V){r-=V.width}),k=Math.abs(R)+r,k>0&&x&&(R=W(g,k,Math.floor(k/x),!0)),R&&g.length&&(g[g.length-1].width-=R),p.forEach(function(V){V.column.setWidth(V.width)}),g.forEach(function(V){V.column.setWidth(V.width)})}var bD={fitData:fD,fitDataFill:_w,fitDataTable:_w,fitDataStretch:mD,fitColumns:gD};const Ba=class Ba extends rt{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Ba.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){var t=this.table.columnManager.columnsByIndex.find(s=>s.definition.variableHeight||s.definition.formatter==="textarea");this.dispatch("layout-refreshing"),Ba.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),t&&this.table.rowManager.normalizeHeight(!0),this.dispatch("layout-refreshed")}};Le(Ba,"moduleName","layout"),Le(Ba,"modes",bD);let pb=Ba;var vD={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};const kh=class kh extends rt{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=Lt.deepClone(kh.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let s in t)e[s]&&typeof e[s]=="object"?this._setLangProp(e[s],t[s]):e[s]=t[s]}setLocale(e){e=e||"default";function t(s,r){for(var o in s)typeof s[o]=="object"?(r[o]||(r[o]={}),t(s[o],r[o])):r[o]=s[o]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let s=e.split("-")[0];this.langList[s]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,s),e=s):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=Lt.deepClone(this.langList.default||{}),e!="default"&&t(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,t){var s=t?e+"|"+t:e,r=s.split("|"),o=this._getLangElement(r,this.locale);return o||""}_getLangElement(e,t){var s=this.lang;return e.forEach(function(r){var o;s&&(o=s[r],typeof o<"u"?s=o:s=!1)}),s}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(t=>{t(this.getText(e),this.lang)})}};Le(kh,"moduleName","localize"),Le(kh,"langs",vD);let fb=kh;class n1 extends rt{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t=[],s;return s=this.table.constructor.registry.lookupTable(e),s.forEach(r=>{this.table!==r&&t.push(r)}),t}send(e,t,s,r){var o=this.getConnections(e);o.forEach(h=>{h.tableComms(this.table.element,t,s,r)}),!o.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,s,r){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,s,r);console.warn("Inter-table Comms Error - no such module:",t)}}Le(n1,"moduleName","comms");var yD=Object.freeze({__proto__:null,CommsModule:n1,LayoutModule:pb,LocalizeModule:fb});const fs=class fs{static findTable(e){var t=fs.registry.lookupTable(e,!0);return Array.isArray(t)&&!t.length?!1:t}};Le(fs,"registry",{tables:[],register(e){fs.registry.tables.push(e)},deregister(e){var t=fs.registry.tables.indexOf(e);t>-1&&fs.registry.tables.splice(t,1)},lookupTable(e,t){var s=[],r,o;if(typeof e=="string"){if(r=document.querySelectorAll(e),r.length)for(var h=0;h<r.length;h++)o=fs.registry.matchElement(r[h]),o&&s.push(o)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof fs?(o=fs.registry.matchElement(e),o&&s.push(o)):Array.isArray(e)?e.forEach(function(p){s=s.concat(fs.registry.lookupTable(p))}):t||console.warn("Table Connection Error - Invalid Selector",e);return s},matchElement(e){return fs.registry.tables.find(function(t){return e instanceof fs?t===e:t.element===e})}});let mb=fs;const St=class St extends mb{constructor(){super()}static initializeModuleBinder(e){St.modulesRegistered||(St.modulesRegistered=!0,St._registerModules(yD,!0),e&&St._registerModules(e))}static _extendModule(e,t,s){if(St.moduleBindings[e]){var r=St.moduleBindings[e][t];if(r)if(typeof s=="object")for(let o in s)r[o]=s[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)}static _registerModules(e,t){var s=Object.values(e);t&&s.forEach(r=>{r.prototype.moduleCore=!0}),St._registerModule(s)}static _registerModule(e){Array.isArray(e)||(e=[e]),e.forEach(t=>{St._registerModuleBinding(t),St._registerModuleExtensions(t)})}static _registerModuleBinding(e){e.moduleName?St.moduleBindings[e.moduleName]=e:console.error("Unable to bind module, no moduleName defined",e.moduleName)}static _registerModuleExtensions(e){var t=e.moduleExtensions;if(e.moduleExtensions)for(let s in t){let r=t[s];if(St.moduleBindings[s])for(let o in r)St._extendModule(s,o,r[o]);else{St.moduleExtensions[s]||(St.moduleExtensions[s]={});for(let o in r)St.moduleExtensions[s][o]||(St.moduleExtensions[s][o]={}),Object.assign(St.moduleExtensions[s][o],r[o])}}St._extendModuleFromQueue(e)}static _extendModuleFromQueue(e){var t=St.moduleExtensions[e.moduleName];if(t)for(let s in t)St._extendModule(e.moduleName,s,t[s])}_bindModules(){var e=[],t=[],s=[];this.modules={};for(var r in St.moduleBindings){let o=St.moduleBindings[r],h=new o(this);this.modules[r]=h,o.prototype.moduleCore?this.modulesCore.push(h):o.moduleInitOrder?o.moduleInitOrder<0?e.push(h):t.push(h):s.push(h)}e.sort((o,h)=>o.moduleInitOrder>h.moduleInitOrder?1:-1),t.sort((o,h)=>o.moduleInitOrder>h.moduleInitOrder?1:-1),this.modulesRegular=e.concat(s.concat(t))}};Le(St,"moduleBindings",{}),Le(St,"moduleExtensions",{}),Le(St,"modulesRegistered",!1),Le(St,"defaultModules",!1);let gb=St;class wD extends Li{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,t="msg"){if(e){for(this.clear(),this.dispatch("alert-show",t),this.type=t;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}const jr=class jr extends gb{static extendModule(){jr.initializeModuleBinder(),jr._extendModule(...arguments)}static registerModule(){jr.initializeModuleBinder(),jr._registerModule(...arguments)}constructor(e,t,s){super(),jr.initializeModuleBinder(s),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new lD(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new cD(this),this.optionsList=new r1(this,"table constructor"),this.dependencyRegistry=new pD(this),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout(()=>{this._create()})),this.constructor.registry.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new iD(this),this.rowManager=new nD(this),this.footerManager=new oD(this),this.dataLoader=new hD(this),this.alertManager=new wD(this),this._bindModules(),this.options=this.optionsList.generate(jr.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new uD(this,this.options,this.options.debugEventsExternal),this.eventBus=new dD(this.options.debugEventsInternal),this.interactionMonitor=new aD(this),this.dataLoader.initialize(),this.footerManager.initialize(),this.dependencyRegistry.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this.initialized=!0,this._loadInitialData().finally(()=>{this.eventBus.dispatch("table-initialized"),this.externalEvents.dispatch("tableBuilt")})}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,t=this.options,s;if(e.tagName==="TABLE"){this.originalElement=this.element,s=document.createElement("div");var r=e.attributes;for(var o in r)typeof r[o]=="object"&&s.setAttribute(r[o].name,r[o].value);e.parentNode.replaceChild(s,e),this.element=e=s}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);t.height&&(t.height=isNaN(t.height)?t.height:t.height+"px",e.style.height=t.height),t.minHeight!==!1&&(t.minHeight=isNaN(t.minHeight)?t.minHeight:t.minHeight+"px",e.style.minHeight=t.minHeight),t.maxHeight!==!1&&(t.maxHeight=isNaN(t.maxHeight)?t.maxHeight:t.maxHeight+"px",e.style.maxHeight=t.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(s=>{s.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(s=>{s.initialize()}),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders()})}destroy(){var e=this.element;for(this.destroyed=!0,this.constructor.registry.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,t){var s,r;return this.options.debugInitialization&&!this.initialized&&(e||(s=new Error().stack.split(`
`),r=s[0]=="Error"?s[2]:s[1],r[0]==" "?e=r.trim().split(" ")[1].split(".")[1]:e=r.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(t?" "+t:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,t,s){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,t,s,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,s){return this.initGuard(),this.dataLoader.load(e,t,s,!0,!0)}updateData(e){var t=0;return this.initGuard(),new Promise((s,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var h=this.rowManager.findRow(o[this.options.index]);h?(t++,h.updateData(o).then(()=>{t--,t||s()}).catch(p=>{r("Update Error - Unable to update row",o,p)})):r("Update Error - Unable to find row",o)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}addData(e,t,s){return this.initGuard(),new Promise((r,o)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,s).then(h=>{var p=[];h.forEach(function(g){p.push(g.getComponent())}),r(p)}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))})}updateOrAddData(e){var t=[],s=0;return this.initGuard(),new Promise((r,o)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(h=>{var p=this.rowManager.findRow(h[this.options.index]);s++,p?p.updateData(h).then(()=>{s--,t.push(p.getComponent()),s||r(t)}):this.rowManager.addRows(h).then(g=>{s--,t.push(g[0].getComponent()),s||r(t)})}):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))})}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var t=this.rowManager.getRowFromPosition(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let s of e){let r=this.rowManager.findRow(s,!0);if(r)t.push(r);else return console.error("Delete Error - No matching row found:",s),Promise.reject("Delete Error - No matching row found")}return t.sort((s,r)=>this.rowManager.rows.indexOf(s)>this.rowManager.rows.indexOf(r)?1:-1),t.forEach(s=>{s.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,s){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,s,!0).then(r=>r[0].getComponent())}updateOrAddRow(e,t){var s=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),s?s.updateData(t).then(()=>s.getComponent()):this.rowManager.addRows(t).then(r=>r[0].getComponent())}updateRow(e,t){var s=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),s?s.updateData(t).then(()=>Promise.resolve(s.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,s){var r=this.rowManager.findRow(e);return r?this.rowManager.scrollToRow(r,t,s):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,s){var r=this.rowManager.findRow(e);this.initGuard(),r?r.moveToRow(t,s):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var t=this.rowManager.findRow(e);return t?t.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.visible?t.hide():t.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,t,s){var r=this.columnManager.findColumn(s);return this.initGuard(),this.columnManager.addColumn(e,t,r).then(o=>o.getComponent())}deleteColumn(e){var t=this.columnManager.findColumn(e);return this.initGuard(),t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var s=this.columnManager.findColumn(e);return this.initGuard(),s?s.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,s){var r=this.columnManager.findColumn(e),o=this.columnManager.findColumn(t);this.initGuard(),r?o?this.columnManager.moveColumn(r,o,s):console.warn("Move Error - No matching column found:",o):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,s){return new Promise((r,o)=>{var h=this.columnManager.findColumn(e);return h?this.columnManager.scrollToColumn(h,t,s):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,t){this.initGuard(),this.alertManager.alert(e,t)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,t){return this.modules[e]?!0:(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}};Le(jr,"defaultOptions",QO);let bb=jr;var So=bb;class xD extends So{static extendModule(){So.initializeModuleBinder(ag),So._extendModule(...arguments)}static registerModule(){So.initializeModuleBinder(ag),So._registerModule(...arguments)}constructor(e,t,s){super(e,t,ag)}}var CD=xD;class ED{constructor(e){this.type=e,this.element=this._createElement()}_createElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e}getElement(){return this.element}getComponent(){return!1}getData(){return{}}getHeight(){return this.element.outerHeight}initialize(){}reinitialize(){}normalizeHeight(){}generateCells(){}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}rendered(){}}const kD=Object.freeze(Object.defineProperty({__proto__:null,AccessorModule:Hc,AjaxModule:Bc,CalcComponent:e1,CellComponent:wv,ClipboardModule:_c,ColumnCalcsModule:jc,ColumnComponent:xv,DataTreeModule:Cv,DownloadModule:Wc,EditModule:Vc,ExportModule:Uc,FilterModule:Gc,FormatModule:Xc,FrozenColumnsModule:Ev,FrozenRowsModule:kv,GroupComponent:i1,GroupRowsModule:Sv,HistoryModule:Yc,HtmlTableImportModule:Mv,ImportModule:$c,InteractionModule:Tv,KeybindingsModule:Kc,MenuModule:Rv,Module:rt,MoveColumnsModule:Lv,MoveRowsModule:qc,MutatorModule:Jc,PageModule:Zc,PersistenceModule:Qc,PopupModule:Pv,PrintModule:Av,PseudoRow:ED,RangeComponent:s1,ReactiveDataModule:Ov,Renderer:nu,ResizeColumnsModule:Dv,ResizeRowsModule:zv,ResizeTableModule:Nv,ResponsiveLayoutModule:ep,RowComponent:ru,SelectRangeModule:yh,SelectRowModule:tp,SheetComponent:Iv,SortModule:ip,SpreadsheetModule:Hv,Tabulator:So,TabulatorFull:CD,TooltipModule:Bv,ValidateModule:sp},Symbol.toStringTag,{value:"Module"})),SD=i=>(i||[]).map(e=>{const t={title:e.title??e.label??"",field:e.field??e.key??""};if(typeof e.width=="number")t.width=e.width;else if(typeof e.width=="string"&&e.width.trim()!==""){const r=Number(e.width);Number.isNaN(r)||(t.width=r)}return typeof e.frozen<"u"&&(t.frozen=!!e.frozen),typeof e.headerSort<"u"&&(t.sorter=e.headerSort===!1?!1:t.sorter),["year1","year2","year3","year4","year5","year6","year7","year8","year9","year10","year11","today"].includes(t.field)&&(t.hozAlign="right"),t}),MD=({columns:i,data:e,height:t="400px"})=>{const s=he.useRef(null),r=he.useRef(null);return he.useEffect(()=>{if(!s.current)return;const o=So||kD;if(r.current){try{r.current.destroy()}catch{}r.current=null}const h=SD(i);return r.current=new o(s.current,{data:e,columns:h,layout:"fitDataStretch",pagination:"local",paginationSize:10,movableColumns:!0,height:t,placeholder:"No data available",rowFormatter:p=>{try{const g=p.getData();if(g&&g.bold){const x=p.getElement();x.style.fontWeight="600"}}catch{}}}),()=>{if(r.current){try{r.current.destroy()}catch{}r.current=null}}},[i,e,t]),U.jsx("div",{ref:s,className:"w-full"})};var o1={exports:{}};(function(i,e){(function(t,s){t._Highcharts=s(),i.exports=t._Highcharts})(typeof window>"u"?vb:window,()=>(()=>{var Jy;let t,s;var r,o,h,p,g,x,k,R,D,W,V,Y,ee,B,j,X,Z,ce,fe={};fe.d=(y,n)=>{for(var a in n)fe.o(n,a)&&!fe.o(y,a)&&Object.defineProperty(y,a,{enumerable:!0,get:n[a]})},fe.o=(y,n)=>Object.prototype.hasOwnProperty.call(y,n);var Te={};fe.d(Te,{default:()=>LS}),function(y){var n,a,l,u,d,c,f;y.SVG_NS="http://www.w3.org/2000/svg",y.product="Highcharts",y.version="12.4.0",y.win=typeof window<"u"?window:{},y.doc=y.win.document,y.svg=!!((l=(a=(n=y.doc)==null?void 0:n.createElementNS)==null?void 0:a.call(n,y.SVG_NS,"svg"))!=null&&l.createSVGRect),y.pageLang=(c=(d=(u=y.doc)==null?void 0:u.documentElement)==null?void 0:d.closest("[lang]"))==null?void 0:c.lang,y.userAgent=((f=y.win.navigator)==null?void 0:f.userAgent)||"",y.isChrome=y.win.chrome,y.isFirefox=y.userAgent.indexOf("Firefox")!==-1,y.isMS=/(edge|msie|trident)/i.test(y.userAgent)&&!y.win.opera,y.isSafari=!y.isChrome&&y.userAgent.indexOf("Safari")!==-1,y.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(y.userAgent),y.isWebKit=y.userAgent.indexOf("AppleWebKit")!==-1,y.deg2rad=2*Math.PI/360,y.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],y.noop=function(){},y.supportsPassiveEvents=function(){let m=!1;if(!y.isMS){let v=Object.defineProperty({},"passive",{get:function(){m=!0}});y.win.addEventListener&&y.win.removeEventListener&&(y.win.addEventListener("testPassive",y.noop,v),y.win.removeEventListener("testPassive",y.noop,v))}return m}(),y.charts=[],y.composed=[],y.dateFormats={},y.seriesTypes={},y.symbolSizes={},y.chartCount=0}(r||(r={}));let se=r,{charts:nt,doc:_e,win:mt}=se;function Ye(y,n,a,l){let u=n?"Highcharts error":"Highcharts warning";y===32&&(y=`${u}: Deprecated member`);let d=$e(y),c=d?`${u} #${y}: www.highcharts.com/errors/${y}/`:y.toString();if(l!==void 0){let f="";d&&(c+="?"),ut(l,function(m,v){f+=`
 - ${v}: ${m}`,d&&(c+=encodeURI(v)+"="+encodeURI(m))}),c+=f}Zt(se,"displayError",{chart:a,code:y,message:c,params:l},function(){if(n)throw Error(c);mt.console&&Ye.messages.indexOf(c)===-1&&console.warn(c)}),Ye.messages.push(c)}function ii(y,n){return parseInt(y,n||10)}function Vt(y){return typeof y=="string"}function Vi(y){let n=Object.prototype.toString.call(y);return n==="[object Array]"||n==="[object Array Iterator]"}function Pt(y,n){return!!y&&typeof y=="object"&&(!n||!Vi(y))}function Ui(y){return Pt(y)&&typeof y.nodeType=="number"}function Pe(y){let n=y==null?void 0:y.constructor;return!!(Pt(y,!0)&&!Ui(y)&&(n!=null&&n.name)&&n.name!=="Object")}function $e(y){return typeof y=="number"&&!isNaN(y)&&y<1/0&&y>-1/0}function Xe(y){return y!=null}function ht(y,n,a){let l,u=Vt(n)&&!Xe(a),d=(c,f)=>{Xe(c)?y.setAttribute(f,c):u?(l=y.getAttribute(f))||f!=="class"||(l=y.getAttribute(f+"Name")):y.removeAttribute(f)};return Vt(n)?d(a,n):ut(n,d),l}function gt(y){return Vi(y)?y:[y]}function ni(y,n){let a;for(a in y||(y={}),n)y[a]=n[a];return y}function Ut(){let y=arguments,n=y.length;for(let a=0;a<n;a++){let l=y[a];if(l!=null)return l}}function Pi(y,n){ni(y.style,n)}function Ai(y){return Math.pow(10,Math.floor(Math.log(y)/Math.LN10))}function Ke(y,n){return y>1e14?y:parseFloat(y.toPrecision(n||14))}(Ye||(Ye={})).messages=[],Math.easeInOutSine=function(y){return-.5*(Math.cos(Math.PI*y)-1)};let it=Array.prototype.find?function(y,n){return y.find(n)}:function(y,n){let a,l=y.length;for(a=0;a<l;a++)if(n(y[a],a))return y[a]};function ut(y,n,a){for(let l in y)Object.hasOwnProperty.call(y,l)&&n.call(a||y[l],y[l],l,y)}function Gt(y,n,a){function l(c,f){let m=y.removeEventListener;m&&m.call(y,c,f,!1)}function u(c){let f,m;y.nodeName&&(n?(f={})[n]=!0:f=c,ut(f,function(v,C){if(c[C])for(m=c[C].length;m--;)l(C,c[C][m].fn)}))}let d=typeof y=="function"&&y.prototype||y;if(Object.hasOwnProperty.call(d,"hcEvents")){let c=d.hcEvents;if(n){let f=c[n]||[];a?(c[n]=f.filter(function(m){return a!==m.fn}),l(n,a)):(u(c),c[n]=[])}else u(c),delete d.hcEvents}}function Zt(y,n,a,l){if(a=a||{},(_e==null?void 0:_e.createEvent)&&(y.dispatchEvent||y.fireEvent&&y!==se)){let u=_e.createEvent("Events");u.initEvent(n,!0,!0),a=ni(u,a),y.dispatchEvent?y.dispatchEvent(a):y.fireEvent(n,a)}else if(y.hcEvents){a.target||ni(a,{preventDefault:function(){a.defaultPrevented=!0},target:y,type:n});let u=[],d=y,c=!1;for(;d.hcEvents;)Object.hasOwnProperty.call(d,"hcEvents")&&d.hcEvents[n]&&(u.length&&(c=!0),u.unshift.apply(u,d.hcEvents[n])),d=Object.getPrototypeOf(d);c&&u.sort((f,m)=>f.order-m.order),u.forEach(f=>{f.fn.call(y,a)===!1&&a.preventDefault()})}l&&!a.defaultPrevented&&l.call(y,a)}let Er=function(){let y=Math.random().toString(36).substring(2,9)+"-",n=0;return function(){return"highcharts-"+(t?"":y)+n++}}();mt.jQuery&&(mt.jQuery.fn.highcharts=function(){let y=[].slice.call(arguments);if(this[0])return y[0]?(new se[Vt(y[0])?y.shift():"Chart"](this[0],y[0],y[1]),this):nt[ht(this[0],"data-highcharts-chart")]});let Fe={addEvent:function(y,n,a,l={}){let u=typeof y=="function"&&y.prototype||y;Object.hasOwnProperty.call(u,"hcEvents")||(u.hcEvents={});let d=u.hcEvents;se.Point&&y instanceof se.Point&&y.series&&y.series.chart&&(y.series.chart.runTrackerClick=!0);let c=y.addEventListener;c&&c.call(y,n,a,!!se.supportsPassiveEvents&&{passive:l.passive===void 0?n.indexOf("touch")!==-1:l.passive,capture:!1}),d[n]||(d[n]=[]);let f={fn:a,order:typeof l.order=="number"?l.order:1/0};return d[n].push(f),d[n].sort((m,v)=>m.order-v.order),function(){Gt(y,n,a)}},arrayMax:function(y){let n=y.length,a=y[0];for(;n--;)y[n]>a&&(a=y[n]);return a},arrayMin:function(y){let n=y.length,a=y[0];for(;n--;)y[n]<a&&(a=y[n]);return a},attr:ht,clamp:function(y,n,a){return y>n?y<a?y:a:n},clearTimeout:function(y){Xe(y)&&clearTimeout(y)},correctFloat:Ke,createElement:function(y,n,a,l,u){let d=_e.createElement(y);return n&&ni(d,n),u&&Pi(d,{padding:"0",border:"none",margin:"0"}),a&&Pi(d,a),l&&l.appendChild(d),d},crisp:function(y,n=0,a){let l=n%2/2,u=a?-1:1;return(Math.round(y*u-l)+l)*u},css:Pi,defined:Xe,destroyObjectProperties:function(y,n,a){ut(y,function(l,u){l!==n&&(l!=null&&l.destroy)&&l.destroy(),(l!=null&&l.destroy||!a)&&delete y[u]})},diffObjects:function(y,n,a,l){let u={};return function d(c,f,m,v){let C=a?f:c;ut(c,function(w,S){if(!v&&l&&l.indexOf(S)>-1&&f[S]){w=gt(w),m[S]=[];for(let M=0;M<Math.max(w.length,f[S].length);M++)f[S][M]&&(w[M]===void 0?m[S][M]=f[S][M]:(m[S][M]={},d(w[M],f[S][M],m[S][M],v+1)))}else Pt(w,!0)&&!w.nodeType?(m[S]=Vi(w)?[]:{},d(w,f[S]||{},m[S],v+1),Object.keys(m[S]).length===0&&(S!=="colorAxis"||v!==0)&&delete m[S]):(c[S]!==f[S]||S in c&&!(S in f))&&S!=="__proto__"&&S!=="constructor"&&(m[S]=C[S])})}(y,n,u,0),u},discardElement:function(y){var n;(n=y==null?void 0:y.parentElement)==null||n.removeChild(y)},erase:function(y,n){let a=y.length;for(;a--;)if(y[a]===n){y.splice(a,1);break}},error:Ye,extend:ni,extendClass:function(y,n){let a=function(){};return a.prototype=new y,ni(a.prototype,n),a},find:it,fireEvent:Zt,getAlignFactor:(y="")=>({center:.5,right:1,middle:.5,bottom:1})[y]||0,getClosestDistance:function(y,n){let a,l,u,d=!n;return y.forEach(c=>{if(c.length>1)for(u=c.length-1;u>0;u--)(l=c[u]-c[u-1])<0&&!d?(n==null||n(),n=void 0):l&&(a===void 0||l<a)&&(a=l)}),a},getMagnitude:Ai,getNestedProperty:function(y,n){let a=y.split(".");for(;a.length&&Xe(n);){let l=a.shift();if(l===void 0||l==="__proto__")return;if(l==="this"){let d;return Pt(n)&&(d=n["@this"]),d??n}let u=n[l.replace(/[\\'"]/g,"")];if(!Xe(u)||typeof u=="function"||typeof u.nodeType=="number"||u===mt)return;n=u}return n},getStyle:function y(n,a,l){var c;let u;if(a==="width"){let f=Math.min(n.offsetWidth,n.scrollWidth),m=(c=n.getBoundingClientRect)==null?void 0:c.call(n).width;return m<f&&m>=f-1&&(f=Math.floor(m)),Math.max(0,f-(y(n,"padding-left",!0)||0)-(y(n,"padding-right",!0)||0))}if(a==="height")return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(y(n,"padding-top",!0)||0)-(y(n,"padding-bottom",!0)||0));let d=mt.getComputedStyle(n,void 0);return d&&(u=d.getPropertyValue(a),Ut(l,a!=="opacity")&&(u=ii(u))),u},insertItem:function(y,n){let a,l=y.options.index,u=n.length;for(a=y.options.isInternal?u:0;a<u+1;a++)if(!n[a]||$e(l)&&l<Ut(n[a].options.index,n[a]._i)||n[a].options.isInternal){n.splice(a,0,y);break}return a},isArray:Vi,isClass:Pe,isDOMElement:Ui,isFunction:function(y){return typeof y=="function"},isNumber:$e,isObject:Pt,isString:Vt,merge:function(y,...n){let a,l=[y,...n],u={},d=function(f,m){return typeof f!="object"&&(f={}),ut(m,function(v,C){C!=="__proto__"&&C!=="constructor"&&(!Pt(v,!0)||Pe(v)||Ui(v)?f[C]=m[C]:f[C]=d(f[C]||{},v))}),f};y===!0&&(u=l[1],l=Array.prototype.slice.call(l,2));let c=l.length;for(a=0;a<c;a++)u=d(u,l[a]);return u},normalizeTickInterval:function(y,n,a,l,u){let d,c=y;a=Ut(a,Ai(y));let f=y/a;for(!n&&(n=u?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],l===!1&&(a===1?n=n.filter(function(m){return m%1==0}):a<=.1&&(n=[1/a]))),d=0;d<n.length&&(c=n[d],(!u||!(c*a>=y))&&(u||!(f<=(n[d]+(n[d+1]||n[d]))/2)));d++);return Ke(c*a,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ut,offset:function(y){let n=_e.documentElement,a=y.parentElement||y.parentNode?y.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:a.top+(mt.pageYOffset||n.scrollTop)-(n.clientTop||0),left:a.left+(mt.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:a.width,height:a.height}},pad:function(y,n,a){return Array((n||2)+1-String(y).replace("-","").length).join(a||"0")+y},pick:Ut,pInt:ii,pushUnique:function(y,n){return 0>y.indexOf(n)&&!!y.push(n)},relativeLength:function(y,n,a){return/%$/.test(y)?n*parseFloat(y)/100+(a||0):parseFloat(y)},removeEvent:Gt,replaceNested:function(y,...n){let a,l;do for(l of(a=y,n))y=y.replace(l[0],l[1]);while(y!==a);return y},splat:gt,stableSort:function(y,n){let a,l,u=y.length;for(l=0;l<u;l++)y[l].safeI=l;for(y.sort(function(d,c){return(a=n(d,c))===0?d.safeI-c.safeI:a}),l=0;l<u;l++)delete y[l].safeI},syncTimeout:function(y,n,a){return n>0?setTimeout(y,n,a):(y.call(0,a),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(y){return Vt(y)?y.substring(0,1).toUpperCase()+y.substring(1):String(y)},uniqueKey:Er,useSerialIds:function(y){return t=Ut(y,t)},wrap:function(y,n,a){let l=y[n];y[n]=function(){let u=arguments,d=this;return a.apply(this,[function(){return l.apply(d,arguments.length?arguments:u)}].concat([].slice.call(arguments)))}}},{pageLang:ou,win:zs}=se,{defined:au,error:lu,extend:$o,isNumber:sr,isObject:nl,isString:Zr,merge:Ap,objectEach:Ko,pad:rr,splat:Op,timeUnits:qo,ucfirst:hu}=Fe,Qr=se.isSafari&&zs.Intl&&!zs.Intl.DateTimeFormat.prototype.formatRange,uu=y=>y.main===void 0,Dp=class{constructor(y,n){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=zs.Date,this.update(y),this.lang=n}update(y={}){this.dTLCache={},this.options=y=Ap(!0,this.options,y);let{timezoneOffset:n,useUTC:a,locale:l}=y;this.Date=y.Date||zs.Date||Date;let u=y.timezone;au(a)&&(u=a?"UTC":void 0),n&&n%60==0&&(u="Etc/GMT"+(n>0?"+":"")+n/60),this.variableTimezone=u!=="UTC"&&(u==null?void 0:u.indexOf("Etc/GMT"))!==0,this.timezone=u,this.lang&&l&&(this.lang.locale=l),["months","shortMonths","weekdays","shortWeekdays"].forEach(d=>{let c=/months/i.test(d),f=/short/.test(d),m={timeZone:"UTC"};m[c?"month":"weekday"]=f?"short":"long",this[d]=(c?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(v=>this.dateFormat(m,(c?31:1)*24*36e5*v))})}toParts(y){let[n,a,l,u,d,c,f]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},y,"es").split(/(?:, | |\/|:)/g);return[u,l-1,a,d,c,f,Math.floor(Number(y)||0)%1e3,"DLMXJVS".indexOf(n)].map(Number)}dateTimeFormat(y,n,a=this.options.locale||ou){let l=JSON.stringify(y)+a;Zr(y)&&(y=this.str2dtf(y));let u=this.dTLCache[l];if(!u){y.timeZone??(y.timeZone=this.timezone);try{u=new Intl.DateTimeFormat(a,y)}catch(d){/Invalid time zone/i.test(d.message)?(lu(34),y.timeZone="UTC",u=new Intl.DateTimeFormat(a,y)):lu(d.message,!1)}}return this.dTLCache[l]=u,(u==null?void 0:u.format(n))||""}str2dtf(y,n={}){let a={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(a).forEach(l=>{y.indexOf(l)!==-1&&$o(n,a[l])}),n}makeTime(y,n,a=1,l=0,u,d,c){let f=this.Date.UTC(y,n,a,l,u||0,d||0,c||0);if(this.timezone!=="UTC"){let m=this.getTimezoneOffset(f);if(f+=m,[2,3,8,9,10,11].indexOf(n)!==-1&&(l<5||l>20)){let v=this.getTimezoneOffset(f);m!==v?f+=v-m:m-36e5!==this.getTimezoneOffset(f-36e5)||Qr||(f-=36e5)}}return f}parse(y){if(!Zr(y))return y??void 0;let n=(y=y.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(y),a=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(y);n||a||(y+="Z");let l=Date.parse(y);if(sr(l))return l+(!n||a?this.getTimezoneOffset(l):0)}getTimezoneOffset(y){if(this.timezone!=="UTC"){let[n,a,l,u,d=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},y,"en").split(/(GMT|:)/).map(Number),c=-(60*(l+d/60)*6e4);if(sr(c))return c}return 0}dateFormat(y,n,a){let l=this.lang;if(!au(n)||isNaN(n))return(l==null?void 0:l.invalidDate)||"";if(Zr(y=y??"%Y-%m-%d %H:%M:%S")){let u,d=/%\[([a-zA-Z]+)\]/g;for(;u=d.exec(y);)y=y.replace(u[0],this.dateTimeFormat(u[1],n,l==null?void 0:l.locale))}if(Zr(y)&&y.indexOf("%")!==-1){let u=this,[d,c,f,m,v,C,w,S]=this.toParts(n),M=(l==null?void 0:l.weekdays)||this.weekdays,L=(l==null?void 0:l.shortWeekdays)||this.shortWeekdays,N=(l==null?void 0:l.months)||this.months,z=(l==null?void 0:l.shortMonths)||this.shortMonths;Ko($o({a:L?L[S]:M[S].substr(0,3),A:M[S],d:rr(f),e:rr(f,2," "),w:S,v:(l==null?void 0:l.weekFrom)??"",b:z[c],B:N[c],m:rr(c+1),o:c+1,y:d.toString().substr(2,2),Y:d,H:rr(m),k:m,I:rr(m%12||12),l:m%12||12,M:rr(v),p:m<12?"AM":"PM",P:m<12?"am":"pm",S:rr(C),L:rr(w,3)},se.dateFormats),function(A,F){if(Zr(y))for(;y.indexOf("%"+F)!==-1;)y=y.replace("%"+F,typeof A=="function"?A.call(u,n):A)})}else if(nl(y)){let u=(this.getTimezoneOffset(n)||0)/36e5,d=this.timezone||"Etc/GMT"+(u>=0?"+":"")+u,{prefix:c="",suffix:f=""}=y;y=c+this.dateTimeFormat($o({timeZone:d},y),n)+f}return a?hu(y):y}resolveDTLFormat(y){return nl(y,!0)?nl(y,!0)&&uu(y)?{main:y}:y:{main:(y=Op(y))[0],from:y[1],to:y[2]}}getDateFormat(y,n,a,l){let u=this.dateFormat("%m-%d %H:%M:%S.%L",n),d="01-01 00:00:00.000",c={millisecond:15,second:12,minute:9,hour:6,day:3},f="millisecond",m=f;for(f in qo){if(y&&y===qo.week&&+this.dateFormat("%w",n)===a&&u.substr(6)===d.substr(6)){f="week";break}if(y&&qo[f]>y){f=m;break}if(c[f]&&u.substr(c[f])!==d.substr(c[f]))break;f!=="week"&&(m=f)}return this.resolveDTLFormat(l[f]).main}},{defined:du,extend:zp,timeUnits:Ft}=Fe,ol=class extends Dp{getTimeTicks(y,n,a,l){let u=this,d=[],c={},{count:f=1,unitRange:m}=y,[v,C,w,S,M,L]=u.toParts(n),N=(n||0)%1e3,z;if(l??(l=1),du(n)){if(N=m>=Ft.second?0:f*Math.floor(N/f),m>=Ft.second&&(L=m>=Ft.minute?0:f*Math.floor(L/f)),m>=Ft.minute&&(M=m>=Ft.hour?0:f*Math.floor(M/f)),m>=Ft.hour&&(S=m>=Ft.day?0:f*Math.floor(S/f)),m>=Ft.day&&(w=m>=Ft.month?1:Math.max(1,f*Math.floor(w/f))),m>=Ft.month&&(C=m>=Ft.year?0:f*Math.floor(C/f)),m>=Ft.year&&(v-=v%f),m===Ft.week){f&&(n=u.makeTime(v,C,w,S,M,L,N));let _=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},n,"es"),ie="DLMXJVS".indexOf(_);w+=-ie+l+(ie<l?-7:0)}n=u.makeTime(v,C,w,S,M,L,N),u.variableTimezone&&du(a)&&(z=a-n>4*Ft.month||u.getTimezoneOffset(n)!==u.getTimezoneOffset(a));let A=n,F=1;for(;A<a;)d.push(A),m===Ft.year?A=u.makeTime(v+F*f,0):m===Ft.month?A=u.makeTime(v,C+F*f):z&&(m===Ft.day||m===Ft.week)?A=u.makeTime(v,C,w+F*f*(m===Ft.day?1:7)):z&&m===Ft.hour&&f>1?A=u.makeTime(v,C,w,S+F*f):A+=m*f,F++;d.push(A),m<=Ft.hour&&d.length<1e4&&d.forEach(_=>{_%18e5==0&&u.dateFormat("%H%M%S%L",_)==="000000000"&&(c[_]="day")})}return d.info=zp(y,{higherRanks:c,totalRange:m*f}),d}},{isTouchDevice:Jo}=se,{fireEvent:cu,merge:Ns}=Fe,Fs={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:y=>Math.sqrt(1-Math.pow(y-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Jo?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},al=new ol(Fs.time,Fs.lang),Oi={defaultOptions:Fs,defaultTime:al,getOptions:function(){return Fs},setOptions:function(y){var n;return cu(se,"setOptions",{options:y}),Ns(!0,Fs,y),y.time&&al.update(Fs.time),y.lang&&"locale"in y.lang&&al.update({locale:y.lang.locale}),(n=y.lang)!=null&&n.chartTitle&&(Fs.title={...Fs.title,text:y.lang.chartTitle}),Fs}},{win:Np}=se,{isNumber:nr,isString:pu,merge:Fp,pInt:Ci,defined:fu}=Fe,mu=(y,n,a)=>`color-mix(in srgb,${y},${n} ${100*a}%)`,ll=y=>pu(y)&&!!y&&y!=="none";class At{static parse(n){return n?new At(n):At.None}constructor(n){let a,l,u,d;this.rgba=[NaN,NaN,NaN,NaN],this.input=n;let c=se.Color;if(c&&c!==At)return new c(n);if(typeof n=="object"&&n.stops!==void 0)this.stops=n.stops.map(f=>new At(f[1]));else if(typeof n=="string")for(this.input=n=At.names[n.toLowerCase()]||n,u=At.parsers.length;u--&&!l;)(a=(d=At.parsers[u]).regex.exec(n))&&(l=d.parse(a));l&&(this.rgba=l)}get(n){let a=this.input,l=this.rgba;if(this.output)return this.output;if(typeof a=="object"&&this.stops!==void 0){let u=Fp(a);return u.stops=[].slice.call(u.stops),this.stops.forEach((d,c)=>{u.stops[c]=[u.stops[c][0],d.get(n)]}),u}return l&&nr(l[0])?n!=="rgb"&&(n||l[3]!==1)?n==="a"?`${l[3]}`:"rgba("+l.join(",")+")":"rgb("+l[0]+","+l[1]+","+l[2]+")":a}brighten(n){let a=this.rgba;if(this.stops)this.stops.forEach(function(l){l.brighten(n)});else if(nr(n)&&n!==0)if(nr(a[0]))for(let l=0;l<3;l++)a[l]+=Ci(255*n),a[l]<0&&(a[l]=0),a[l]>255&&(a[l]=255);else At.useColorMix&&ll(this.input)&&(this.output=mu(this.input,n>0?"white":"black",Math.abs(n)));return this}setOpacity(n){return this.rgba[3]=n,this}tweenTo(n,a){let l=this.rgba,u=n.rgba;if(!nr(l[0])||!nr(u[0]))return At.useColorMix&&ll(this.input)&&ll(n.input)&&a<.99?mu(this.input,n.input,a):n.input||"none";let d=u[3]!==1||l[3]!==1,c=(m,v)=>m+(l[v]-m)*(1-a),f=u.slice(0,3).map(c).map(Math.round);return d&&f.push(c(u[3],3)),(d?"rgba(":"rgb(")+f.join(",")+")"}}At.names={white:"#ffffff",black:"#000000"},At.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(y){return[Ci(y[1]),Ci(y[2]),Ci(y[3]),parseFloat(y[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(y){return[Ci(y[1]),Ci(y[2]),Ci(y[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(y){return[Ci(y[1]+y[1],16),Ci(y[2]+y[2],16),Ci(y[3]+y[3],16),fu(y[4])?Ci(y[4]+y[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(y){return[Ci(y[1],16),Ci(y[2],16),Ci(y[3],16),fu(y[4])?Ci(y[4],16)/255:1]}}],At.useColorMix=(Jy=Np.CSS)==null?void 0:Jy.supports("color","color-mix(in srgb,red,blue 9%)"),At.None=new At("");let{parse:hl}=At,{win:Kn}=se,{isNumber:kr,objectEach:Ip}=Fe;class Ei{constructor(n,a,l){this.pos=NaN,this.options=a,this.elem=n,this.prop=l}dSetter(){let n=this.paths,a=n==null?void 0:n[0],l=n==null?void 0:n[1],u=this.now||0,d=[];if(u!==1&&a&&l)if(a.length===l.length&&u<1)for(let c=0;c<l.length;c++){let f=a[c],m=l[c],v=[];for(let C=0;C<m.length;C++){let w=f[C],S=m[C];kr(w)&&kr(S)&&(m[0]!=="A"||C!==4&&C!==5)?v[C]=w+u*(S-w):v[C]=S}d.push(v)}else d=l;else d=this.toD||[];this.elem.attr("d",d,void 0,!0)}update(){let n=this.elem,a=this.prop,l=this.now,u=this.options.step;this[a+"Setter"]?this[a+"Setter"]():n.attr?n.element&&n.attr(a,l,null,!0):n.style[a]=l+this.unit,u&&u.call(n,l,this)}run(n,a,l){let u=this,d=u.options,c=function(v){return!c.stopped&&u.step(v)},f=Kn.requestAnimationFrame||function(v){setTimeout(v,13)},m=function(){for(let v=0;v<Ei.timers.length;v++)Ei.timers[v]()||Ei.timers.splice(v--,1);Ei.timers.length&&f(m)};n!==a||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=n,this.end=a,this.unit=l,this.now=this.start,this.pos=0,c.elem=this.elem,c.prop=this.prop,c()&&Ei.timers.push(c)===1&&f(m)):(delete d.curAnim[this.prop],d.complete&&Object.keys(d.curAnim).length===0&&d.complete.call(this.elem))}step(n){let a,l,u=+new Date,d=this.options,c=this.elem,f=d.complete,m=d.duration,v=d.curAnim;return c.attr&&!c.element?a=!1:n||u>=m+this.startTime?(this.now=this.end,this.pos=1,this.update(),v[this.prop]=!0,l=!0,Ip(v,function(C){C!==!0&&(l=!1)}),l&&f&&f.call(c),a=!1):(this.pos=d.easing((u-this.startTime)/m),this.now=this.start+(this.end-this.start)*this.pos,this.update(),a=!0),a}initPath(n,a,l){let u=n.startX,d=n.endX,c=l.slice(),f=n.isArea,m=f?2:1,v=a&&l.length>a.length&&l.hasStackedCliffs,C,w,S,M,L=a==null?void 0:a.slice();if(!L||v)return[c,c];function N(A,F){for(;A.length<w;){let _=A[0],ie=F[w-A.length];if(ie&&_[0]==="M"&&(ie[0]==="C"?A[0]=["C",_[1],_[2],_[1],_[2],_[1],_[2]]:A[0]=["L",_[1],_[2]]),A.unshift(_),f){let K=A.pop();A.push(A[A.length-1],K)}}}function z(A){for(;A.length<w;){let F=A[Math.floor(A.length/m)-1].slice();if(F[0]==="C"&&(F[1]=F[5],F[2]=F[6]),f){let _=A[Math.floor(A.length/m)].slice();A.splice(A.length/2,0,F,_)}else A.push(F)}}if(u&&d&&d.length){for(S=0;S<u.length;S++)if(u[S]===d[0]){C=S;break}else if(u[0]===d[d.length-u.length+S]){C=S,M=!0;break}else if(u[u.length-1]===d[d.length-u.length+S]){C=u.length-S;break}C===void 0&&(L=[])}return L.length&&kr(C)&&(w=c.length+C*m,M?(N(L,c),z(c)):(N(c,L),z(L))),[L,c]}fillSetter(){Ei.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,hl(this.start).tweenTo(hl(this.end),this.pos),void 0,!0)}}Ei.timers=[];let{defined:Hp,getStyle:Bp,isArray:gu,isNumber:_p,isObject:ul,merge:bu,objectEach:jp,pick:dl}=Fe;function Zo(y){return ul(y)?bu({duration:500,defer:0},y):{duration:500*!!y,defer:0}}function vu(y,n){let a=Ei.timers.length;for(;a--;)Ei.timers[a].elem!==y||n&&n!==Ei.timers[a].prop||(Ei.timers[a].stopped=!0)}let di={animate:function(y,n,a){let l,u="",d,c,f;ul(a)||(f=arguments,a={duration:f[2],easing:f[3],complete:f[4]}),_p(a.duration)||(a.duration=400),a.easing=typeof a.easing=="function"?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=bu(n),jp(n,function(m,v){vu(y,v),c=new Ei(y,a,v),d=void 0,v==="d"&&gu(n.d)?(c.paths=c.initPath(y,y.pathArray,n.d),c.toD=n.d,l=0,d=1):y.attr?l=y.attr(v):(l=parseFloat(Bp(y,v))||0,v!=="opacity"&&(u="px")),d||(d=m),typeof d=="string"&&d.match("px")&&(d=d.replace(/px/g,"")),c.run(l,d,u)})},animObject:Zo,getDeferredAnimation:function(y,n,a){let l=Zo(n),u=a?[a]:y.series,d=0,c=0;return u.forEach(f=>{let m=Zo(f.options.animation);d=ul(n)&&Hp(n.defer)?l.defer:Math.max(d,m.duration+m.defer),c=Math.min(l.duration,m.duration)}),y.renderer.forExport&&(d=0),{defer:Math.max(0,d-c),duration:Math.min(d,c)}},setAnimation:function(y,n){n.renderer.globalAnimation=dl(y,n.options.chart.animation,!0)},stop:vu},{SVG_NS:cl,win:Wp}=se,{attr:Vp,createElement:Sr,css:Up,error:yu,isFunction:wu,isString:xu,objectEach:Qo,splat:Gp}=Fe,{trustedTypes:pl}=Wp,qn=pl&&wu(pl.createPolicy)&&pl.createPolicy("highcharts",{createHTML:y=>y}),ea=qn?qn.createHTML(""):"";class Mt{static filterUserAttributes(n){return Qo(n,(a,l)=>{let u=!0;Mt.allowedAttributes.indexOf(l)===-1&&(u=!1),["background","dynsrc","href","lowsrc","src"].indexOf(l)!==-1&&(u=xu(a)&&Mt.allowedReferences.some(d=>a.indexOf(d)===0)),u||(yu(33,!1,void 0,{"Invalid attribute in config":`${l}`}),delete n[l]),xu(a)&&n[l]&&(n[l]=a.replace(/</g,"&lt;"))}),n}static parseStyle(n){return n.split(";").reduce((a,l)=>{let u=l.split(":").map(c=>c.trim()),d=u.shift();return d&&u.length&&(a[d.replace(/-([a-z])/g,c=>c[1].toUpperCase())]=u.join(":")),a},{})}static setElementHTML(n,a){n.innerHTML=Mt.emptyHTML,a&&new Mt(a).addToDOM(n)}constructor(n){this.nodes=typeof n=="string"?this.parseMarkup(n):n}addToDOM(n){return function a(l,u){let d;return Gp(l).forEach(function(c){let f,m=c.tagName,v=c.textContent?se.doc.createTextNode(c.textContent):void 0,C=Mt.bypassHTMLFiltering;if(m)if(m==="#text")f=v;else if(Mt.allowedTags.indexOf(m)!==-1||C){let w=m==="svg"?cl:u.namespaceURI||cl,S=se.doc.createElementNS(w,m),M=c.attributes||{};Qo(c,function(L,N){N!=="tagName"&&N!=="attributes"&&N!=="children"&&N!=="style"&&N!=="textContent"&&(M[N]=L)}),Vp(S,C?M:Mt.filterUserAttributes(M)),c.style&&Up(S,c.style),v&&S.appendChild(v),a(c.children||[],S),f=S}else yu(33,!1,void 0,{"Invalid tagName in config":m});f&&u.appendChild(f),d=f}),d}(this.nodes,n)}parseMarkup(n){let a,l=[];n=n.trim().replace(/ style=(["'])/g," data-style=$1");try{a=new DOMParser().parseFromString(qn?qn.createHTML(n):n,"text/html")}catch{}if(!a){let d=Sr("div");d.innerHTML=n,a={body:d}}let u=(d,c)=>{let f=d.nodeName.toLowerCase(),m={tagName:f};f==="#text"&&(m.textContent=d.textContent||"");let v=d.attributes;if(v){let C={};[].forEach.call(v,w=>{w.name==="data-style"?m.style=Mt.parseStyle(w.value):C[w.name]=w.value}),m.attributes=C}if(d.childNodes.length){let C=[];[].forEach.call(d.childNodes,w=>{u(w,C)}),C.length&&(m.children=C)}c.push(m)};return[].forEach.call(a.body.childNodes,d=>u(d,l)),l}}Mt.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Mt.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Mt.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Mt.emptyHTML=ea,Mt.bypassHTMLFiltering=!1;let{defaultOptions:Cu,defaultTime:Eu}=Oi,{pageLang:fl}=se,{extend:Mr,getNestedProperty:Xp,isArray:Tr,isNumber:ku,isObject:Yp,isString:$p,pick:en,ucfirst:Kp}=Fe,ta={add:(y,n)=>y+n,divide:(y,n)=>n!==0?y/n:"",eq:(y,n)=>y==n,each:function(y){let n=arguments[arguments.length-1];return!!Tr(y)&&y.map((a,l)=>Jn(n.body,Mr(Yp(a)?a:{"@this":a},{"@index":l,"@first":l===0,"@last":l===y.length-1}))).join("")},ge:(y,n)=>y>=n,gt:(y,n)=>y>n,if:y=>!!y,le:(y,n)=>y<=n,lt:(y,n)=>y<n,multiply:(y,n)=>y*n,ne:(y,n)=>y!=n,subtract:(y,n)=>y-n,ucfirst:Kp,unless:y=>!y},Su={},Mu=y=>/^["'].+["']$/.test(y);function Jn(y="",n,a){var z;let l=/\{([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/g,u=/\(([a-zA-Z\u00C0-\u017F\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/g,d=[],c=/f$/,f=/\.(\d)/,m=((z=a==null?void 0:a.options)==null?void 0:z.lang)||Cu.lang,v=(a==null?void 0:a.time)||Eu,C=(a==null?void 0:a.numberFormatter)||ml.bind(a),w=(A="")=>{let F;return A==="true"||A!=="false"&&((F=Number(A)).toString()===A?F:Mu(A)?A.slice(1,-1):Xp(A,n))},S,M,L=0,N;for(;(S=l.exec(y))!==null;){let A=S,F=u.exec(S[1]);F&&(S=F,N=!0),M!=null&&M.isBlock||(M={ctx:n,expression:S[1],find:S[0],isBlock:S[1].charAt(0)==="#",start:S.index,startInner:S.index+S[0].length,length:S[0].length});let _=(M.isBlock?A:S)[1].split(" ")[0].replace("#","");ta[_]&&(M.isBlock&&_===M.fn&&L++,M.fn||(M.fn=_));let ie=S[1]==="else";if(M.isBlock&&M.fn&&(S[1]===`/${M.fn}`||ie))if(L)!ie&&L--;else{let K=M.startInner,Q=y.substr(K,S.index-K);M.body===void 0?(M.body=Q,M.startInner=S.index+S[0].length):M.elseBody=Q,M.find+=Q+S[0],ie||(d.push(M),M=void 0)}else M.isBlock||d.push(M);if(F&&!(M!=null&&M.isBlock))break}return d.forEach(A=>{let F,_,{body:ie,elseBody:K,expression:Q,fn:ae}=A;if(ae){let re=[A],oe=[],pe=Q.length,be=0,xe;for(_=0;_<=pe;_++){let Ee=Q.charAt(_);xe||Ee!=='"'&&Ee!=="'"?xe===Ee&&(xe=""):xe=Ee,xe||Ee!==" "&&_!==pe||(oe.push(Q.substr(be,_-be)),be=_+1)}for(_=ta[ae].length;_--;)re.unshift(w(oe[_+1]));F=ta[ae].apply(n,re),A.isBlock&&typeof F=="boolean"&&(F=Jn(F?ie:K,n,a))}else{let re=Mu(Q)?[Q]:Q.split(":"),oe=(F=w(re.shift()||""))%1!=0;if(typeof F=="number"&&(re.length||oe)){let pe=re.join(":");if(c.test(pe)||oe){let be=parseInt((pe.match(f)||["","-1"])[1],10);F!==null&&(F=C(F,be,m.decimalPoint,pe.indexOf(",")>-1?m.thousandsSep:""))}else F=v.dateFormat(pe,F)}u.lastIndex=0,u.test(A.find)&&$p(F)&&(F=`"${F}"`)}y=y.replace(A.find,en(F,""))}),N?Jn(y,n,a):y}function ml(y,n,a,l){var N;n*=1;let u,d,[c,f]=(y=+y||0).toString().split("e").map(Number),m=((N=this==null?void 0:this.options)==null?void 0:N.lang)||Cu.lang,v=(y.toString().split(".")[1]||"").split("e")[0].length,C=n,w={};a??(a=m.decimalPoint),l??(l=m.thousandsSep),n===-1?n=Math.min(v,20):ku(n)?n&&f<0&&((d=n+f)>=0?(c=+c.toExponential(d).split("e")[0],n=d):(c=Math.floor(c),y=n<20?+(c*Math.pow(10,f)).toFixed(n):0,f=0)):n=2,f&&(n??(n=2),y=c),ku(n)&&n>=0&&(w.minimumFractionDigits=n,w.maximumFractionDigits=n),l===""&&(w.useGrouping=!1);let S=l||a,M=S?"en":(this==null?void 0:this.locale)||m.locale||fl,L=JSON.stringify(w)+M;return u=(Su[L]??(Su[L]=new Intl.NumberFormat(M,w))).format(y),S&&(u=u.replace(/([,\.])/g,"_$1").replace(/_\,/g,l??",").replace("_.",a??".")),(n||+u!=0)&&(!(f<0)||C)||(u="0"),f&&+u!=0&&(u+="e"+(f<0?"":"+")+f),u}let Di={dateFormat:function(y,n,a){return Eu.dateFormat(y,n,a)},format:Jn,helpers:ta,numberFormat:ml};(function(y){let n;y.rendererTypes={},y.getRendererType=function(a=n){return y.rendererTypes[a]||y.rendererTypes[n]},y.registerRendererType=function(a,l,u){y.rendererTypes[a]=l,(!n||u)&&(n=a,se.Renderer=l)}})(o||(o={}));let Zn=o,{clamp:xs,pick:qp,pushUnique:Tu,stableSort:gl}=Fe;(h||(h={})).distribute=function y(n,a,l){let u=n,d=u.reducedLen||a,c=(_,ie)=>_.target-ie.target,f=[],m=n.length,v=[],C=f.push,w,S,M,L=!0,N,z,A=0,F;for(w=m;w--;)A+=n[w].size;if(A>d){for(gl(n,(_,ie)=>(ie.rank||0)-(_.rank||0)),M=(F=n[0].rank===n[n.length-1].rank)?m/2:-1,S=F?M:m-1;M&&A>d;)N=n[w=Math.floor(S)],Tu(v,w)&&(A-=N.size),S+=M,F&&S>=n.length&&(M/=2,S=M);v.sort((_,ie)=>ie-_).forEach(_=>C.apply(f,n.splice(_,1)))}for(gl(n,c),n=n.map(_=>({size:_.size,targets:[_.target],align:qp(_.align,.5)}));L;){for(w=n.length;w--;)N=n[w],z=(Math.min.apply(0,N.targets)+Math.max.apply(0,N.targets))/2,N.pos=xs(z-N.size*N.align,0,a-N.size);for(w=n.length,L=!1;w--;)w>0&&n[w-1].pos+n[w-1].size>n[w].pos&&(n[w-1].size+=n[w].size,n[w-1].targets=n[w-1].targets.concat(n[w].targets),n[w-1].align=.5,n[w-1].pos+n[w-1].size>a&&(n[w-1].pos=a-n[w-1].size),n.splice(w,1),L=!0)}return C.apply(u,f),w=0,n.some(_=>{let ie=0;return(_.targets||[]).some(()=>(u[w].pos=_.pos+ie,l!==void 0&&Math.abs(u[w].pos-u[w].target)>l?(u.slice(0,w+1).forEach(K=>delete K.pos),u.reducedLen=(u.reducedLen||a)-.1*a,u.reducedLen>.1*a&&y(u,a,l),!0):(ie+=u[w].size,w++,!1)))}),gl(u,c),u};let Qn=h,{animate:bl,animObject:Jp,stop:tn}=di,{deg2rad:vl,doc:sn,svg:Zp,SVG_NS:rn,win:Ru,isFirefox:Lu}=se,{addEvent:Qp,attr:yl,createElement:ef,crisp:Rr,css:Pu,defined:Cs,erase:ia,extend:eo,fireEvent:wl,getAlignFactor:sa,isArray:Au,isFunction:ra,isNumber:tf,isObject:xl,isString:Ou,merge:to,objectEach:nn,pick:Is,pInt:na,pushUnique:io,replaceNested:sf,syncTimeout:rf,uniqueKey:on}=Fe;class si{_defaultGetter(n){let a=Is(this[n+"Value"],this[n],this.element?this.element.getAttribute(n):null,0);return/^-?[\d\.]+$/.test(a)&&(a=parseFloat(a)),a}_defaultSetter(n,a,l){l.setAttribute(a,n)}add(n){let a,l=this.renderer,u=this.element;return n&&(this.parentGroup=n),this.textStr!==void 0&&this.element.nodeName==="text"&&l.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(a=this.zIndexSetter()),a||(n?n.element:l.box).appendChild(u),this.onAdd&&this.onAdd(),this}addClass(n,a){let l=a?"":this.attr("class")||"";return(n=(n||"").split(/ /g).reduce(function(u,d){return l.indexOf(d)===-1&&u.push(d),u},l?[l]:[]).join(" "))!==l&&this.attr("class",n),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(n,a,l,u=!0){let d=this.renderer,c=d.alignedObjects,f=!!n;n?(this.alignOptions=n,this.alignByTranslate=a,this.alignTo=l):(n=this.alignOptions||{},a=this.alignByTranslate,l=this.alignTo);let m=!l||Ou(l)?l||"renderer":void 0;m&&(f&&io(c,this),l=void 0);let v=Is(l,d[m],d),C=(v.x||0)+(n.x||0)+((v.width||0)-(n.width||0))*sa(n.align),w=(v.y||0)+(n.y||0)+((v.height||0)-(n.height||0))*sa(n.verticalAlign),S={"text-align":n==null?void 0:n.align};return S[a?"translateX":"x"]=Math.round(C),S[a?"translateY":"y"]=Math.round(w),u&&(this[this.placed?"animate":"attr"](S),this.placed=!0),this.alignAttr=S,this}alignSetter(n){let a={left:"start",center:"middle",right:"end"};a[n]&&(this.alignValue=n,this.element.setAttribute("text-anchor",a[n]))}animate(n,a,l){let u=Jp(Is(a,this.renderer.globalAnimation,!0)),d=u.defer;return sn.hidden&&(u.duration=0),u.duration!==0?(l&&(u.complete=l),rf(()=>{this.element&&bl(this,n,u)},d)):(this.attr(n,void 0,l||u.complete),nn(n,function(c,f){u.step&&u.step.call(this,c,{prop:f,pos:1,elem:this})},this)),this}applyTextOutline(n){let a=this.element;n.indexOf("contrast")!==-1&&(n=n.replace(/contrast/g,this.renderer.getContrast(a.style.fill)));let l=n.indexOf(" "),u=n.substring(l+1),d=n.substring(0,l);if(d&&d!=="none"&&se.svg){this.fakeTS=!0,d=d.replace(/(^[\d\.]+)(.*?)$/g,function(C,w,S){return 2*Number(w)+S}),this.removeTextOutline();let c=sn.createElementNS(rn,"tspan");yl(c,{class:"highcharts-text-outline",fill:u,stroke:u,"stroke-width":d,"stroke-linejoin":"round"});let f=a.querySelector("textPath")||a;[].forEach.call(f.childNodes,C=>{let w=C.cloneNode(!0);w.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(S=>w.removeAttribute(S)),c.appendChild(w)});let m=0;[].forEach.call(f.querySelectorAll("text tspan"),C=>{m+=Number(C.getAttribute("dy"))});let v=sn.createElementNS(rn,"tspan");v.textContent="",yl(v,{x:Number(a.getAttribute("x")),dy:-m}),c.appendChild(v),f.insertBefore(c,f.firstChild)}}attr(n,a,l,u){let{element:d}=this,c=si.symbolCustomAttribs,f,m,v=this,C;return typeof n=="string"&&a!==void 0&&(f=n,(n={})[f]=a),typeof n=="string"?v=(this[n+"Getter"]||this._defaultGetter).call(this,n,d):(nn(n,function(w,S){C=!1,u||tn(this,S),this.symbolName&&c.indexOf(S)!==-1&&(m||(this.symbolAttr(n),m=!0),C=!0),this.rotation&&(S==="x"||S==="y")&&(this.doTransform=!0),C||(this[S+"Setter"]||this._defaultSetter).call(this,w,S,d)},this),this.afterSetters()),l&&l.call(this),v}clip(n){if(n&&!n.clipPath){let a=on()+"-",l=this.renderer.createElement("clipPath").attr({id:a}).add(this.renderer.defs);eo(n,{clipPath:l,id:a,count:0}),n.add(l)}return this.attr("clip-path",n?`url(${this.renderer.url}#${n.id})`:"none")}crisp(n,a){a=Math.round(a||n.strokeWidth||0);let l=n.x||this.x||0,u=n.y||this.y||0,d=(n.width||this.width||0)+l,c=(n.height||this.height||0)+u,f=Rr(l,a),m=Rr(u,a);return eo(n,{x:f,y:m,width:Rr(d,a)-f,height:Rr(c,a)-m}),Cs(n.strokeWidth)&&(n.strokeWidth=a),n}complexColor(n,a,l){let u=this.renderer,d,c,f,m,v,C,w,S,M,L,N=[],z;wl(this.renderer,"complexColor",{args:arguments},function(){if(n.radialGradient?c="radialGradient":n.linearGradient&&(c="linearGradient"),c){if(f=n[c],v=u.gradients,C=n.stops,M=l.radialReference,Au(f)&&(n[c]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"}),c==="radialGradient"&&M&&!Cs(f.gradientUnits)&&(m=f,f=to(f,u.getRadialAttr(M,m),{gradientUnits:"userSpaceOnUse"})),nn(f,function(A,F){F!=="id"&&N.push(F,A)}),nn(C,function(A){N.push(A)}),v[N=N.join(",")])L=v[N].attr("id");else{f.id=L=on();let A=v[N]=u.createElement(c).attr(f).add(u.defs);A.radAttr=m,A.stops=[],C.forEach(function(F){F[1].indexOf("rgba")===0?(w=(d=At.parse(F[1])).get("rgb"),S=d.get("a")):(w=F[1],S=1);let _=u.createElement("stop").attr({offset:F[0],"stop-color":w,"stop-opacity":S}).add(A);A.stops.push(_)})}z="url("+u.url+"#"+L+")",l.setAttribute(a,z),l.gradient=N,n.toString=function(){return z}}})}css(n){let a=this.styles,l={},u=this.element,d,c=!a;if(a&&nn(n,function(f,m){a&&a[m]!==f&&(l[m]=f,c=!0)}),c){a&&(n=eo(a,l)),n.width===null||n.width==="auto"?delete this.textWidth:u.nodeName.toLowerCase()==="text"&&n.width&&(d=this.textWidth=na(n.width)),eo(this.styles,n),d&&!Zp&&this.renderer.forExport&&delete n.width;let f=Lu&&n.fontSize||null;f&&(tf(f)||/^\d+$/.test(f))&&(n.fontSize+="px");let m=to(n);u.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(v=>m&&delete m[v]),m.color&&(m.fill=m.color,delete m.color)),Pu(u,m)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),n.textOutline&&this.applyTextOutline(n.textOutline)),this}dashstyleSetter(n){let a,l=this["stroke-width"];if(l==="inherit"&&(l=1),n){let u=(n=n.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(a=u.length;a--;)u[a]=""+na(u[a])*Is(l,NaN);n=u.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",n)}}destroy(){let n=this,a=n.element||{},l=n.renderer,u=a.ownerSVGElement,d=a.nodeName==="SPAN"&&n.parentGroup||void 0,c,f;if(a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=a.point=null,tn(n),n.clipPath&&u){let m=n.clipPath;[].forEach.call(u.querySelectorAll("[clip-path],[CLIP-PATH]"),function(v){v.getAttribute("clip-path").indexOf(m.element.id)>-1&&v.removeAttribute("clip-path")}),n.clipPath=m.destroy()}if(n.stops){for(f=0;f<n.stops.length;f++)n.stops[f].destroy();n.stops.length=0,n.stops=void 0}for(n.safeRemoveChild(a);d!=null&&d.div&&d.div.childNodes.length===0;)c=d.parentGroup,n.safeRemoveChild(d.div),delete d.div,d=c;n.alignOptions&&ia(l.alignedObjects,n),nn(n,(m,v)=>{var C,w,S;(((C=n[v])==null?void 0:C.parentGroup)===n||["connector","foreignObject"].indexOf(v)!==-1)&&((S=(w=n[v])==null?void 0:w.destroy)==null||S.call(w)),delete n[v]})}dSetter(n,a,l){Au(n)&&(typeof n[0]=="string"&&(n=this.renderer.pathToSegments(n)),this.pathArray=n,n=n.reduce((u,d,c)=>d!=null&&d.join?(c?u+" ":"")+d.join(" "):(d||"").toString(),"")),/(NaN| {2}|^$)/.test(n)&&(n="M 0 0"),this[a]!==n&&(l.setAttribute(a,n),this[a]=n)}fillSetter(n,a,l){typeof n=="string"?l.setAttribute(a,n):n&&this.complexColor(n,a,l)}hrefSetter(n,a,l){l.setAttributeNS("http://www.w3.org/1999/xlink",a,n)}getBBox(n,a){let l,u,d,c,{alignValue:f,element:m,renderer:v,styles:C,textStr:w}=this,{cache:S,cacheKeys:M}=v,L=m.namespaceURI===this.SVG_NS,N=Is(a,this.rotation,0),z=v.styledMode?m&&si.prototype.getStyle.call(m,"font-size"):C.fontSize;if(Cs(w)&&((c=w.toString()).indexOf("<")===-1&&(c=c.replace(/\d/g,"0")),c+=["",v.rootFontSize,z,N,this.textWidth,f,C.lineClamp,C.textOverflow,C.fontWeight].join(",")),c&&!n&&(l=S[c]),!l||l.polygon){if(L||v.forExport){try{d=this.fakeTS&&function(F){let _=m.querySelector(".highcharts-text-outline");_&&Pu(_,{display:F})},ra(d)&&d("none"),l=m.getBBox?eo({},m.getBBox()):{width:m.offsetWidth,height:m.offsetHeight,x:0,y:0},ra(d)&&d("")}catch{}(!l||l.width<0)&&(l={x:0,y:0,width:0,height:0})}else l=this.htmlGetBBox();u=l.height,L&&(l.height=u={"11px,17":14,"13px,20":16}[`${z||""},${Math.round(u)}`]||u),N&&(l=this.getRotatedBox(l,N));let A={bBox:l};wl(this,"afterGetBBox",A),l=A.bBox}if(c&&(w===""||l.height>0)){for(;M.length>250;)delete S[M.shift()];S[c]||M.push(c),S[c]=l}return l}getRotatedBox(n,a){let{x:l,y:u,width:d,height:c}=n,{alignValue:f,translateY:m,rotationOriginX:v=0,rotationOriginY:C=0}=this,w=sa(f),S=Number(this.element.getAttribute("y")||0)-(m?0:u),M=a*vl,L=(a-90)*vl,N=Math.cos(M),z=Math.sin(M),A=d*N,F=d*z,_=Math.cos(L),ie=Math.sin(L),[[K,Q],[ae,re]]=[v,C].map(ct=>[ct-ct*N,ct*z]),oe=l+w*(d-A)+K+re+S*_,pe=oe+A,be=pe-c*_,xe=be-A,Ee=u+S-w*F-Q+ae+S*ie,De=Ee+F,Ae=De-c*ie,Ne=Ae-F,Re=Math.min(oe,pe,be,xe),Ie=Math.min(Ee,De,Ae,Ne),et=Math.max(oe,pe,be,xe)-Re,lt=Math.max(Ee,De,Ae,Ne)-Ie;return{x:Re,y:Ie,width:et,height:lt,polygon:[[oe,Ee],[pe,De],[be,Ae],[xe,Ne]]}}getStyle(n){return Ru.getComputedStyle(this.element||this,"").getPropertyValue(n)}hasClass(n){return(""+this.attr("class")).split(" ").indexOf(n)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(n,a){this.onEvents={},this.opacity=1,this.SVG_NS=rn,this.element=a==="span"||a==="body"?ef(a):sn.createElementNS(this.SVG_NS,a),this.renderer=n,this.styles={},wl(this,"afterInit")}on(n,a){let{onEvents:l}=this;return l[n]&&l[n](),l[n]=Qp(this.element,n,a),this}opacitySetter(n,a,l){let u=Number(Number(n).toFixed(3));this.opacity=u,l.setAttribute(a,u)}reAlign(){var n;(n=this.alignOptions)!=null&&n.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(n){return this.attr("class",(""+this.attr("class")).replace(Ou(n)?RegExp(`(^| )${n}( |$)`):n," ").replace(/ +/g," ").trim())}removeTextOutline(){let n=this.element.querySelector("tspan.highcharts-text-outline");n&&this.safeRemoveChild(n)}safeRemoveChild(n){let a=n.parentNode;a&&a.removeChild(n)}setRadialReference(n){let a=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=n,a!=null&&a.radAttr&&a.animate(this.renderer.getRadialAttr(n,a.radAttr)),this}shadow(n){var d;let{renderer:a}=this,l=to(((d=this.parentGroup)==null?void 0:d.rotation)===90?{offsetX:-1,offsetY:-1}:{},xl(n)?n:{}),u=a.shadowDefinition(l);return this.attr({filter:n?`url(${a.url}#${u})`:"none"})}show(n=!0){return this.attr({visibility:n?"inherit":"visible"})}"stroke-widthSetter"(n,a,l){this[a]=n,l.setAttribute(a,n)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let n=this.getStyle("stroke-width"),a=0,l;return/px$/.test(n)?a=na(n):n!==""&&(yl(l=sn.createElementNS(rn,"rect"),{width:n,"stroke-width":0}),this.element.parentNode.appendChild(l),a=l.getBBox().width,l.parentNode.removeChild(l)),a}symbolAttr(n){let a=this;si.symbolCustomAttribs.forEach(function(l){a[l]=Is(n[l],a[l])}),a.attr({d:a.renderer.symbols[a.symbolName](a.x,a.y,a.width,a.height,a)})}textSetter(n){n!==this.textStr&&(delete this.textPxLength,this.textStr=n,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(n){let a=this.element,l=a.getElementsByTagName("title")[0]||sn.createElementNS(this.SVG_NS,"title");a.insertBefore?a.insertBefore(l,a.firstChild):a.appendChild(l),l.textContent=sf(Is(n,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let n=this.element;return n.parentNode.appendChild(n),this}translate(n,a){return this.attr({translateX:n,translateY:a})}updateTransform(n="transform"){let{element:a,foreignObject:l,matrix:u,padding:d,rotation:c=0,rotationOriginX:f,rotationOriginY:m,scaleX:v,scaleY:C,text:w,translateX:S=0,translateY:M=0}=this,L=["translate("+S+","+M+")"];Cs(u)&&L.push("matrix("+u.join(",")+")"),c&&(L.push("rotate("+c+" "+(f??a.getAttribute("x")??this.x??0)+" "+(m??a.getAttribute("y")??this.y??0)+")"),(w==null?void 0:w.element.tagName)!=="SPAN"||w!=null&&w.foreignObject||w.attr({rotation:c,rotationOriginX:(f||0)-d,rotationOriginY:(m||0)-d})),(Cs(v)||Cs(C))&&L.push("scale("+Is(v,1)+" "+Is(C,1)+")"),L.length&&!(w||this).textPath&&((l==null?void 0:l.element)||a).setAttribute(n,L.join(" "))}visibilitySetter(n,a,l){n==="inherit"?l.removeAttribute(a):this[a]!==n&&l.setAttribute(a,n),this[a]=n}xGetter(n){return this.element.nodeName==="circle"&&(n==="x"?n="cx":n==="y"&&(n="cy")),this._defaultGetter(n)}zIndexSetter(n,a){let l=this.renderer,u=this.parentGroup,d=(u||l).element||l.box,c=this.element,f=d===l.box,m,v,C,w=!1,S,M=this.added,L;if(Cs(n)?(c.setAttribute("data-z-index",n),n*=1,this[a]===n&&(M=!1)):Cs(this[a])&&c.removeAttribute("data-z-index"),this[a]=n,M){for((n=this.zIndex)&&u&&(u.handleZ=!0),L=(m=d.childNodes).length-1;L>=0&&!w;L--)S=!Cs(C=(v=m[L]).getAttribute("data-z-index")),v!==c&&(n<0&&S&&!f&&!L?(d.insertBefore(c,m[L]),w=!0):(na(C)<=n||S&&(!Cs(n)||n>=0))&&(d.insertBefore(c,m[L+1]),w=!0));w||(d.insertBefore(c,m[3*!!f]),w=!0)}return w}}si.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],si.prototype.strokeSetter=si.prototype.fillSetter,si.prototype.yGetter=si.prototype.xGetter,si.prototype.matrixSetter=si.prototype.rotationOriginXSetter=si.prototype.rotationOriginYSetter=si.prototype.rotationSetter=si.prototype.scaleXSetter=si.prototype.scaleYSetter=si.prototype.translateXSetter=si.prototype.translateYSetter=si.prototype.verticalAlignSetter=function(y,n){this[n]=y,this.doTransform=!0};let Es=si,{defined:so,extend:nf,getAlignFactor:Du,isNumber:ro,merge:of,pick:oa,removeEvent:us}=Fe;class Lr extends Es{constructor(n,a,l,u,d,c,f,m,v,C){let w;super(n,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=a,this.x=l,this.y=u,this.anchorX=c,this.anchorY=f,this.baseline=v,this.className=C,this.addClass(C==="button"?"highcharts-no-tooltip":"highcharts-label"),C&&this.addClass("highcharts-"+C),this.text=n.text(void 0,0,0,m).attr({zIndex:1}),typeof d=="string"&&((w=/^url\((.*?)\)$/.test(d))||this.renderer.symbols[d])&&(this.symbolKey=d),this.bBox=Lr.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=n.styledMode||w,this.deferredAttr={},this.alignFactor=0}alignSetter(n){let a=Du(n);this.textAlign=n,a!==this.alignFactor&&(this.alignFactor=a,this.bBox&&ro(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(n,a){this.anchorX=n,this.boxAttr(a,Math.round(n)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(n,a){this.anchorY=n,this.boxAttr(a,n-this.ySetting)}boxAttr(n,a){this.box?this.box.attr(n,a):this.deferredAttr[n]=a}css(n){if(n){let a={};n=of(n),Lr.textProps.forEach(l=>{n[l]!==void 0&&(a[l]=n[l],delete n[l])}),this.text.css(a),"fontSize"in a||"fontWeight"in a?this.updateTextPadding():("width"in a||"textOverflow"in a)&&this.updateBoxSize()}return Es.prototype.css.call(this,n)}destroy(){us(this.element,"mouseenter"),us(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Es.prototype.destroy.call(this)}fillSetter(n,a){n&&(this.needsBox=!0),this.fill=n,this.boxAttr(a,n)}getBBox(n,a){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:l,height:u=0,translateX:d=0,translateY:c=0,width:f=0}=this,m=oa(this.paddingLeft,l),v=a??(this.rotation||0),C={width:f,height:u,x:d+this.bBox.x-m,y:c+this.bBox.y-l+this.baselineOffset};return v&&(C=this.getRotatedBox(C,v)),C}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(n){this.heightSetting=n,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:oa(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&so(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(n,a){ro(n)?n!==this[a]&&(this[a]=n,this.updateTextPadding()):this[a]=void 0}rSetter(n,a){this.boxAttr(a,n)}strokeSetter(n,a){this.stroke=n,this.boxAttr(a,n)}"stroke-widthSetter"(n,a){n&&(this.needsBox=!0),this["stroke-width"]=n,this.boxAttr(a,n)}"text-alignSetter"(n){this.textAlign=this["text-align"]=n,this.updateTextPadding()}textSetter(n){n!==void 0&&this.text.attr({text:n}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let n,a=this.text,l={},u=this.padding,d=this.bBox=(!ro(this.widthSetting)||!ro(this.heightSetting)||this.textAlign)&&so(a.textStr)?a.getBBox(void 0,0):Lr.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||d.height||0)+2*u;let c=this.renderer.fontMetrics(a);if(this.baselineOffset=u+Math.min((this.text.firstLineMetrics||c).b,d.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-c.h)/2),this.needsBox&&!a.textPath){if(!this.box){let f=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();f.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),f.add(this)}l.x=n=this.getCrispAdjust(),l.y=(this.baseline?-this.baselineOffset:0)+n,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(nf(l,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let n=this.text,a=n.styles.textAlign||this.textAlign;if(!n.textPath){this.updateBoxSize();let l=this.baseline?0:this.baselineOffset,u=(this.paddingLeft??this.padding)+Du(a)*(this.widthSetting??this.bBox.width);(u!==n.x||l!==n.y)&&(n.attr({align:a,x:u}),l!==void 0&&n.attr("y",l)),n.x=u,n.y=l}}widthSetter(n){this.widthSetting=ro(n)?n:void 0,this.doUpdate=!0}getPaddedWidth(){let n=this.padding,a=oa(this.paddingLeft,n),l=oa(this.paddingRight,n);return(this.widthSetting||this.bBox.width||0)+a+l}xSetter(n){this.x=n,this.alignFactor&&(n-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(n),this.attr("translateX",this.xSetting)}ySetter(n){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(n),this.attr("translateY",this.ySetting)}}Lr.emptyBBox={width:0,height:0,x:0,y:0},Lr.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:zu,isNumber:af,pick:no}=Fe;function Nu(y,n,a,l,u){let d=[];if(u){let c=u.start||0,f=u.end||0,m=no(u.r,a),v=no(u.r,l||a),C=2e-4/(u.borderRadius?1:Math.max(m,1)),w=Math.abs(f-c-2*Math.PI)<C;w&&(c=Math.PI/2,f=2.5*Math.PI-C);let S=u.innerR,M=no(u.open,w),L=Math.cos(c),N=Math.sin(c),z=Math.cos(f),A=Math.sin(f),F=no(u.longArc,f-c-Math.PI<C?0:1),_=["A",m,v,0,F,no(u.clockwise,1),y+m*z,n+v*A];_.params={start:c,end:f,cx:y,cy:n},d.push(["M",y+m*L,n+v*N],_),zu(S)&&((_=["A",S,S,0,F,zu(u.clockwise)?1-u.clockwise:0,y+S*L,n+S*N]).params={start:f,end:c,cx:y,cy:n},d.push(M?["M",y+S*z,n+S*A]:["L",y+S*z,n+S*A],_)),M||d.push(["Z"])}return d}function Cl(y,n,a,l,u){return u!=null&&u.r?El(y,n,a,l,u):[["M",y,n],["L",y+a,n],["L",y+a,n+l],["L",y,n+l],["Z"]]}function El(y,n,a,l,u){let d=(u==null?void 0:u.r)||0;return[["M",y+d,n],["L",y+a-d,n],["A",d,d,0,0,1,y+a,n+d],["L",y+a,n+l-d],["A",d,d,0,0,1,y+a-d,n+l],["L",y+d,n+l],["A",d,d,0,0,1,y,n+l-d],["L",y,n+d],["A",d,d,0,0,1,y+d,n],["Z"]]}let Fu={arc:Nu,callout:function(y,n,a,l,u){let d=Math.min((u==null?void 0:u.r)||0,a,l),c=d+6,f=u==null?void 0:u.anchorX,m=(u==null?void 0:u.anchorY)||0,v=El(y,n,a,l,{r:d});if(!af(f)||f<a&&f>0&&m<l&&m>0)return v;if(y+f>a-c)if(m>n+c&&m<n+l-c)v.splice(3,1,["L",y+a,m-6],["L",y+a+6,m],["L",y+a,m+6],["L",y+a,n+l-d]);else if(f<a){let C=m<n+c,w=C?n:n+l;v.splice(C?2:5,0,["L",f,m],["L",y+a-d,w])}else v.splice(3,1,["L",y+a,l/2],["L",f,m],["L",y+a,l/2],["L",y+a,n+l-d]);else if(y+f<c)if(m>n+c&&m<n+l-c)v.splice(7,1,["L",y,m+6],["L",y-6,m],["L",y,m-6],["L",y,n+d]);else if(f>0){let C=m<n+c,w=C?n:n+l;v.splice(C?1:6,0,["L",f,m],["L",y+d,w])}else v.splice(7,1,["L",y,l/2],["L",f,m],["L",y,l/2],["L",y,n+d]);else m>l&&f<a-c?v.splice(5,1,["L",f+6,n+l],["L",f,n+l+6],["L",f-6,n+l],["L",y+d,n+l]):m<0&&f>c&&v.splice(1,1,["L",f-6,n],["L",f,n-6],["L",f+6,n],["L",a-d,n]);return v},circle:function(y,n,a,l){return Nu(y+a/2,n+l/2,a/2,l/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(y,n,a,l){return[["M",y+a/2,n],["L",y+a,n+l/2],["L",y+a/2,n+l],["L",y,n+l/2],["Z"]]},rect:Cl,roundedRect:El,square:Cl,triangle:function(y,n,a,l){return[["M",y+a/2,n],["L",y+a,n+l],["L",y,n+l],["Z"]]},"triangle-down":function(y,n,a,l){return[["M",y,n],["L",y+a,n],["L",y+a/2,n+l],["Z"]]}},{doc:kl,SVG_NS:Pr,win:Iu}=se,{attr:oo,extend:Hu,fireEvent:Bu,isString:lf,objectEach:hf,pick:or}=Fe,ao=(y,n)=>y.substring(0,n)+"",_u=class{constructor(y){let n=y.styles;this.renderer=y.renderer,this.svgElement=y,this.width=y.textWidth,this.textLineHeight=n==null?void 0:n.lineHeight,this.textOutline=n==null?void 0:n.textOutline,this.ellipsis=(n==null?void 0:n.textOverflow)==="ellipsis",this.lineClamp=n==null?void 0:n.lineClamp,this.noWrap=(n==null?void 0:n.whiteSpace)==="nowrap"}buildSVG(){let y=this.svgElement,n=y.element,a=y.renderer,l=or(y.textStr,"").toString(),u=l.indexOf("<")!==-1,d=n.childNodes,c=!y.added&&a.box,f=[l,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,y.getStyle("font-size"),y.styles.lineClamp,this.width].join(",");if(f!==y.textCache){y.textCache=f,delete y.actualWidth;for(let m=d.length;m--;)n.removeChild(d[m]);if(u||this.ellipsis||this.width||y.textPath||l.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(l))){if(l!==""){c&&c.appendChild(n);let m=new Mt(l);this.modifyTree(m.nodes),m.addToDOM(n),this.modifyDOM(),this.ellipsis&&(n.textContent||"").indexOf("")!==-1&&y.attr("title",this.unescapeEntities(y.textStr||"",["&lt;","&gt;"])),c&&c.removeChild(n)}}else n.appendChild(kl.createTextNode(this.unescapeEntities(l)));lf(this.textOutline)&&y.applyTextOutline&&y.applyTextOutline(this.textOutline)}}modifyDOM(){let y,n=this.svgElement,a=oo(n.element,"x");for(n.firstLineMetrics=void 0;(y=n.element.firstChild)&&/^[\s\u200B]*$/.test(y.textContent||" ");)n.element.removeChild(y);[].forEach.call(n.element.querySelectorAll("tspan.highcharts-br"),(c,f)=>{c.nextSibling&&c.previousSibling&&(f===0&&c.previousSibling.nodeType===1&&(n.firstLineMetrics=n.renderer.fontMetrics(c.previousSibling)),oo(c,{dy:this.getLineHeight(c.nextSibling),x:a}))});let l=this.width||0;if(!l)return;let u=(c,f)=>{var N;let m=c.textContent||"",v=m.replace(/([^\^])-/g,"$1- ").split(" "),C=!this.noWrap&&(v.length>1||n.element.childNodes.length>1),w=this.getLineHeight(f),S=Math.max(0,l-.8*w),M=0,L=n.actualWidth;if(C){let z=[],A=[];for(;f.firstChild&&f.firstChild!==c;)A.push(f.firstChild),f.removeChild(f.firstChild);for(;v.length;)if(v.length&&!this.noWrap&&M>0&&(z.push(c.textContent||""),c.textContent=v.join(" ").replace(/- /g,"-")),this.truncate(c,void 0,v,M===0&&L||0,l,S,(F,_)=>v.slice(0,_).join(" ").replace(/- /g,"-")),L=n.actualWidth,M++,this.lineClamp&&M>=this.lineClamp){v.length&&(this.truncate(c,c.textContent||"",void 0,0,l,S,ao),c.textContent=((N=c.textContent)==null?void 0:N.replace("",""))+"");break}A.forEach(F=>{f.insertBefore(F,c)}),z.forEach(F=>{f.insertBefore(kl.createTextNode(F),c);let _=kl.createElementNS(Pr,"tspan");_.textContent="",oo(_,{dy:w,x:a}),f.insertBefore(_,c)})}else this.ellipsis&&m&&this.truncate(c,m,void 0,0,l,S,ao)},d=c=>{[].slice.call(c.childNodes).forEach(f=>{f.nodeType===Iu.Node.TEXT_NODE?u(f,c):(f.className.baseVal.indexOf("highcharts-br")!==-1&&(n.actualWidth=0),d(f))})};d(n.element)}getLineHeight(y){let n=y.nodeType===Iu.Node.TEXT_NODE?y.parentElement:y;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(n||this.svgElement.element).h}modifyTree(y){let n=(a,l)=>{let{attributes:u={},children:d,style:c={},tagName:f}=a,m=this.renderer.styledMode;if(f==="b"||f==="strong"?m?u.class="highcharts-strong":c.fontWeight="bold":(f==="i"||f==="em")&&(m?u.class="highcharts-emphasized":c.fontStyle="italic"),c!=null&&c.color&&(c.fill=c.color),f==="br"){u.class="highcharts-br",a.textContent="";let v=y[l+1];v!=null&&v.textContent&&(v.textContent=v.textContent.replace(/^ +/gm,""))}else f==="a"&&d&&d.some(v=>v.tagName==="#text")&&(a.children=[{children:d,tagName:"tspan"}]);f!=="#text"&&f!=="a"&&(a.tagName="tspan"),Hu(a,{attributes:u,style:c}),d&&d.filter(v=>v.tagName!=="#text").forEach(n)};y.forEach(n),Bu(this.svgElement,"afterModifyTree",{nodes:y})}truncate(y,n,a,l,u,d,c){let f,m,v=this.svgElement,{rotation:C}=v,w=[],S=a&&!l?1:0,M=(n||a||"").length,L=M;a||(u=d);let N=function(z,A){let F=A||z,_=y.parentNode;if(_&&w[F]===void 0&&_.getSubStringLength)try{w[F]=l+_.getSubStringLength(0,a?F+1:F)}catch{}return w[F]};if(v.rotation=0,l+(m=N(y.textContent.length))>u){for(;S<=M;)L=Math.ceil((S+M)/2),a&&(f=c(a,L)),m=N(L,f&&f.length-1),S===M?S=M+1:m>u?M=L-1:S=L;M===0?y.textContent="":n&&M===n.length-1||(y.textContent=f||c(n||a,L)),this.ellipsis&&m>u&&this.truncate(y,y.textContent||"",void 0,0,u,d,ao)}a&&a.splice(0,L),v.actualWidth=m,v.rotation=C}unescapeEntities(y,n){return hf(this.renderer.escapes,function(a,l){n&&n.indexOf(a)!==-1||(y=y.toString().replace(RegExp(a,"g"),l))}),y}},{defaultOptions:uf}=Oi,{charts:df,deg2rad:Sl,doc:an,isFirefox:ju,isMS:lo,isWebKit:cf,noop:pf,SVG_NS:ff,symbolSizes:Ml,win:Tl}=se,{addEvent:aa,attr:ln,createElement:mf,crisp:Wu,css:ho,defined:Ar,destroyObjectProperties:gf,extend:Or,isArray:bf,isNumber:ar,isObject:hn,isString:lr,merge:uo,pick:Rl,pInt:vf,replaceNested:yf,uniqueKey:Vu}=Fe;class ds{constructor(n,a,l,u,d,c,f){let m,v;this.x=0,this.y=0;let C=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),w=C.element;f||C.css(this.getStyle(u||{})),n.appendChild(w),ln(n,"dir","ltr"),n.innerHTML.indexOf("xmlns")===-1&&ln(w,"xmlns",this.SVG_NS),this.box=w,this.boxWrapper=C,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(an.createTextNode("Created with Highcharts 12.4.0")),this.defs=this.createElement("defs").add(),this.allowHTML=c,this.forExport=d,this.styledMode=f,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=C.getStyle("font-size"),this.setSize(a,l,!1),ju&&n.getBoundingClientRect&&((m=function(){ho(n,{left:0,top:0}),v=n.getBoundingClientRect(),ho(n,{left:Math.ceil(v.left)-v.left+"px",top:Math.ceil(v.top)-v.top+"px"})})(),this.unSubPixelFix=aa(Tl,"resize",m))}definition(n){return new Mt([n]).addToDOM(this.defs.element)}getReferenceURL(){if((ju||cf)&&an.getElementsByTagName("base").length){if(!Ar(s)){let n=Vu(),a=new Mt([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:n},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${n})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(an.body);ho(a,{position:"fixed",top:0,left:0,zIndex:9e5});let l=an.elementFromPoint(6,6);s=(l==null?void 0:l.id)==="hitme",an.body.removeChild(a)}if(s)return yf(Tl.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(n){return this.style=Or({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},n),this.style}setStyle(n){this.boxWrapper.css(this.getStyle(n))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let n=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),gf(this.gradients||{}),this.gradients=null,this.defs=n.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(n){return new this.Element(this,n)}getRadialAttr(n,a){return{cx:n[0]-n[2]/2+(a.cx||0)*n[2],cy:n[1]-n[2]/2+(a.cy||0)*n[2],r:(a.r||0)*n[2]}}shadowDefinition(n){let a=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(n).map(u=>`${u}-${n[u]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),l=uo({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},n);return this.defs.element.querySelector(`#${a}`)||this.definition({tagName:"filter",attributes:{id:a,filterUnits:l.filterUnits},children:this.getShadowFilterContent(l)}),a}getShadowFilterContent(n){return[{tagName:"feDropShadow",attributes:{dx:n.offsetX,dy:n.offsetY,"flood-color":n.color,"flood-opacity":Math.min(5*n.opacity,1),stdDeviation:n.width/2}}]}buildText(n){new _u(n).buildSVG()}getContrast(n){if(n==="transparent")return"#000000";let a=At.parse(n).rgba,l=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(ar(a[0])||!At.useColorMix){let u=a.map(c=>{let f=c/255;return f<=.04?f/12.92:Math.pow((f+.055)/1.055,2.4)}),d=.2126*u[0]+.7152*u[1]+.0722*u[2];return 1.05/(d+.05)>(d+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+n+" srgb"+l+l+l+")"}button(n,a,l,u,d={},c,f,m,v,C){let w=this.label(n,a,l,v,void 0,void 0,C,void 0,"button"),S=this.styledMode,M=arguments,L=0;d=uo(uf.global.buttonTheme,d),S&&(delete d.fill,delete d.stroke,delete d["stroke-width"]);let N=d.states||{},z=d.style||{};delete d.states,delete d.style;let A=[Mt.filterUserAttributes(d)],F=[z];return S||["hover","select","disabled"].forEach((_,ie)=>{A.push(uo(A[0],Mt.filterUserAttributes(M[ie+5]||N[_]||{}))),F.push(A[ie+1].style),delete A[ie+1].style}),aa(w.element,lo?"mouseover":"mouseenter",function(){L!==3&&w.setState(1)}),aa(w.element,lo?"mouseout":"mouseleave",function(){L!==3&&w.setState(L)}),w.setState=(_=0)=>{if(_!==1&&(w.state=L=_),w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][_]),!S){w.attr(A[_]);let ie=F[_];hn(ie)&&w.css(ie)}},w.attr(A[0]),!S&&(w.css(Or({cursor:"default"},z)),C&&w.text.css({pointerEvents:"none"})),w.on("touchstart",_=>_.stopPropagation()).on("click",function(_){L!==3&&(u==null||u.call(w,_))})}crispLine(n,a){let[l,u]=n;return Ar(l[1])&&l[1]===u[1]&&(l[1]=u[1]=Wu(l[1],a)),Ar(l[2])&&l[2]===u[2]&&(l[2]=u[2]=Wu(l[2],a)),n}path(n){let a=this.styledMode?{}:{fill:"none"};return bf(n)?a.d=n:hn(n)&&Or(a,n),this.createElement("path").attr(a)}circle(n,a,l){let u=hn(n)?n:n===void 0?{}:{x:n,y:a,r:l},d=this.createElement("circle");return d.xSetter=d.ySetter=function(c,f,m){m.setAttribute("c"+f,c)},d.attr(u)}arc(n,a,l,u,d,c){let f;hn(n)?(a=(f=n).y,l=f.r,u=f.innerR,d=f.start,c=f.end,n=f.x):f={innerR:u,start:d,end:c};let m=this.symbol("arc",n,a,l,l,f);return m.r=l,m}rect(n,a,l,u,d,c){let f=hn(n)?n:n===void 0?{}:{x:n,y:a,r:d,width:Math.max(l||0,0),height:Math.max(u||0,0)},m=this.createElement("rect");return this.styledMode||(c!==void 0&&(f["stroke-width"]=c,Or(f,m.crisp(f))),f.fill="none"),m.rSetter=function(v,C,w){m.r=v,ln(w,{rx:v,ry:v})},m.rGetter=function(){return m.r||0},m.attr(f)}roundedRect(n){return this.symbol("roundedRect").attr(n)}setSize(n,a,l){this.width=n,this.height=a,this.boxWrapper.animate({width:n,height:a},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Rl(l,!0)?void 0:0}),this.alignElements()}g(n){let a=this.createElement("g");return n?a.attr({class:"highcharts-"+n}):a}image(n,a,l,u,d,c){let f={preserveAspectRatio:"none"};ar(a)&&(f.x=a),ar(l)&&(f.y=l),ar(u)&&(f.width=u),ar(d)&&(f.height=d);let m=this.createElement("image").attr(f),v=function(C){m.attr({href:n}),c.call(m,C)};if(c){m.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let C=new Tl.Image;aa(C,"load",v),C.src=n,C.complete&&v({})}else m.attr({href:n});return m}symbol(n,a,l,u,d,c){var z,A;let f,m,v,C,w=this,S=/^url\((.*?)\)$/,M=S.test(n),L=!M&&(this.symbols[n]?n:"circle"),N=L&&this.symbols[L];if(N)typeof a=="number"&&(m=N.call(this.symbols,a||0,l||0,u||0,d||0,c)),f=this.path(m),w.styledMode||f.attr("fill","none"),Or(f,{symbolName:L||void 0,x:a,y:l,width:u,height:d}),c&&Or(f,c);else if(M){v=n.match(S)[1];let F=f=this.image(v);F.imgwidth=Rl(c==null?void 0:c.width,(z=Ml[v])==null?void 0:z.width),F.imgheight=Rl(c==null?void 0:c.height,(A=Ml[v])==null?void 0:A.height),C=_=>_.attr({width:_.width,height:_.height}),["width","height"].forEach(_=>{F[`${_}Setter`]=function(ie,K){this[K]=ie;let{alignByTranslate:Q,element:ae,width:re,height:oe,imgwidth:pe,imgheight:be}=this,xe=K==="width"?pe:be,Ee=1;c&&c.backgroundSize==="within"&&re&&oe&&pe&&be?(Ee=Math.min(re/pe,oe/be),ln(ae,{width:Math.round(pe*Ee),height:Math.round(be*Ee)})):ae&&xe&&ae.setAttribute(K,xe),!Q&&pe&&be&&this.translate(((re||0)-pe*Ee)/2,((oe||0)-be*Ee)/2)}}),Ar(a)&&F.attr({x:a,y:l}),F.isImg=!0,F.symbolUrl=n,Ar(F.imgwidth)&&Ar(F.imgheight)?C(F):(F.attr({width:0,height:0}),mf("img",{onload:function(){let _=df[w.chartIndex];this.width===0&&(ho(this,{position:"absolute",top:"-999em"}),an.body.appendChild(this)),Ml[v]={width:this.width,height:this.height},F.imgwidth=this.width,F.imgheight=this.height,F.element&&C(F),this.parentNode&&this.parentNode.removeChild(this),w.imgCount--,w.imgCount||!_||_.hasLoaded||_.onload()},src:v}),this.imgCount++)}return f}clipRect(n,a,l,u){return this.rect(n,a,l,u,0)}text(n,a,l,u){let d={};if(u&&(this.allowHTML||!this.forExport))return this.html(n,a,l);d.x=Math.round(a||0),l&&(d.y=Math.round(l)),Ar(n)&&(d.text=n);let c=this.createElement("text").attr(d);return u&&(!this.forExport||this.allowHTML)||(c.xSetter=function(f,m,v){let C=v.getElementsByTagName("tspan"),w=v.getAttribute(m);for(let S=0,M;S<C.length;S++)(M=C[S]).getAttribute(m)===w&&M.setAttribute(m,f);v.setAttribute(m,f)}),c}fontMetrics(n){let a=ar(n)?n:vf(Es.prototype.getStyle.call(n,"font-size")||0),l=a<24?a+3:Math.round(1.2*a),u=Math.round(.8*l);return{h:l,b:u,f:a}}rotCorr(n,a,l){let u=n;return a&&l&&(u=Math.max(u*Math.cos(a*Sl),4)),{x:-n/3*Math.sin(a*Sl),y:u}}pathToSegments(n){let a=[],l=[],u={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let d=0;d<n.length;d++)lr(l[0])&&ar(n[d])&&l.length===u[l[0].toUpperCase()]&&n.splice(d,0,l[0].replace("M","L").replace("m","l")),typeof n[d]=="string"&&(l.length&&a.push(l.slice(0)),l.length=0),l.push(n[d]);return a.push(l.slice(0)),a}label(n,a,l,u,d,c,f,m,v){return new Lr(this,n,a,l,u,d,c,f,m,v)}alignElements(){this.alignedObjects.forEach(n=>n.align())}}Or(ds.prototype,{Element:Es,SVG_NS:ff,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Fu,draw:pf}),Zn.registerRendererType("svg",ds,!0);let{composed:Uu,isFirefox:wf}=se,{attr:Gu,css:Hs,createElement:co,defined:po,extend:la,getAlignFactor:xf,isNumber:ha,pInt:Xu,pushUnique:Yu}=Fe;function $u(y,n,a){var u;let l=(u=this.div)==null?void 0:u.style;Es.prototype[`${n}Setter`].call(this,y,n,a),l&&(a.style[n]=l[n]=y)}let Cf=(y,n)=>{var a;if(!y.div){let l=Gu(y.element,"class"),u=y.css,d=co("div",l?{className:l}:void 0,{position:"absolute",left:`${y.translateX||0}px`,top:`${y.translateY||0}px`,...y.styles,display:y.display,opacity:y.opacity,visibility:y.visibility},((a=y.parentGroup)==null?void 0:a.div)||n);y.classSetter=(c,f,m)=>{m.setAttribute("class",c),d.className=c},y.translateXSetter=y.translateYSetter=(c,f)=>{y[f]=c,d.style[f==="translateX"?"left":"top"]=`${c}px`,y.doTransform=!0},y.scaleXSetter=y.scaleYSetter=(c,f)=>{y[f]=c,y.doTransform=!0},y.opacitySetter=y.visibilitySetter=$u,y.css=c=>(u.call(y,c),c.cursor&&(d.style.cursor=c.cursor),c.pointerEvents&&(d.style.pointerEvents=c.pointerEvents),y),y.on=function(){return Es.prototype.on.apply({element:d,onEvents:y.onEvents},arguments),y},y.div=d}return y.div};class hr extends Es{static compose(n){Yu(Uu,this.compose)&&(n.prototype.html=function(a,l,u){return new hr(this,"span").attr({text:a,x:Math.round(l),y:Math.round(u)})})}constructor(n,a){super(n,a),hr.useForeignObject?this.foreignObject=n.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...n.styledMode?{}:{fontFamily:n.style.fontFamily,fontSize:n.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(n,a,l){this.xCorr=-n*l,this.yCorr=-a}css(n){let a,{element:l}=this,u=l.tagName==="SPAN"&&n&&"width"in n,d=u&&n.width;return u&&(delete n.width,this.textWidth=Xu(d)||void 0,a=!0),(n==null?void 0:n.textOverflow)==="ellipsis"&&(n.overflow="hidden",n.whiteSpace="nowrap"),n!=null&&n.lineClamp&&(n.display="-webkit-box",n.WebkitLineClamp=n.lineClamp,n.WebkitBoxOrient="vertical",n.overflow="hidden"),ha(Number(n==null?void 0:n.fontSize))&&(n.fontSize+="px"),la(this.styles,n),Hs(l,n),a&&this.updateTransform(),this}htmlGetBBox(){let{element:n}=this;return{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}}updateTransform(){var F;if(!this.added){this.alignOnAdd=!0;return}let{element:n,foreignObject:a,oldTextWidth:l,renderer:u,rotation:d,rotationOriginX:c,rotationOriginY:f,scaleX:m,scaleY:v,styles:{display:C="inline-block",whiteSpace:w},textAlign:S="left",textWidth:M,translateX:L=0,translateY:N=0,x:z=0,y:A=0}=this;if(a||Hs(n,{marginLeft:`${L}px`,marginTop:`${N}px`}),n.tagName==="SPAN"){let _,ie=[d,S,n.innerHTML,M,this.textAlign].join(","),K=-(((F=this.parentGroup)==null?void 0:F.padding)*1)||0;if(M!==l){let oe=this.textPxLength?this.textPxLength:(Hs(n,{width:"",whiteSpace:w||"nowrap"}),n.offsetWidth),pe=M||0,be=!u.styledMode&&n.style.textOverflow===""&&n.style.webkitLineClamp;(pe>l||oe>pe||be)&&(/[\-\s\u00AD]/.test(n.textContent||n.innerText)||n.style.textOverflow==="ellipsis")&&(Hs(n,{width:(d||m||oe>pe||be)&&ha(M)?M+"px":"auto",display:C,whiteSpace:w||"normal"}),this.oldTextWidth=M)}a&&(Hs(n,{display:"inline-block",verticalAlign:"top"}),a.attr({width:u.width,height:u.height})),ie!==this.cTT&&(_=u.fontMetrics(n).b,po(d)&&!a&&(d!==(this.oldRotation||0)||S!==this.oldAlign)&&Hs(n,{transform:`rotate(${d}deg)`,transformOrigin:`${K}% ${K}px`}),this.getSpanCorrection(!po(d)&&!this.textWidth&&this.textPxLength||n.offsetWidth,_,xf(S)));let{xCorr:Q=0,yCorr:ae=0}=this,re={left:`${z+Q}px`,top:`${A+ae}px`,textAlign:S,transformOrigin:`${(c??z)-Q-z-K}px ${(f??A)-ae-A-K}px`};(m||v)&&(re.transform=`scale(${m??1},${v??1})`),a?(super.updateTransform(),ha(z)&&ha(A)?(a.attr({x:z+Q,y:A+ae,width:n.offsetWidth+3,height:n.offsetHeight,"transform-origin":n.getAttribute("transform-origin")||"0 0"}),Hs(n,{display:C,textAlign:S})):wf&&a.attr({width:0,height:0})):Hs(n,re),this.cTT=ie,this.oldRotation=d,this.oldAlign=S}}add(n){let{foreignObject:a,renderer:l}=this,u=l.box.parentNode,d=[];if(a)a.add(n),super.add(l.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(a));else{let c;if(this.parentGroup=n,n&&!(c=n.div)){let f=n;for(;f;)d.push(f),f=f.parentGroup;for(let m of d.reverse())c=Cf(m,u)}(c||u).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(n){n!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Mt.setElementHTML(this.element,n??""),this.textStr=n,this.doTransform=!0)}alignSetter(n){this.alignValue=this.textAlign=n,this.doTransform=!0}xSetter(n,a){this[a]=n,this.doTransform=!0}}let un=hr.prototype;un.visibilitySetter=un.opacitySetter=$u,un.ySetter=un.rotationSetter=un.rotationOriginXSetter=un.rotationOriginYSetter=un.xSetter,function(y){y.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},y.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:n}=this.axis.chart;return n(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(p||(p={}));let _v=p,{addEvent:jv,isFunction:Wv,objectEach:Ef,removeEvent:kf}=Fe;(g||(g={})).registerEventOptions=function(y,n){y.eventOptions=y.eventOptions||{},Ef(n.events,function(a,l){y.eventOptions[l]!==a&&(y.eventOptions[l]&&(kf(y,l,y.eventOptions[l]),delete y.eventOptions[l]),Wv(a)&&(y.eventOptions[l]=a,jv(y,l,a,{order:0})))})};let Ll=g,{deg2rad:Pl}=se,{clamp:Sf,correctFloat:ua,defined:ur,destroyObjectProperties:Mf,extend:dn,fireEvent:Zi,getAlignFactor:Ku,isNumber:ks,merge:Tf,objectEach:Rf,pick:Ss}=Fe,Qi=class{constructor(y,n,a,l,u){this.isNew=!0,this.isNewLabel=!0,this.axis=y,this.pos=n,this.type=a||"",this.parameters=u||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Zi(this,"init"),a||l||this.addLabel()}addLabel(){var ae,re;let y=this,n=y.axis,a=n.options,l=n.chart,u=n.categories,d=n.logarithmic,c=n.names,f=y.pos,m=Ss((ae=y.options)==null?void 0:ae.labels,a.labels),v=n.tickPositions,C=f===v[0],w=f===v[v.length-1],S=(!m.step||m.step===1)&&n.tickInterval===1,M=v.info,L=y.label,N,z,A,F=this.parameters.category||(u?Ss(u[f],c[f],f):f);d&&ks(F)&&(F=ua(d.lin2log(F))),n.dateTime&&(M?N=(z=l.time.resolveDTLFormat(a.dateTimeLabelFormats[!((re=a.grid)!=null&&re.enabled)&&M.higherRanks[f]||M.unitName])).main:ks(F)&&(N=n.dateTime.getXDateFormat(F,a.dateTimeLabelFormats||{}))),y.isFirst=C,y.isLast=w;let _={axis:n,chart:l,dateTimeLabelFormat:N,isFirst:C,isLast:w,pos:f,tick:y,tickPositionInfo:M,value:F};Zi(this,"labelFormat",_);let ie=oe=>m.formatter?m.formatter.call(oe,oe):m.format?(oe.text=n.defaultLabelFormatter.call(oe),Di.format(m.format,oe,l)):n.defaultLabelFormatter.call(oe),K=ie.call(_,_),Q=z==null?void 0:z.list;Q?y.shortenLabel=function(){for(A=0;A<Q.length;A++)if(dn(_,{dateTimeLabelFormat:Q[A]}),L.attr({text:ie.call(_,_)}),L.getBBox().width<n.getSlotWidth(y)-2*(m.padding||0))return;L.attr({text:""})}:y.shortenLabel=void 0,S&&n._addedPlotLB&&y.moveLabel(K,m),ur(L)||y.movedLabel?L&&L.textStr!==K&&!S&&(!L.textWidth||m.style.width||L.styles.width||L.css({width:null}),L.attr({text:K}),L.textPxLength=L.getBBox().width):(y.label=L=y.createLabel(K,m),y.rotation=0)}createLabel(y,n,a){let l=this.axis,{renderer:u,styledMode:d}=l.chart,c=n.style.whiteSpace,f=ur(y)&&n.enabled?u.text(y,a==null?void 0:a.x,a==null?void 0:a.y,n.useHTML).add(l.labelGroup):void 0;return f&&(d||f.css(Tf(n.style)),f.textPxLength=f.getBBox().width,!d&&c&&f.css({whiteSpace:c})),f}destroy(){Mf(this,this.axis)}getPosition(y,n,a,l){let u=this.axis,d=u.chart,c=l&&d.oldChartHeight||d.chartHeight,f={x:y?ua(u.translate(n+a,void 0,void 0,l)+u.transB):u.left+u.offset+(u.opposite?(l&&d.oldChartWidth||d.chartWidth)-u.right-u.left:0),y:y?c-u.bottom+u.offset-(u.opposite?u.height:0):ua(c-u.translate(n+a,void 0,void 0,l)-u.transB)};return f.y=Sf(f.y,-1e9,1e9),Zi(this,"afterGetPosition",{pos:f}),f}getLabelPosition(y,n,a,l,u,d,c,f){let m,v,C=this.axis,w=C.transA,S=C.isLinked&&C.linkedParent?C.linkedParent.reversed:C.reversed,M=C.staggerLines,L=C.tickRotCorr||{x:0,y:0},N=l||C.reserveSpaceDefault?0:-C.labelOffset*(C.labelAlign==="center"?.5:1),z=u.distance,A={};return m=C.side===0?a.rotation?-z:-a.getBBox().height:C.side===2?L.y+z:Math.cos(a.rotation*Pl)*(L.y-a.getBBox(!1,0).height/2),ur(u.y)&&(m=C.side===0&&C.horiz?u.y+m:u.y),y=y+Ss(u.x,[0,1,0,-1][C.side]*z)+N+L.x-(d&&l?d*w*(S?-1:1):0),n=n+m-(d&&!l?d*w*(S?1:-1):0),M&&(v=c/(f||1)%M,C.opposite&&(v=M-v-1),n+=v*(C.labelOffset/M)),A.x=y,A.y=Math.round(n),Zi(this,"afterGetLabelPosition",{pos:A,tickmarkOffset:d,index:c}),A}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(y,n,a,l,u=!1,d){return d.crispLine([["M",y,n],["L",y+(u?0:-a),n+(u?a:0)]],l)}handleOverflow(y){var z;let n=this.axis,a=n.options.labels,l=y.x,u=n.chart.chartWidth,d=n.chart.spacing,c=Ss(n.labelLeft,Math.min(n.pos,d[3])),f=Ss(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,u-d[1])),m=this.label,v=this.rotation,C=Ku(n.labelAlign||m.attr("align")),w=m.getBBox().width,S=n.getSlotWidth(this),M=S,L=1,N;v||a.overflow!=="justify"?v<0&&l-C*w<c?N=Math.round(l/Math.cos(v*Pl)-c):v>0&&l+C*w>f&&(N=Math.round((u-l)/Math.cos(v*Pl))):(l-C*w<c?M=y.x+M*(1-C)-c:l+(1-C)*w>f&&(M=f-y.x+M*C,L=-1),(M=Math.min(S,M))<S&&n.labelAlign==="center"&&(y.x+=L*(S-M-C*(S-Math.min(w,M)))),(w>M||n.autoRotation&&((z=m==null?void 0:m.styles)!=null&&z.width))&&(N=M)),N&&m&&(this.shortenLabel?this.shortenLabel():m.css(dn({},{width:Math.floor(N)+"px",lineClamp:+!n.isRadial})))}moveLabel(y,n){let a=this,l=a.label,u=a.axis,d=!1,c;l&&l.textStr===y?(a.movedLabel=l,d=!0,delete a.label):Rf(u.ticks,function(f){d||f.isNew||f===a||!f.label||f.label.textStr!==y||(a.movedLabel=f.label,d=!0,f.labelPos=a.movedLabel.xy,delete f.label)}),!d&&(a.labelPos||l)&&(c=a.labelPos||l.xy,a.movedLabel=a.createLabel(y,n,c),a.movedLabel&&a.movedLabel.attr({opacity:0}))}render(y,n,a){var L;let l=this.axis,u=l.horiz,d=this.pos,c=Ss(this.tickmarkOffset,l.tickmarkOffset),f=this.getPosition(u,d,c,n),m=f.x,v=f.y,C=l.pos,w=C+l.len,S=u?m:v,M=Ss(a,(L=this.label)==null?void 0:L.newOpacity,1);!l.chart.polar&&(ua(S)<C||S>w)&&(a=0),a??(a=1),this.isActive=!0,this.renderGridLine(n,a),this.renderMark(f,a),this.renderLabel(f,n,M,y),this.isNew=!1,Zi(this,"afterRender")}renderGridLine(y,n){let a=this.axis,l=a.options,u={},d=this.pos,c=this.type,f=Ss(this.tickmarkOffset,a.tickmarkOffset),m=a.chart.renderer,v=this.gridLine,C,w=l.gridLineWidth,S=l.gridLineColor,M=l.gridLineDashStyle;this.type==="minor"&&(w=l.minorGridLineWidth,S=l.minorGridLineColor,M=l.minorGridLineDashStyle),v||(a.chart.styledMode||(u.stroke=S,u["stroke-width"]=w||0,u.dashstyle=M),c||(u.zIndex=1),y&&(n=0),this.gridLine=v=m.path().attr(u).addClass("highcharts-"+(c?c+"-":"")+"grid-line").add(a.gridGroup)),v&&(C=a.getPlotLinePath({value:d+f,lineWidth:v.strokeWidth(),force:"pass",old:y,acrossPanes:!1}))&&v[y||this.isNew?"attr":"animate"]({d:C,opacity:n})}renderMark(y,n){let a=this.axis,l=a.options,u=a.chart.renderer,d=this.type,c=a.tickSize(d?d+"Tick":"tick"),f=y.x,m=y.y,v=Ss(l[d!=="minor"?"tickWidth":"minorTickWidth"],!d&&a.isXAxis?1:0),C=l[d!=="minor"?"tickColor":"minorTickColor"],w=this.mark,S=!w;c&&(a.opposite&&(c[0]=-c[0]),!w&&(this.mark=w=u.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(a.axisGroup),a.chart.styledMode||w.attr({stroke:C,"stroke-width":v})),w[S?"attr":"animate"]({d:this.getMarkPath(f,m,c[0],w.strokeWidth(),a.horiz,u),opacity:n}))}renderLabel(y,n,a,l){let u=this.axis,d=u.horiz,c=u.options,f=this.label,m=c.labels,v=m.step,C=Ss(this.tickmarkOffset,u.tickmarkOffset),w=y.x,S=y.y,M=!0;f&&ks(w)&&(f.xy=y=this.getLabelPosition(w,S,f,d,m,C,l,v),(!this.isFirst||this.isLast||c.showFirstLabel)&&(!this.isLast||this.isFirst||c.showLastLabel)?!d||m.step||m.rotation||n||a===0||this.handleOverflow(y):M=!1,v&&l%v&&(M=!1),M&&ks(y.y)?(y.opacity=a,f[this.isNewLabel?"attr":"animate"](y).show(!0),this.isNewLabel=!1):(f.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let y=this.label,n=this.axis;y&&!this.isNew&&(y.animate({opacity:0},void 0,y.destroy),delete this.label),n.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:cs}=di,{xAxis:qu,yAxis:Al}=_v,{defaultOptions:Ol}=Oi,{registerEventOptions:Lf}=Ll,{deg2rad:Ju}=se,{arrayMax:Zu,arrayMin:Pf,clamp:Dl,correctFloat:Gi,defined:ot,destroyObjectProperties:fo,erase:da,error:ps,extend:ca,fireEvent:Tt,getClosestDistance:Dr,insertItem:Af,isArray:Qu,isNumber:je,isString:ed,merge:es,normalizeTickInterval:Of,objectEach:pa,pick:Qe,relativeLength:fa,removeEvent:Df,splat:zf,syncTimeout:Nf}=Fe,td=(y,n)=>Of(n,void 0,void 0,Qe(y.options.allowDecimals,n<.5||y.tickAmount!==void 0),!!y.tickAmount);ca(Ol,{xAxis:qu,yAxis:es(qu,Al)});class cn{constructor(n,a,l){this.init(n,a,l)}init(n,a,l=this.coll){let u=l==="xAxis",d=this.isZAxis||(n.inverted?!u:u);this.chart=n,this.horiz=d,this.isXAxis=u,this.coll=l,Tt(this,"init",{userOptions:a}),this.opposite=Qe(a.opposite,this.opposite),this.side=Qe(a.side,this.side,d?2*!this.opposite:this.opposite?1:3),this.setOptions(a);let c=this.options,f=c.labels;this.type??(this.type=c.type||"linear"),this.uniqueNames??(this.uniqueNames=c.uniqueNames??!0),Tt(this,"afterSetType"),this.userOptions=a,this.minPixelPadding=0,this.reversed=Qe(c.reversed,this.reversed),this.visible=c.visible,this.zoomEnabled=c.zoomEnabled,this.hasNames=this.type==="category"||c.categories===!0,this.categories=Qu(c.categories)&&c.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=ot(c.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=c.minRange||c.maxZoom,this.range=c.range,this.offset=c.offset||0,this.max=void 0,this.min=void 0;let m=Qe(c.crosshair,zf(n.options.tooltip.crosshairs)[+!u]);this.crosshair=m===!0?{}:m,n.axes.indexOf(this)===-1&&(u?n.axes.splice(n.xAxis.length,0,this):n.axes.push(this),Af(this,n[this.coll])),n.orderItems(this.coll),this.series=this.series||[],n.inverted&&!this.isZAxis&&u&&!ot(this.reversed)&&(this.reversed=!0),this.labelRotation=je(f.rotation)?f.rotation:void 0,Lf(this,c),Tt(this,"afterInit")}setOptions(n){let a=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=es(a,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},Ol[this.coll],n),Tt(this,"afterSetOptions",{userOptions:n})}defaultLabelFormatter(){let n=this.axis,{numberFormatter:a}=this.chart,l=je(this.value)?this.value:NaN,u=n.chart.time,d=n.categories,c=this.dateTimeLabelFormat,f=Ol.lang,m=f.numericSymbols,v=f.numericSymbolMagnitude||1e3,C=n.logarithmic?Math.abs(l):n.tickInterval,w=m==null?void 0:m.length,S,M;if(d)M=`${this.value}`;else if(c)M=u.dateFormat(c,l,!0);else if(w&&m&&C>=1e3)for(;w--&&M===void 0;)C>=(S=Math.pow(v,w+1))&&10*l%S==0&&m[w]!==null&&l!==0&&(M=a(l/S,-1)+m[w]);return M===void 0&&(M=Math.abs(l)>=1e4?a(l,-1):a(l,-1,void 0,"")),M}getSeriesExtremes(){let n,a=this;Tt(this,"getSeriesExtremes",null,function(){a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.threshold=void 0,a.softThreshold=!a.isXAxis,a.series.forEach(l=>{if(l.reserveSpace()){let u=l.options,d,c=u.threshold,f,m;if(a.hasVisibleSeries=!0,a.positiveValuesOnly&&0>=(c||0)&&(c=void 0),a.isXAxis)(d=l.getColumn("x")).length&&(d=a.logarithmic?d.filter(v=>v>0):d,f=(n=l.getXExtremes(d)).min,m=n.max,je(f)||f instanceof Date||(d=d.filter(je),f=(n=l.getXExtremes(d)).min,m=n.max),d.length&&(a.dataMin=Math.min(Qe(a.dataMin,f),f),a.dataMax=Math.max(Qe(a.dataMax,m),m)));else{let v=l.applyExtremes();je(v.dataMin)&&(f=v.dataMin,a.dataMin=Math.min(Qe(a.dataMin,f),f)),je(v.dataMax)&&(m=v.dataMax,a.dataMax=Math.max(Qe(a.dataMax,m),m)),ot(c)&&(a.threshold=c),(!u.softThreshold||a.positiveValuesOnly)&&(a.softThreshold=!1)}}})}),Tt(this,"afterGetSeriesExtremes")}translate(n,a,l,u,d,c){var N;let f=this.linkedParent||this,m=u&&f.old?f.old.min:f.min;if(!je(m))return NaN;let v=f.minPixelPadding,C=(f.isOrdinal||((N=f.brokenAxis)==null?void 0:N.hasBreaks)||f.logarithmic&&d)&&!!f.lin2val,w=1,S=0,M=u&&f.old?f.old.transA:f.transA,L=0;return M||(M=f.transA),l&&(w*=-1,S=f.len),f.reversed&&(w*=-1,S-=w*(f.sector||f.len)),a?(L=(n=n*w+S-v)/M+m,C&&(L=f.lin2val(L))):(C&&(n=f.val2lin(n)),L=w*(n-m)*M+S+w*v+(je(c)?M*c:0),f.isRadial||(L=Gi(L))),L}toPixels(n,a){var l;return this.translate(((l=this.chart)==null?void 0:l.time.parse(n))??NaN,!1,!this.horiz,void 0,!0)+(a?0:this.pos)}toValue(n,a){return this.translate(n-(a?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(n){let a=this,l=a.chart,u=a.left,d=a.top,c=n.old,f=n.value,m=n.lineWidth,v=c&&l.oldChartHeight||l.chartHeight,C=c&&l.oldChartWidth||l.chartWidth,w=a.transB,S=n.translatedValue,M=n.force,L,N,z,A,F;function _(K,Q,ae){return M!=="pass"&&(K<Q||K>ae)&&(M?K=Dl(K,Q,ae):F=!0),K}let ie={value:f,lineWidth:m,old:c,force:M,acrossPanes:n.acrossPanes,translatedValue:S};return Tt(this,"getPlotLinePath",ie,function(K){L=z=(S=Dl(S=Qe(S,a.translate(f,void 0,void 0,c)),-1e9,1e9))+w,N=A=v-S-w,je(S)?a.horiz?(N=d,A=v-a.bottom+(a.options.isInternal?0:l.scrollablePixelsY||0),L=z=_(L,u,u+a.width)):(L=u,z=C-a.right+(l.scrollablePixelsX||0),N=A=_(N,d,d+a.height)):(F=!0,M=!1),K.path=F&&!M?void 0:l.renderer.crispLine([["M",L,N],["L",z,A]],m||1)}),ie.path}getLinearTickPositions(n,a,l){let u,d,c,f=Gi(Math.floor(a/n)*n),m=Gi(Math.ceil(l/n)*n),v=[];if(Gi(f+n)===f&&(c=20),this.single)return[a];for(u=f;u<=m&&(v.push(u),(u=Gi(u+n,c))!==d);)d=u;return v}getMinorTickInterval(){let{minorTicks:n,minorTickInterval:a}=this.options;return n===!0?Qe(a,"auto"):n!==!1?a:void 0}getMinorTickPositions(){var C;let n=this.options,a=this.tickPositions,l=this.minorTickInterval,u=this.pointRangePadding||0,d=(this.min||0)-u,c=(this.max||0)+u,f=(C=this.brokenAxis)!=null&&C.hasBreaks?this.brokenAxis.unitLength:c-d,m=[],v;if(f&&f/l<this.len/3){let w=this.logarithmic;if(w)this.paddedTicks.forEach(function(S,M,L){M&&m.push.apply(m,w.getLogTickPositions(l,L[M-1],L[M],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")m=m.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(l),d,c,n.startOfWeek));else for(v=d+(a[0]-d)%l;v<=c&&v!==m[0];v+=l)m.push(v)}return m.length!==0&&this.trimTicks(m),m}adjustForMinRange(){let n=this.options,a=this.logarithmic,l=this.chart.time,{max:u,min:d,minRange:c}=this,f,m,v,C;this.isXAxis&&c===void 0&&!a&&(c=ot(n.min)||ot(n.max)||ot(n.floor)||ot(n.ceiling)?null:Math.min(5*(Dr(this.series.map(w=>{let S=w.getColumn("x");return w.xIncrement?S.slice(0,2):S}))||0),this.dataMax-this.dataMin)),je(u)&&je(d)&&je(c)&&u-d<c&&(m=this.dataMax-this.dataMin>=c,f=(c-u+d)/2,v=[d-f,l.parse(n.min)??d-f],m&&(v[2]=a?a.log2lin(this.dataMin):this.dataMin),C=[(d=Zu(v))+c,l.parse(n.max)??d+c],m&&(C[2]=a?a.log2lin(this.dataMax):this.dataMax),(u=Pf(C))-d<c&&(v[0]=u-c,v[1]=l.parse(n.min)??u-c,d=Zu(v))),this.minRange=c,this.min=d,this.max=u}getClosest(){let n,a;if(this.categories)a=1;else{let l=[];this.series.forEach(function(u){let d=u.closestPointRange,c=u.getColumn("x");c.length===1?l.push(c[0]):u.sorted&&ot(d)&&u.reserveSpace()&&(a=ot(a)?Math.min(a,d):d)}),l.length&&(l.sort((u,d)=>u-d),n=Dr([l]))}return n&&a?Math.min(n,a):n||a}nameToX(n){let a=Qu(this.options.categories),l=a?this.categories:this.names,u=n.options.x,d;return n.series.requireSorting=!1,ot(u)||(u=this.uniqueNames&&l?a?l.indexOf(n.name):Qe(l.keys[n.name],-1):n.series.autoIncrement()),u===-1?!a&&l&&(d=l.length):je(u)&&(d=u),d!==void 0?(this.names[d]=n.name,this.names.keys[n.name]=d):n.x&&(d=n.x),d}updateNames(){let n=this,a=this.names;a.length>0&&(Object.keys(a.keys).forEach(function(l){delete a.keys[l]}),a.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(l=>{l.xIncrement=null,(!l.points||l.isDirtyData)&&(n.max=Math.max(n.max||0,l.dataTable.rowCount-1),l.processData(),l.generatePoints());let u=l.getColumn("x").slice();l.data.forEach((d,c)=>{let f=u[c];d!=null&&d.options&&d.name!==void 0&&(f=n.nameToX(d))!==void 0&&f!==d.x&&(u[c]=d.x=f)}),l.dataTable.setColumn("x",u)}))}setAxisTranslation(){var S;let n=this,a=n.max-n.min,l=n.linkedParent,u=!!n.categories,d=n.isXAxis,c=n.axisPointRange||0,f,m=0,v=0,C,w=n.transA;(d||u||c)&&(f=n.getClosest(),l?(m=l.minPointOffset,v=l.pointRangePadding):n.series.forEach(function(M){let L=u?1:d?Qe(M.options.pointRange,f,0):n.axisPointRange||0,N=M.options.pointPlacement;if(c=Math.max(c,L),!n.single||u){let z=M.is("xrange")?!d:d;m=Math.max(m,z&&ed(N)?0:L/2),v=Math.max(v,z&&N==="on"?0:L)}}),C=(S=n.ordinal)!=null&&S.slope&&f?n.ordinal.slope/f:1,n.minPointOffset=m*=C,n.pointRangePadding=v*=C,n.pointRange=Math.min(c,n.single&&u?1:a),d&&(n.closestPointRange=f)),n.translationSlope=n.transA=w=n.staticScale||n.len/(a+v||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=w*m,Tt(this,"afterSetAxisTranslation")}minFromRange(){let{max:n,min:a}=this;return je(n)&&je(a)&&n-a||void 0}setTickInterval(n){var Ae,Ne,Re,Ie;let{categories:a,chart:l,dataMax:u,dataMin:d,dateTime:c,isXAxis:f,logarithmic:m,options:v,softThreshold:C}=this,w=l.time,S=je(this.threshold)?this.threshold:void 0,M=this.minRange||0,{ceiling:L,floor:N,linkedTo:z,softMax:A,softMin:F}=v,_=je(z)&&((Ae=l[this.coll])==null?void 0:Ae[z]),ie=v.tickPixelInterval,K=v.maxPadding,Q=v.minPadding,ae=0,re,oe=je(v.tickInterval)&&v.tickInterval>=0?v.tickInterval:void 0,pe,be,xe,Ee;if(c||a||_||this.getTickAmount(),xe=Qe(this.userMin,w.parse(v.min)),Ee=Qe(this.userMax,w.parse(v.max)),_?(this.linkedParent=_,re=_.getExtremes(),this.min=Qe(re.min,re.dataMin),this.max=Qe(re.max,re.dataMax),this.type!==_.type&&ps(11,!0,l)):(C&&ot(S)&&je(u)&&je(d)&&(d>=S?(pe=S,Q=0):u<=S&&(be=S,K=0)),this.min=Qe(xe,pe,d),this.max=Qe(Ee,be,u)),je(this.max)&&je(this.min)&&(m&&(this.positiveValuesOnly&&!n&&0>=Math.min(this.min,Qe(d,this.min))&&ps(10,!0,l),this.min=Gi(m.log2lin(this.min),16),this.max=Gi(m.log2lin(this.max),16)),this.range&&je(d)&&(this.userMin=this.min=xe=Math.max(d,this.minFromRange()||0),this.userMax=Ee=this.max,this.range=void 0)),Tt(this,"foundExtremes"),this.adjustForMinRange(),je(this.min)&&je(this.max)){if(!je(this.userMin)&&je(F)&&F<this.min&&(this.min=xe=F),!je(this.userMax)&&je(A)&&A>this.max&&(this.max=Ee=A),a||this.axisPointRange||(Ne=this.stacking)!=null&&Ne.usePercentage||_||(ae=this.max-this.min)&&(!ot(xe)&&Q&&(this.min-=ae*Q),!ot(Ee)&&K&&(this.max+=ae*K)),!je(this.userMin)&&je(N)&&(this.min=Math.max(this.min,N)),!je(this.userMax)&&je(L)&&(this.max=Math.min(this.max,L)),C&&je(d)&&je(u)){let et=S||0;!ot(xe)&&this.min<et&&d>=et?this.min=v.minRange?Math.min(et,this.max-M):et:!ot(Ee)&&this.max>et&&u<=et&&(this.max=v.minRange?Math.max(et,this.min+M):et)}!l.polar&&this.min>this.max&&(ot(v.min)?this.max=this.min:ot(v.max)&&(this.min=this.max)),ae=this.max-this.min}if(this.min!==this.max&&je(this.min)&&je(this.max)?_&&!oe&&ie===_.options.tickPixelInterval?this.tickInterval=oe=_.tickInterval:this.tickInterval=Qe(oe,this.tickAmount?ae/Math.max(this.tickAmount-1,1):void 0,a?1:ae*ie/Math.max(this.len,ie)):this.tickInterval=1,f&&!n){let et=this.min!==((Re=this.old)==null?void 0:Re.min)||this.max!==((Ie=this.old)==null?void 0:Ie.max);this.series.forEach(function(lt){var ct;lt.forceCrop=(ct=lt.forceCropping)==null?void 0:ct.call(lt),lt.processData(et)}),Tt(this,"postProcessData",{hasExtremesChanged:et})}this.setAxisTranslation(),Tt(this,"initialAxisTranslation"),this.pointRange&&!oe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let De=Qe(v.minTickInterval,c&&!this.series.some(et=>!et.sorted)?this.closestPointRange:0);!oe&&De&&this.tickInterval<De&&(this.tickInterval=De),c||m||oe||(this.tickInterval=td(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var C,w;let n=this.options,a=n.tickPositions,l=n.tickPositioner,u=this.getMinorTickInterval(),d=!this.isPanning,c=d&&n.startOnTick,f=d&&n.endOnTick,m=[],v;if(this.tickmarkOffset=this.categories&&n.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&ot(this.min)&&!this.tickAmount&&(this.min%1==0||n.allowDecimals!==!1),a)m=a.slice();else if(je(this.min)&&je(this.max)){if(!((C=this.ordinal)!=null&&C.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))m=[this.min,this.max],ps(19,!1,this.chart);else if(this.dateTime)m=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,(w=this.ordinal)==null?void 0:w.positions,this.closestPointRange,!0);else if(this.logarithmic)m=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let S=this.tickInterval,M=S;for(;M<=2*S&&(m=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&m.length>this.tickAmount);)this.tickInterval=td(this,M*=1.1)}m.length>this.len&&(m=[m[0],m[m.length-1]])[0]===m[1]&&(m.length=1),l&&(this.tickPositions=m,(v=l.apply(this,[this.min,this.max]))&&(m=v))}this.tickPositions=m,this.minorTickInterval=u==="auto"&&this.tickInterval?this.tickInterval/n.minorTicksPerMajor:u,this.paddedTicks=m.slice(0),this.trimTicks(m,c,f),!this.isLinked&&je(this.min)&&je(this.max)&&(this.single&&m.length<2&&!this.categories&&!this.series.some(S=>S.is("heatmap")&&S.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),a||v||this.adjustTickAmount()),Tt(this,"afterSetTickPositions")}trimTicks(n,a,l){let u=n[0],d=n[n.length-1],c=!this.isOrdinal&&this.minPointOffset||0;if(Tt(this,"trimTicks"),!this.isLinked||!this.grid){if(a&&u!==-1/0)this.min=u;else for(;this.min-c>n[0];)n.shift();if(l)this.max=d;else for(;this.max+c<n[n.length-1];)n.pop();n.length===0&&ot(u)&&!this.options.tickPositions&&n.push((d+u)/2)}}alignToOthers(){let n,a=this,l=a.chart,u=[this],d=a.options,c=l.options.chart,f=this.coll==="yAxis"&&c.alignThresholds,m=[];if(a.thresholdAlignment=void 0,(c.alignTicks!==!1&&d.alignTicks||f)&&d.startOnTick!==!1&&d.endOnTick!==!1&&!a.logarithmic){let v=w=>{let{horiz:S,options:M}=w;return[S?M.left:M.top,M.width,M.height,M.pane].join(",")},C=v(this);l[this.coll].forEach(function(w){let{series:S}=w;S.length&&S.some(M=>M.visible)&&w!==a&&v(w)===C&&(n=!0,u.push(w))})}if(n&&f){u.forEach(C=>{let w=C.getThresholdAlignment(a);je(w)&&m.push(w)});let v=m.length>1?m.reduce((C,w)=>C+=w,0)/m.length:void 0;u.forEach(C=>{C.thresholdAlignment=v})}return n}getThresholdAlignment(n){if((!je(this.dataMin)||this!==n&&this.series.some(a=>a.isDirty||a.isDirtyData))&&this.getSeriesExtremes(),je(this.threshold)){let a=Dl((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(a=1-a),a}}getTickAmount(){let n=this.options,a=n.tickPixelInterval,l=n.tickAmount;ot(n.tickInterval)||l||!(this.len<a)||this.isRadial||this.logarithmic||!n.startOnTick||!n.endOnTick||(l=2),!l&&this.alignToOthers()&&(l=Math.ceil(this.len/a)+1),l<4&&(this.finalTickAmt=l,l=5),this.tickAmount=l}adjustTickAmount(){let n=this,{finalTickAmt:a,max:l,min:u,options:d,tickPositions:c,tickAmount:f,thresholdAlignment:m}=n,v=c==null?void 0:c.length,C=Qe(n.threshold,n.softThreshold?0:null),w,S,M=n.tickInterval,L,N=()=>c.push(Gi(c[c.length-1]+M)),z=()=>c.unshift(Gi(c[0]-M));if(je(m)&&(L=m<.5?Math.ceil(m*(f-1)):Math.floor(m*(f-1)),d.reversed&&(L=f-1-L)),n.hasData()&&je(u)&&je(l)){let A=()=>{n.transA*=(v-1)/(f-1),n.min=d.startOnTick?c[0]:Math.min(u,c[0]),n.max=d.endOnTick?c[c.length-1]:Math.max(l,c[c.length-1])};if(je(L)&&je(n.threshold)){for(;c[L]!==C||c.length!==f||c[0]>u||c[c.length-1]<l;){for(c.length=0,c.push(n.threshold);c.length<f;)c[L]===void 0||c[L]>n.threshold?z():N();if(M>8*n.tickInterval)break;M*=2}A()}else if(v<f){for(;c.length<f;)c.length%2||u===C?N():z();A()}if(ot(a)){for(S=w=c.length;S--;)(a===3&&S%2==1||a<=2&&S>0&&S<w-1)&&c.splice(S,1);n.finalTickAmt=void 0}}}setScale(){var c,f,m,v,C;let{coll:n,stacking:a}=this,l=!1,u=!1;this.series.forEach(w=>{var S;l=l||w.isDirtyData||w.isDirty,u=u||((S=w.xAxis)==null?void 0:S.isDirty)||!1}),this.setAxisSize();let d=this.len!==((c=this.old)==null?void 0:c.len);d||l||u||this.isLinked||this.forceRedraw||this.userMin!==((f=this.old)==null?void 0:f.userMin)||this.userMax!==((m=this.old)==null?void 0:m.userMax)||this.alignToOthers()?(a&&n==="yAxis"&&a.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),a&&n==="xAxis"&&a.buildStacks(),this.isDirty||(this.isDirty=d||this.min!==((v=this.old)==null?void 0:v.min)||this.max!==((C=this.old)==null?void 0:C.max))):a&&a.cleanStacks(),l&&delete this.allExtremes,Tt(this,"afterSetScale")}setExtremes(n,a,l=!0,u,d){let c=this.chart;this.series.forEach(f=>{delete f.kdTree}),n=c.time.parse(n),a=c.time.parse(a),Tt(this,"setExtremes",d=ca(d,{min:n,max:a}),f=>{this.userMin=f.min,this.userMax=f.max,this.eventArgs=f,l&&c.redraw(u)})}setAxisSize(){let n=this.chart,a=this.options,l=a.offsets||[0,0,0,0],u=this.horiz,d=this.width=Math.round(fa(Qe(a.width,n.plotWidth-l[3]+l[1]),n.plotWidth)),c=this.height=Math.round(fa(Qe(a.height,n.plotHeight-l[0]+l[2]),n.plotHeight)),f=this.top=Math.round(fa(Qe(a.top,n.plotTop+l[0]),n.plotHeight,n.plotTop)),m=this.left=Math.round(fa(Qe(a.left,n.plotLeft+l[3]),n.plotWidth,n.plotLeft));this.bottom=n.chartHeight-c-f,this.right=n.chartWidth-d-m,this.len=Math.max(u?d:c,0),this.pos=u?m:f}getExtremes(){let n=this.logarithmic;return{min:n?Gi(n.lin2log(this.min)):this.min,max:n?Gi(n.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(n){let a=this.logarithmic,l=a?a.lin2log(this.min):this.min,u=a?a.lin2log(this.max):this.max;return n===null||n===-1/0?n=l:n===1/0?n=u:l>n?n=l:u<n&&(n=u),this.translate(n,0,1,0,1)}autoLabelAlign(n){let a=(Qe(n,0)-90*this.side+720)%360,l={align:"center"};return Tt(this,"autoLabelAlign",l,function(u){a>15&&a<165?u.align="right":a>195&&a<345&&(u.align="left")}),l.align}tickSize(n){let a=this.options,l=Qe(a[n==="tick"?"tickWidth":"minorTickWidth"],n==="tick"&&this.isXAxis&&!this.categories?1:0),u=a[n==="tick"?"tickLength":"minorTickLength"],d;l&&u&&(a[n+"Position"]==="inside"&&(u=-u),d=[u,l]);let c={tickSize:d};return Tt(this,"afterTickSize",c),c.tickSize}labelMetrics(){let n=this.chart.renderer,a=this.ticks,l=a[Object.keys(a)[0]]||{};return this.chart.renderer.fontMetrics(l.label||l.movedLabel||n.box)}unsquish(){let n=this.options.labels,a=n.padding||0,l=this.horiz,u=this.tickInterval,d=this.len/((+!!this.categories+this.max-this.min)/u),c=n.rotation,f=Gi(.8*this.labelMetrics().h),m=Math.max(this.max-this.min,0),v=function(L){let N=(L+2*a)/(d||1);return(N=N>1?Math.ceil(N):1)*u>m&&L!==1/0&&d!==1/0&&m&&(N=Math.ceil(m/u)),Gi(N*u)},C=u,w,S=Number.MAX_VALUE,M;if(l){if(!n.staggerLines&&(je(c)?M=[c]:d<n.autoRotationLimit&&(M=n.autoRotation)),M){let L,N;for(let z of M)(z===c||z&&z>=-90&&z<=90)&&(N=(L=v(Math.abs(f/Math.sin(Ju*z))))+Math.abs(z/360))<S&&(S=N,w=z,C=L)}}else C=v(.75*f);return this.autoRotation=M,this.labelRotation=Qe(w,je(c)?c:0),n.step?u:C}getSlotWidth(n){let a=this.chart,l=this.horiz,u=this.options.labels,d=Math.max(this.tickPositions.length-!this.categories,1),c=a.margin[3];if(n&&je(n.slotWidth))return n.slotWidth;if(l&&u.step<2&&!this.isRadial)return u.rotation?0:(this.staggerLines||1)*this.len/d;if(!l){let f=u.style.width;if(f!==void 0)return parseInt(String(f),10);if(!this.opposite&&c)return c-a.spacing[3]}return .33*a.chartWidth}renderUnsquish(){let n=this.chart,a=n.renderer,l=this.tickPositions,u=this.ticks,d=this.options.labels,c=d.style,f=this.horiz,m=this.getSlotWidth(),v=Math.max(1,Math.round(m-(f?2*(d.padding||0):d.distance||0))),C={},w=this.labelMetrics(),S=c.lineClamp,M,L=S??(Math.floor(this.len/(l.length*w.h))||1),N=0;ed(d.rotation)||(C.rotation=d.rotation||0),l.forEach(function(z){var _;let A=u[z];A.movedLabel&&A.replaceMovedLabel();let F=((_=A.label)==null?void 0:_.textPxLength)||0;F>N&&(N=F)}),this.maxLabelLength=N,this.autoRotation?N>v&&N>w.h?C.rotation=this.labelRotation:this.labelRotation=0:m&&(M=v),C.rotation&&(M=N>.5*n.chartHeight?.33*n.chartHeight:N,S||(L=1)),this.labelAlign=d.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(C.align=this.labelAlign),l.forEach(function(z){let A=u[z],F=A==null?void 0:A.label,_=c.width,ie={};F&&(F.attr(C),A.shortenLabel?A.shortenLabel():M&&!_&&c.whiteSpace!=="nowrap"&&(M<(F.textPxLength||0)||F.element.tagName==="SPAN")?F.css(ca(ie,{width:`${M}px`,lineClamp:L})):!F.styles.width||ie.width||_||F.css({width:"auto"}),A.rotation=C.rotation)},this),this.tickRotCorr=a.rotCorr(w.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(n){return n.hasData()})||this.options.showEmpty&&ot(this.min)&&ot(this.max)}addTitle(n){let a,l=this.chart.renderer,u=this.horiz,d=this.opposite,c=this.options.title,f=this.chart.styledMode;this.axisTitle||((a=c.textAlign)||(a=(u?{low:"left",middle:"center",high:"right"}:{low:d?"right":"left",middle:"center",high:d?"left":"right"})[c.align]),this.axisTitle=l.text(c.text||"",0,0,c.useHTML).attr({zIndex:7,rotation:c.rotation||0,align:a}).addClass("highcharts-axis-title"),f||this.axisTitle.css(es(c.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),f||c.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[n?"show":"hide"](n)}generateTick(n){let a=this.ticks;a[n]?a[n].addLabel():a[n]=new Qi(this,n)}createGroups(){let{axisParent:n,chart:a,coll:l,options:u}=this,d=a.renderer,c=(f,m,v)=>d.g(f).attr({zIndex:v}).addClass(`highcharts-${l.toLowerCase()}${m} `+(this.isRadial?`highcharts-radial-axis${m} `:"")+(u.className||"")).add(n);this.axisGroup||(this.gridGroup=c("grid","-grid",u.gridZIndex),this.axisGroup=c("axis","",u.zIndex),this.labelGroup=c("axis-labels","-labels",u.labels.zIndex))}getOffset(){let n=this,{chart:a,horiz:l,options:u,side:d,ticks:c,tickPositions:f,coll:m}=n,v=a.inverted&&!n.isZAxis?[1,0,3,2][d]:d,C=n.hasData(),w=u.title,S=u.labels,M=je(u.crossing),L=a.axisOffset,N=a.clipOffset,z=[-1,1,1,-1][d],A,F=0,_,ie=0,K=0,Q,ae;if(n.showAxis=A=C||u.showEmpty,n.staggerLines=n.horiz&&S.staggerLines||void 0,n.createGroups(),C||n.isLinked?(f.forEach(function(re){n.generateTick(re)}),n.renderUnsquish(),n.reserveSpaceDefault=d===0||d===2||{1:"left",3:"right"}[d]===n.labelAlign,Qe(S.reserveSpace,!M&&null,n.labelAlign==="center"||null,n.reserveSpaceDefault)&&f.forEach(function(re){K=Math.max(c[re].getLabelSize(),K)}),n.staggerLines&&(K*=n.staggerLines),n.labelOffset=K*(n.opposite?-1:1)):pa(c,function(re,oe){re.destroy(),delete c[oe]}),w!=null&&w.text&&w.enabled!==!1&&(n.addTitle(A),A&&!M&&w.reserveSpace!==!1&&(n.titleOffset=F=n.axisTitle.getBBox()[l?"height":"width"],ie=ot(_=w.offset)?0:Qe(w.margin,l?5:10))),n.renderLine(),n.offset=z*Qe(u.offset,L[d]?L[d]+(u.margin||0):0),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},ae=d===0?-n.labelMetrics().h:d===2?n.tickRotCorr.y:0,Q=Math.abs(K)+ie,K&&(Q-=ae,Q+=z*(l?Qe(S.y,n.tickRotCorr.y+z*S.distance):Qe(S.x,z*S.distance))),n.axisTitleMargin=Qe(_,Q),n.getMaxLabelDimensions&&(n.maxLabelDimensions=n.getMaxLabelDimensions(c,f)),m!=="colorAxis"&&N){let re=this.tickSize("tick");L[d]=Math.max(L[d],(n.axisTitleMargin||0)+F+z*n.offset,Q,f!=null&&f.length&&re?re[0]+z*n.offset:0);let oe=!n.axisLine||u.offset?0:n.axisLine.strokeWidth()/2;N[v]=Math.max(N[v],oe)}Tt(this,"afterGetOffset")}getLinePath(n){let a=this.chart,l=this.opposite,u=this.offset,d=this.horiz,c=this.left+(l?this.width:0)+u,f=a.chartHeight-this.bottom-(l?this.height:0)+u;return l&&(n*=-1),a.renderer.crispLine([["M",d?this.left:c,d?f:this.top],["L",d?a.chartWidth-this.right:c,d?f:a.chartHeight-this.bottom]],n)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(n){let a=this.horiz,l=this.left,u=this.top,d=this.len,c=this.options.title,f=a?l:u,m=this.opposite,v=this.offset,C=c.x,w=c.y,S=this.chart.renderer.fontMetrics(n),M=n?Math.max(n.getBBox(!1,0).height-S.h-1,0):0,L={low:f+(a?0:d),middle:f+d/2,high:f+(a?d:0)}[c.align],N=(a?u+this.height:l)+(a?1:-1)*(m?-1:1)*(this.axisTitleMargin||0)+[-M,M,S.f,-M][this.side],z={x:a?L+C:N+(m?this.width:0)+v+C,y:a?N+w-(m?this.height:0)+v:L+w};return Tt(this,"afterGetTitlePosition",{titlePosition:z}),z}renderMinorTick(n,a){let l=this.minorTicks;l[n]||(l[n]=new Qi(this,n,"minor")),a&&l[n].isNew&&l[n].render(null,!0),l[n].render(null,!1,1)}renderTick(n,a,l){var c;let u=this.isLinked,d=this.ticks;(!u||n>=this.min&&n<=this.max||(c=this.grid)!=null&&c.isColumn)&&(d[n]||(d[n]=new Qi(this,n)),l&&d[n].isNew&&d[n].render(a,!0,-1),d[n].render(a))}render(){let n,a,l=this,u=l.chart,d=l.logarithmic,c=u.renderer,f=l.options,m=l.isLinked,v=l.tickPositions,C=l.axisTitle,w=l.ticks,S=l.minorTicks,M=l.alternateBands,L=f.stackLabels,N=f.alternateGridColor,z=f.crossing,A=l.tickmarkOffset,F=l.axisLine,_=l.showAxis,ie=cs(c.globalAnimation);if(l.labelEdge.length=0,l.overlap=!1,[w,S,M].forEach(function(K){pa(K,function(Q){Q.isActive=!1})}),je(z)){let K=this.isXAxis?u.yAxis[0]:u.xAxis[0],Q=[1,-1,-1,1][this.side];if(K){let ae=K.toPixels(z,!0);l.horiz&&(ae=K.len-ae),l.offset=Q*ae}}if(l.hasData()||m){let K=l.chart.hasRendered&&l.old&&je(l.old.min);l.minorTickInterval&&!l.categories&&l.getMinorTickPositions().forEach(function(Q){l.renderMinorTick(Q,K)}),v.length&&(v.forEach(function(Q,ae){l.renderTick(Q,ae,K)}),A&&(l.min===0||l.single)&&(w[-1]||(w[-1]=new Qi(l,-1,null,!0)),w[-1].render(-1))),N&&v.forEach(function(Q,ae){a=v[ae+1]!==void 0?v[ae+1]+A:l.max-A,ae%2==0&&Q<l.max&&a<=l.max+(u.polar?-A:A)&&(M[Q]||(M[Q]=new se.PlotLineOrBand(l,{})),n=Q+A,M[Q].options={from:d?d.lin2log(n):n,to:d?d.lin2log(a):a,color:N,className:"highcharts-alternate-grid"},M[Q].render(),M[Q].isActive=!0)}),l._addedPlotLB||(l._addedPlotLB=!0,(f.plotLines||[]).concat(f.plotBands||[]).forEach(function(Q){l.addPlotBandOrLine(Q)}))}[w,S,M].forEach(function(K){let Q=[],ae=ie.duration;pa(K,function(re,oe){re.isActive||(re.render(oe,!1,0),re.isActive=!1,Q.push(oe))}),Nf(function(){let re=Q.length;for(;re--;)K[Q[re]]&&!K[Q[re]].isActive&&(K[Q[re]].destroy(),delete K[Q[re]])},K!==M&&u.hasRendered&&ae?ae:0)}),F&&(F[F.isPlaced?"animate":"attr"]({d:this.getLinePath(F.strokeWidth())}),F.isPlaced=!0,F[_?"show":"hide"](_)),C&&_&&(C[C.isNew?"attr":"animate"](l.getTitlePosition(C)),C.isNew=!1),L!=null&&L.enabled&&l.stacking&&l.stacking.renderStackTotals(),l.old={len:l.len,max:l.max,min:l.min,transA:l.transA,userMax:l.userMax,userMin:l.userMin},l.isDirty=!1,Tt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(n){n.render()})),this.series.forEach(function(n){n.isDirty=!0})}getKeepProps(){return this.keepProps||cn.keepProps}destroy(n){let a=this,l=a.plotLinesAndBands,u=this.eventOptions;if(Tt(this,"destroy",{keepEvents:n}),n||Df(a),[a.ticks,a.minorTicks,a.alternateBands].forEach(function(d){fo(d)}),l){let d=l.length;for(;d--;)l[d].destroy()}for(let d in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(c){a[c]&&(a[c]=a[c].destroy())}),a.plotLinesAndBandsGroups)a.plotLinesAndBandsGroups[d]=a.plotLinesAndBandsGroups[d].destroy();pa(a,function(d,c){a.getKeepProps().indexOf(c)===-1&&delete a[c]}),this.eventOptions=u}drawCrosshair(n,a){var w;let l=this.crosshair,u=(l==null?void 0:l.snap)??!0,d=this.chart,c,f,m,v=this.cross,C;if(Tt(this,"drawCrosshair",{e:n,point:a}),n||(n=(w=this.cross)==null?void 0:w.e),l&&(ot(a)||!u)!==!1){if(u?ot(a)&&(f=Qe(this.coll!=="colorAxis"?a.crosshairPos:null,this.isXAxis?a.plotX:this.len-a.plotY)):f=n&&(this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos),ot(f)&&(C={value:a&&(this.isXAxis?a.x:Qe(a.stackY,a.y)),translatedValue:f},d.polar&&ca(C,{isCrosshair:!0,chartX:n==null?void 0:n.chartX,chartY:n==null?void 0:n.chartY,point:a}),c=this.getPlotLinePath(C)||null),!ot(c))return void this.hideCrosshair();m=this.categories&&!this.isRadial,v||(this.cross=v=d.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(m?"category ":"thin ")+(l.className||"")).attr({zIndex:Qe(l.zIndex,2)}).add(),!d.styledMode&&(v.attr({stroke:l.color||(m?At.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Qe(l.width,1)}).css({"pointer-events":"none"}),l.dashStyle&&v.attr({dashstyle:l.dashStyle}))),v.show().attr({d:c}),m&&!l.width&&v.attr({"stroke-width":this.transA}),this.cross.e=n}else this.hideCrosshair();Tt(this,"afterDrawCrosshair",{e:n,point:a})}hideCrosshair(){this.cross&&this.cross.hide(),Tt(this,"afterHideCrosshair")}update(n,a){let l=this.chart;n=es(this.userOptions,n),this.destroy(!0),this.init(l,n),l.isDirtyBox=!0,Qe(a,!0)&&l.redraw()}remove(n){let a=this.chart,l=this.coll,u=this.series,d=u.length;for(;d--;)u[d]&&u[d].remove(!1);da(a.axes,this),da(a[l]||[],this),a.orderItems(l),this.destroy(),a.isDirtyBox=!0,Qe(n,!0)&&a.redraw()}setTitle(n,a){this.update({title:n},a)}setCategories(n,a){this.update({categories:n},a)}}cn.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:zl,getMagnitude:Ff,normalizeTickInterval:If,timeUnits:ma}=Fe;(function(y){function n(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function a(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new l(this))}y.compose=function(u){return u.keepProps.includes("dateTime")||(u.keepProps.push("dateTime"),u.prototype.getTimeTicks=n,zl(u,"afterSetType",a)),u};class l{constructor(d){this.axis=d}normalizeTimeTickInterval(d,c){let f=c||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],m=f[f.length-1],v=ma[m[0]],C=m[1],w;for(w=0;w<f.length&&(v=ma[(m=f[w])[0]],C=m[1],!f[w+1]||!(d<=(v*C[C.length-1]+ma[f[w+1][0]])/2));w++);v===ma.year&&d<5*v&&(C=[1,2,5]);let S=If(d/v,C,m[0]==="year"?Math.max(Ff(d/v),1):1);return{unitRange:v,count:S,unitName:m[0]}}getXDateFormat(d,c){let{axis:f}=this,m=f.chart.time;return f.closestPointRange?m.getDateFormat(f.closestPointRange,d,f.options.startOfWeek,c)||m.resolveDTLFormat(c.year).main:m.resolveDTLFormat(c.day).main}}y.Additions=l})(x||(x={}));let Hf=x,{addEvent:id,normalizeTickInterval:Bf,pick:sd}=Fe;(function(y){function n(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new l(this))}function a(){let u=this.logarithmic;u&&(this.lin2val=function(d){return u.lin2log(d)},this.val2lin=function(d){return u.log2lin(d)})}y.compose=function(u){return u.keepProps.includes("logarithmic")||(u.keepProps.push("logarithmic"),id(u,"afterSetType",n),id(u,"afterInit",a)),u};class l{constructor(d){this.axis=d}getLogTickPositions(d,c,f,m){let v=this.axis,C=v.len,w=v.options,S=[];if(m||(this.minorAutoInterval=void 0),d>=.5)d=Math.round(d),S=v.getLinearTickPositions(d,c,f);else if(d>=.08){let M,L,N,z,A,F,_,ie=Math.floor(c);for(M=d>.3?[1,2,4]:d>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],L=ie;L<f+1&&!_;L++)for(N=0,z=M.length;N<z&&!_;N++)(A=this.log2lin(this.lin2log(L)*M[N]))>c&&(!m||F<=f)&&F!==void 0&&S.push(F),F>f&&(_=!0),F=A}else{let M=this.lin2log(c),L=this.lin2log(f),N=m?v.getMinorTickInterval():w.tickInterval,z=w.tickPixelInterval/(m?5:1),A=m?C/v.tickPositions.length:C;d=Bf(d=sd(N==="auto"?null:N,this.minorAutoInterval,(L-M)*z/(A||1))),S=v.getLinearTickPositions(d,M,L).map(this.log2lin),m||(this.minorAutoInterval=d/5)}return m||(v.tickInterval=d),S}lin2log(d){return Math.pow(10,d)}log2lin(d){return Math.log(d)/Math.LN10}}y.Additions=l})(k||(k={}));let _f=k,{erase:jf,extend:rd,isNumber:nd}=Fe;(function(y){let n;function a(v){return this.addPlotBandOrLine(v,"plotBands")}function l(v,C){let w=this.userOptions,S=new n(this,v);if(this.visible&&(S=S.render()),S){if(this._addedPlotLB||(this._addedPlotLB=!0,(w.plotLines||[]).concat(w.plotBands||[]).forEach(M=>{this.addPlotBandOrLine(M)})),C){let M=w[C]||[];M.push(v),w[C]=M}this.plotLinesAndBands.push(S)}return S}function u(v){return this.addPlotBandOrLine(v,"plotLines")}function d(v,C,w){w=w||this.options;let S=this.getPlotLinePath({value:C,force:!0,acrossPanes:w.acrossPanes}),M=[],L=this.horiz,N=!nd(this.min)||!nd(this.max)||v<this.min&&C<this.min||v>this.max&&C>this.max,z=this.getPlotLinePath({value:v,force:!0,acrossPanes:w.acrossPanes}),A,F=1,_;if(z&&S)for(N&&(_=z.toString()===S.toString(),F=0),A=0;A<z.length;A+=2){let ie=z[A],K=z[A+1],Q=S[A],ae=S[A+1];(ie[0]==="M"||ie[0]==="L")&&(K[0]==="M"||K[0]==="L")&&(Q[0]==="M"||Q[0]==="L")&&(ae[0]==="M"||ae[0]==="L")&&(L&&Q[1]===ie[1]?(Q[1]+=F,ae[1]+=F):L||Q[2]!==ie[2]||(Q[2]+=F,ae[2]+=F),M.push(["M",ie[1],ie[2]],["L",K[1],K[2]],["L",ae[1],ae[2]],["L",Q[1],Q[2]],["Z"])),M.isFlat=_}return M}function c(v){this.removePlotBandOrLine(v)}function f(v){let C=this.plotLinesAndBands,w=this.options,S=this.userOptions;if(C){let M=C.length;for(;M--;)C[M].id===v&&C[M].destroy();[w.plotLines||[],S.plotLines||[],w.plotBands||[],S.plotBands||[]].forEach(function(L){var N;for(M=L.length;M--;)((N=L[M])==null?void 0:N.id)===v&&jf(L,L[M])})}}function m(v){this.removePlotBandOrLine(v)}y.compose=function(v,C){let w=C.prototype;return w.addPlotBand||(n=v,rd(w,{addPlotBand:a,addPlotLine:u,addPlotBandOrLine:l,getPlotBandPath:d,removePlotBand:c,removePlotLine:m,removePlotBandOrLine:f})),C}})(R||(R={}));let od=R,{addEvent:Wf,arrayMax:mo,arrayMin:Nl,defined:Ms,destroyObjectProperties:Vf,erase:Uf,fireEvent:Gf,merge:go,objectEach:Xf,pick:Yf}=Fe;class bo{static compose(n,a){return Wf(n,"afterInit",function(){this.labelCollectors.push(()=>{var u;let l=[];for(let d of this.axes)for(let{label:c,options:f}of d.plotLinesAndBands)c&&!((u=f==null?void 0:f.label)!=null&&u.allowOverlap)&&l.push(c);return l})}),od.compose(bo,a)}constructor(n,a){this.axis=n,this.options=a,this.id=a.id}render(){Gf(this,"render");let{axis:n,options:a}=this,{horiz:l,logarithmic:u}=n,{color:d,events:c,zIndex:f=0}=a,{renderer:m,time:v}=n.chart,C={},w=v.parse(a.to),S=v.parse(a.from),M=v.parse(a.value),L=a.borderWidth,N=a.label,{label:z,svgElem:A}=this,F=[],_,ie=Ms(S)&&Ms(w),K=Ms(M),Q=!A,ae={class:"highcharts-plot-"+(ie?"band ":"line ")+(a.className||"")},re=ie?"bands":"lines";if(!n.chart.styledMode&&(K?(ae.stroke=d||"#999999",ae["stroke-width"]=Yf(a.width,1),a.dashStyle&&(ae.dashstyle=a.dashStyle)):ie&&(ae.fill=d||"#e6e9ff",L&&(ae.stroke=a.borderColor,ae["stroke-width"]=L))),C.zIndex=f,re+="-"+f,(_=n.plotLinesAndBandsGroups[re])||(n.plotLinesAndBandsGroups[re]=_=m.g("plot-"+re).attr(C).add()),A||(this.svgElem=A=m.path().attr(ae).add(_)),Ms(M))F=n.getPlotLinePath({value:(u==null?void 0:u.log2lin(M))??M,lineWidth:A.strokeWidth(),acrossPanes:a.acrossPanes});else{if(!(Ms(S)&&Ms(w)))return;F=n.getPlotBandPath((u==null?void 0:u.log2lin(S))??S,(u==null?void 0:u.log2lin(w))??w,a)}return!this.eventsAdded&&c&&(Xf(c,(oe,pe)=>{A==null||A.on(pe,be=>{c[pe].apply(this,[be])})}),this.eventsAdded=!0),(Q||!A.d)&&(F!=null&&F.length)?A.attr({d:F}):A&&(F?(A.show(),A.animate({d:F})):A.d&&(A.hide(),z&&(this.label=z=z.destroy()))),N&&(Ms(N.text)||Ms(N.formatter))&&(F!=null&&F.length)&&n.width>0&&n.height>0&&!F.isFlat?(N=go({align:l&&ie?"center":void 0,x:l?!ie&&4:10,verticalAlign:!l&&ie?"middle":void 0,y:l?ie?16:10:ie?6:-4,rotation:l&&!ie?90:0,...ie?{inside:!0}:{}},N),this.renderLabel(N,F,ie,f)):z&&z.hide(),this}renderLabel(n,a,l,u){var L,N,z;let d=this.axis,c=d.chart.renderer,f=n.inside,m=this.label;m||(this.label=m=c.text(this.getLabelText(n),0,0,n.useHTML).attr({align:n.textAlign||n.align,rotation:n.rotation,class:"highcharts-plot-"+(l?"band":"line")+"-label "+(n.className||""),zIndex:u}),d.chart.styledMode||m.css(go({color:(N=(L=d.chart.options.title)==null?void 0:L.style)==null?void 0:N.color,fontSize:"0.8em",textOverflow:l&&!f?"":"ellipsis"},n.style)),m.add());let v=a.xBounds||[a[0][1],a[1][1],l?a[2][1]:a[0][1]],C=a.yBounds||[a[0][2],a[1][2],l?a[2][2]:a[0][2]],w=Nl(v),S=Nl(C),M=mo(v)-w;m.align(n,!1,{x:w,y:S,width:M,height:mo(C)-S}),m.alignAttr.y-=c.fontMetrics(m).b,(!m.alignValue||m.alignValue==="left"||Ms(f))&&m.css({width:(((z=n.style)==null?void 0:z.width)||(l&&f?M:m.rotation===90?d.height-(m.alignAttr.y-d.top):(n.clip?d.width:d.chart.chartWidth)-(m.alignAttr.x-d.left)))+"px"}),m.show(!0)}getLabelText(n){return Ms(n.formatter)?n.formatter.call(this):n.text}destroy(){Uf(this.axis.plotLinesAndBands,this),delete this.axis,Vf(this)}}let{animObject:ad}=di,{format:ga}=Di,{composed:ba,dateFormats:ld,doc:zr,isSafari:hd}=se,{distribute:ud}=Qn,{addEvent:$f,clamp:Bs,css:Nr,discardElement:oi,extend:Kf,fireEvent:P,getAlignFactor:b,isArray:E,isNumber:T,isObject:O,isString:I,merge:H,pick:G,pushUnique:q,splat:$,syncTimeout:te}=Fe;class J{constructor(n,a,l){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=n,this.init(n,a),this.pointer=l}bodyFormatter(n){return n.map(a=>{let l=a.series.tooltipOptions,u=a.formatPrefix||"point";return(l[u+"Formatter"]||a.tooltipFormatter).call(a,l[u+"Format"]||"")})}cleanSplit(n){this.chart.series.forEach(function(a){let l=a==null?void 0:a.tt;l&&(!l.isActive||n?a.tt=l.destroy():l.isActive=!1)})}defaultFormatter(n){let a,l=this.points||$(this);return(a=(a=[n.headerFooterFormatter(l[0])]).concat(n.bodyFormatter(l))).push(n.headerFooterFormatter(l[0],!0)),a}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),oi(this.container)),Fe.clearTimeout(this.hideTimer)}getAnchor(n,a){var C;let l,{chart:u,pointer:d}=this,c=u.inverted,f=u.plotTop,m=u.plotLeft;if(n=$(n),(C=n[0].series)!=null&&C.yAxis&&!n[0].series.yAxis.options.reversedStacks&&(n=n.slice().reverse()),this.followPointer&&a)a.chartX===void 0&&(a=d.normalize(a)),l=[a.chartX-m,a.chartY-f];else if(n[0].tooltipPos)l=n[0].tooltipPos;else{let w=0,S=0;n.forEach(function(M){let L=M.pos(!0);L&&(w+=L[0],S+=L[1])}),w/=n.length,S/=n.length,this.shared&&n.length>1&&a&&(c?w=a.chartX:S=a.chartY),l=[w-m,S-f]}let v={point:n[0],ret:l};return P(this,"getAnchor",v),v.ret.map(Math.round)}getClassName(n,a,l){let u=this.options,d=n.series,c=d.options;return[u.className,"highcharts-label",l&&"highcharts-tooltip-header",a?"highcharts-tooltip-box":"highcharts-tooltip",!l&&"highcharts-color-"+G(n.colorIndex,d.colorIndex),c==null?void 0:c.className].filter(I).join(" ")}getLabel({anchorX:n,anchorY:a}={anchorX:0,anchorY:0}){let l=this,u=this.chart.styledMode,d=this.options,c=this.split&&this.allowShared,f=this.container,m=this.chart.renderer;if(this.label){let v=!this.label.hasClass("highcharts-label");(!c&&v||c&&!v)&&this.destroy()}if(!this.label){if(this.outside){let v=this.chart,C=v.options.chart.style,w=Zn.getRendererType();this.container=f=se.doc.createElement("div"),f.className="highcharts-tooltip-container "+(v.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Nr(f,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((C==null?void 0:C.zIndex)||0)+3)}),this.renderer=m=new w(f,0,0,C,void 0,void 0,m.styledMode)}if(c?this.label=m.g("tooltip"):(this.label=m.label("",n,a,d.shape||"callout",void 0,void 0,d.useHTML,void 0,"tooltip").attr({padding:d.padding,r:d.borderRadius}),u||this.label.attr({fill:d.backgroundColor,"stroke-width":d.borderWidth||0}).css(d.style).css({pointerEvents:d.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),l.outside){let v=this.label;[v.xSetter,v.ySetter].forEach((C,w)=>{v[w?"ySetter":"xSetter"]=S=>{C.call(v,l.distance),v[w?"y":"x"]=S,f&&(f.style[w?"top":"left"]=`${S}px`)}})}this.label.attr({zIndex:8}).shadow(d.shadow??!d.fixed).add()}return f&&!f.parentElement&&se.doc.body.appendChild(f),this.label}getPlayingField(){let{body:n,documentElement:a}=zr,{chart:l,distance:u,outside:d}=this;return{width:d?Math.max(n.scrollWidth,a.scrollWidth,n.offsetWidth,a.offsetWidth,a.clientWidth)-2*u-2:l.chartWidth,height:d?Math.max(n.scrollHeight,a.scrollHeight,n.offsetHeight,a.offsetHeight,a.clientHeight):l.chartHeight}}getPosition(n,a,l){var Ae,Ne;let{distance:u,chart:d,outside:c,pointer:f}=this,{inverted:m,plotLeft:v,plotTop:C,polar:w}=d,{plotX:S=0,plotY:M=0}=l,L={},N=m&&l.h||0,{height:z,width:A}=this.getPlayingField(),F=f.getChartPosition(),_=Re=>Re*F.scaleX,ie=Re=>Re*F.scaleY,K=Re=>{let Ie=Re==="x";return[Re,Ie?A:z,Ie?n:a].concat(c?[Ie?_(n):ie(a),Ie?F.left-u+_(S+v):F.top-u+ie(M+C),0,Ie?A:z]:[Ie?n:a,Ie?S+v:M+C,Ie?v:C,Ie?v+d.plotWidth:C+d.plotHeight])},Q=K("y"),ae=K("x"),re,oe=!!l.negative;!w&&((Ne=(Ae=d.hoverSeries)==null?void 0:Ae.yAxis)!=null&&Ne.reversed)&&(oe=!oe);let pe=!this.followPointer&&G(l.ttBelow,!w&&!m===oe),be=function(Re,Ie,et,lt,ct,ki,st){let wt=c?Re==="y"?ie(u):_(u):u,Je=(et-lt)/2,Ge=lt<ct-u,Qt=ct+u+lt<Ie,xt=ct-wt-et+Je,Rt=ct+wt-Je;if(pe&&Qt)L[Re]=Rt;else if(!pe&&Ge)L[Re]=xt;else if(Ge)L[Re]=Math.min(st-lt,xt-N<0?xt:xt-N);else{if(!Qt)return L[Re]=0,!1;L[Re]=Math.max(ki,Rt+N+et>Ie?Rt:Rt+N)}},xe=function(Re,Ie,et,lt,ct){if(ct<u||ct>Ie-u)return!1;ct<et/2?L[Re]=1:ct>Ie-lt/2?L[Re]=Ie-lt-2:L[Re]=ct-et/2},Ee=function(Re){[Q,ae]=[ae,Q],re=Re},De=()=>{be.apply(0,Q)!==!1?xe.apply(0,ae)!==!1||re||(Ee(!0),De()):re?L.x=L.y=0:(Ee(!0),De())};return(m&&!w||this.len>1)&&Ee(),De(),L}getFixedPosition(n,a,l){var S;let u=l.series,{chart:d,options:c,split:f}=this,m=c.position,v=m.relativeTo,C=c.shared||(S=u==null?void 0:u.yAxis)!=null&&S.isRadial&&(v==="pane"||!v)?"plotBox":v,w=C==="chart"?d.renderer:d[C]||d.getClipBox(u,!0);return{x:w.x+(w.width-n)*b(m.align)+m.x,y:w.y+(w.height-a)*b(m.verticalAlign)+(!f&&m.y||0)}}hide(n){let a=this;Fe.clearTimeout(this.hideTimer),n=G(n,this.options.hideDelay),this.isHidden||(this.hideTimer=te(function(){let l=a.getLabel();a.getLabel().animate({opacity:0},{duration:n&&150,complete:()=>{l.hide(),a.container&&a.container.remove()}}),a.isHidden=!0},n))}init(n,a){this.chart=n,this.options=a,this.crosshairs=[],this.isHidden=!0,this.split=a.split&&!n.inverted&&!n.polar,this.shared=a.shared||this.split,this.outside=G(a.outside,!!(n.scrollablePixelsX||n.scrollablePixelsY))}shouldStickOnContact(n){return!!(!this.followPointer&&this.options.stickOnContact&&(!n||this.pointer.inClass(n.target,"highcharts-tooltip")))}move(n,a,l,u){let{followPointer:d,options:c}=this,f=ad(!d&&!this.isHidden&&!c.fixed&&c.animation),m=d||(this.len||0)>1,v={x:n,y:a};m?v.anchorX=v.anchorY=NaN:(v.anchorX=l,v.anchorY=u),f.step=()=>this.drawTracker(),this.getLabel().animate(v,f)}refresh(n,a){let{chart:l,options:u,pointer:d,shared:c}=this,f=$(n),m=f[0],v=u.format,C=u.formatter||this.defaultFormatter,w=l.styledMode,S=this.allowShared;if(!u.enabled||!m.series)return;Fe.clearTimeout(this.hideTimer),this.allowShared=!(!E(n)&&n.series&&n.series.noSharedTooltip),S=S&&!this.allowShared,this.followPointer=!this.split&&m.series.tooltipOptions.followPointer;let M=this.getAnchor(n,a),L=M[0],N=M[1];c&&this.allowShared&&(d.applyInactiveState(f),f.forEach(F=>F.setState("hover")),m.points=f),this.len=f.length;let z=I(v)?ga(v,m,l):C.call(m,this);m.points=void 0;let A=m.series;if(this.distance=G(A.tooltipOptions.distance,16),z===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(z,f);else{let F=L,_=N;if(a&&d.isDirectTouch&&(F=a.chartX-l.plotLeft,_=a.chartY-l.plotTop),!(l.polar||A.options.clip===!1||f.some(ie=>d.isDirectTouch||ie.series.shouldShowTooltip(F,_))))return void this.hide();{let ie=this.getLabel(S&&this.tt||{});(!u.style.width||w)&&ie.css({width:(this.outside?this.getPlayingField():l.spacingBox).width+"px"}),ie.attr({class:this.getClassName(m),text:z&&z.join?z.join(""):z}),this.outside&&ie.attr({x:Bs(ie.x||0,0,this.getPlayingField().width-(ie.width||0)-1)}),w||ie.attr({stroke:u.borderColor||m.color||A.color||"#666666"}),this.updatePosition({plotX:L,plotY:N,negative:m.negative,ttBelow:m.ttBelow,series:A,h:M[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}P(this,"refresh")}renderSplit(n,a){var ct,ki;let l=this,{chart:u,chart:{chartWidth:d,chartHeight:c,plotHeight:f,plotLeft:m,plotTop:v,scrollablePixelsY:C=0,scrollablePixelsX:w,styledMode:S},distance:M,options:L,options:{fixed:N,position:z,positioner:A},pointer:F}=l,{scrollLeft:_=0,scrollTop:ie=0}=((ct=u.scrollablePlotArea)==null?void 0:ct.scrollingContainer)||{},K=l.outside&&typeof w!="number"?zr.documentElement.getBoundingClientRect():{left:_,right:_+d},Q=l.getLabel(),ae=this.renderer||u.renderer,re=!!((ki=u.xAxis[0])!=null&&ki.opposite),{left:oe,top:pe}=F.getChartPosition(),be=A||N,xe=v+ie,Ee=0,De=f-C,Ae=function(st,wt,Je,Ge=[0,0],Qt=!0){let xt,Rt;if(Je.isHeader)Rt=re?0:De,xt=Bs(Ge[0]-st/2,K.left,K.right-st-(l.outside?oe:0));else if(N&&Je){let fi=l.getFixedPosition(st,wt,Je);xt=fi.x,Rt=fi.y-xe}else Rt=Ge[1]-xe,xt=Bs(xt=Qt?Ge[0]-st-M:Ge[0]+M,Qt?xt:K.left,K.right);return{x:xt,y:Rt}};I(n)&&(n=[!1,n]);let Ne=n.slice(0,a.length+1).reduce(function(st,wt,Je){if(wt!==!1&&wt!==""){let Ge=a[Je-1]||{isHeader:!0,plotX:a[0].plotX,plotY:f,series:{}},Qt=Ge.isHeader,xt=Qt?l:Ge.series,Rt=xt.tt=function(yi,zt,Yl){let vn=yi,{isHeader:Co,series:$l}=zt,Ys=$l.tooltipOptions||L;if(!vn){let xa={padding:Ys.padding,r:Ys.borderRadius};S||(xa.fill=Ys.backgroundColor,xa["stroke-width"]=Ys.borderWidth??(N&&!Co?0:1)),vn=ae.label("",0,0,Ys[Co?"headerShape":"shape"]||(N&&!Co?"rect":"callout"),void 0,void 0,Ys.useHTML).addClass(l.getClassName(zt,!0,Co)).attr(xa).add(Q)}return vn.isActive=!0,vn.attr({text:Yl}),S||vn.css(Ys.style).attr({stroke:Ys.borderColor||zt.color||$l.color||"#333333"}),vn}(xt.tt,Ge,wt.toString()),fi=Rt.getBBox(),Ir=fi.width+Rt.strokeWidth();Qt&&(Ee=fi.height,De+=Ee,re&&(xe-=Ee));let{anchorX:Ts,anchorY:Si}=function(yi){let zt,Yl,{isHeader:vn,plotX:Co=0,plotY:$l=0,series:Ys}=yi;if(vn)zt=Math.max(m+Co,m),Yl=v+f/2;else{let{xAxis:xa,yAxis:Zy}=Ys;zt=xa.pos+Bs(Co,-M,xa.len+M),Ys.shouldShowTooltip(0,Zy.pos-v+$l,{ignoreX:!0})&&(Yl=Zy.pos+$l)}return{anchorX:zt=Bs(zt,K.left-M,K.right+M),anchorY:Yl}}(Ge);if(typeof Si=="number"){let yi=fi.height+1,zt=(A||Ae).call(l,Ir,yi,Ge,[Ts,Si]);st.push({align:be?0:void 0,anchorX:Ts,anchorY:Si,boxWidth:Ir,point:Ge,rank:G(zt.rank,+!!Qt),size:yi,target:zt.y,tt:Rt,x:zt.x})}else Rt.isActive=!1}return st},[]);!be&&Ne.some(st=>{let{outside:wt}=l,Je=(wt?oe:0)+st.anchorX;return Je<K.left&&Je+st.boxWidth<K.right||Je<oe-K.left+st.boxWidth&&K.right-Je>Je})&&(Ne=Ne.map(st=>{let{x:wt,y:Je}=Ae.call(this,st.boxWidth,st.size,st.point,[st.anchorX,st.anchorY],!1);return Kf(st,{target:Je,x:wt})})),l.cleanSplit(),ud(Ne,De);let Re={left:oe,right:oe};Ne.forEach(function(st){let{x:wt,boxWidth:Je,isHeader:Ge}=st;!Ge&&(l.outside&&oe+wt<Re.left&&(Re.left=oe+wt),!Ge&&l.outside&&Re.left+Je>Re.right&&(Re.right=oe+wt))}),Ne.forEach(function(st){let{x:wt,anchorX:Je,anchorY:Ge,pos:Qt,point:{isHeader:xt}}=st,Rt={visibility:Qt===void 0?"hidden":"inherit",x:wt,y:(Qt||0)+xe+(N&&z.y||0),anchorX:Je,anchorY:Ge};if(l.outside&&wt<Je){let fi=oe-Re.left;fi>0&&(xt||(Rt.x=wt+fi,Rt.anchorX=Je+fi),xt&&(Rt.x=(Re.right-Re.left)/2,Rt.anchorX=Je+fi))}st.tt.attr(Rt)});let{container:Ie,outside:et,renderer:lt}=l;if(et&&Ie&&lt){let{width:st,height:wt,x:Je,y:Ge}=Q.getBBox();lt.setSize(st+Je,wt+Ge,!1),Ie.style.left=Re.left+"px",Ie.style.top=pe+"px"}hd&&Q.attr({opacity:Q.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let n=this.chart,a=this.label,l=this.shared?n.hoverPoints:n.hoverPoint;if(!a||!l)return;let u={x:0,y:0,width:0,height:0},d=this.getAnchor(l),c=a.getBBox();d[0]+=n.plotLeft-(a.translateX||0),d[1]+=n.plotTop-(a.translateY||0),u.x=Math.min(0,d[0]),u.y=Math.min(0,d[1]),u.width=d[0]<0?Math.max(Math.abs(d[0]),c.width-d[0]):Math.max(Math.abs(d[0]),c.width),u.height=d[1]<0?Math.max(Math.abs(d[1]),c.height-Math.abs(d[1])):Math.max(Math.abs(d[1]),c.height),this.tracker?this.tracker.attr(u):(this.tracker=a.renderer.rect(u).addClass("highcharts-tracker").add(a),n.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(n){return n.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(n,a){let l=n.series,u=l.tooltipOptions,d=l.xAxis,c=d==null?void 0:d.dateTime,f={isFooter:a,point:n},m=u.xDateFormat||"",v=u[a?"footerFormat":"headerFormat"];return P(this,"headerFormatter",f,function(C){if(c&&!m&&T(n.key)&&(m=c.getXDateFormat(n.key,u.dateTimeLabelFormats)),c&&m){if(O(m)){let w=m;ld[0]=S=>l.chart.time.dateFormat(w,S),m="%0"}(n.tooltipDateKeys||["key"]).forEach(w=>{v=v.replace(RegExp("point\\."+w+"([ \\)}])"),`(point.${w}:${m})$1`)})}l.chart.styledMode&&(v=this.styledModeFormat(v)),C.text=ga(v,n,this.chart)}),f.text||""}update(n){this.destroy(),this.init(this.chart,H(!0,this.options,n))}updatePosition(n){var K;let{chart:a,container:l,distance:u,options:d,pointer:c,renderer:f}=this,{height:m=0,width:v=0}=this.getLabel(),{fixed:C,positioner:w}=d,{left:S,top:M,scaleX:L,scaleY:N}=c.getChartPosition(),z=(w||C&&this.getFixedPosition||this.getPosition).call(this,v,m,n),A=se.doc,F=(n.plotX||0)+a.plotLeft,_=(n.plotY||0)+a.plotTop,ie;if(f&&l){if(w||C){let{scrollLeft:Q=0,scrollTop:ae=0}=((K=a.scrollablePlotArea)==null?void 0:K.scrollingContainer)||{};z.x+=Q+S-u,z.y+=ae+M-u}ie=(d.borderWidth||0)+2*u+2,f.setSize(Bs(v+ie,0,A.documentElement.clientWidth)-1,m+ie,!1),(L!==1||N!==1)&&(Nr(l,{transform:`scale(${L}, ${N})`}),F*=L,_*=N),F+=S-z.x,_+=M-z.y}this.move(Math.round(z.x),Math.round(z.y||0),F,_)}}(function(y){y.compose=function(n){q(ba,"Core.Tooltip")&&$f(n,"afterInit",function(){let a=this.chart;a.options.tooltip&&(a.tooltip=new y(a,a.options.tooltip,this))})}})(J||(J={}));let le=J,{animObject:ne}=di,{defaultOptions:me}=Oi,{format:ve}=Di,{addEvent:we,crisp:ye,erase:ue,extend:Ue,fireEvent:ke,getNestedProperty:Ze,isArray:Ve,isFunction:at,isNumber:dt,isObject:He,merge:ge,pick:Se,syncTimeout:Me,removeEvent:Oe,uniqueKey:qe}=Fe;class Be{animateBeforeDestroy(){let n=this,a={x:n.startXPos,opacity:0},l=n.getGraphicalProps();l.singular.forEach(function(u){n[u]=n[u].animate(u==="dataLabel"?{x:n[u].startXPos,y:n[u].startYPos,opacity:0}:a)}),l.plural.forEach(function(u){n[u].forEach(function(d){d.element&&d.animate(Ue({x:n.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})}applyOptions(n,a){let l=this.series,u=l.options.pointValKey||l.pointValKey;return Ue(this,n=Be.prototype.optionsToObject.call(this,n)),this.options=this.options?Ue(this.options,n):n,n.group&&delete this.group,n.dataLabels&&delete this.dataLabels,u&&(this.y=Be.prototype.getNestedProperty.call(this,u)),this.selected&&(this.state="select"),"name"in this&&a===void 0&&l.xAxis&&l.xAxis.hasNames&&(this.x=l.xAxis.nameToX(this)),this.x===void 0&&l?this.x=a??l.autoIncrement():dt(n.x)&&l.options.relativeXValue?this.x=l.autoIncrement(n.x):typeof this.x=="string"&&(a??(a=l.chart.time.parse(this.x)),dt(a)&&(this.x=a)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let n=this,a=n.series,l=a.chart,u=a.options.dataSorting,d=l.hoverPoints,c=ne(n.series.chart.renderer.globalAnimation),f=()=>{for(let m in(n.graphic||n.graphics||n.dataLabel||n.dataLabels)&&(Oe(n),n.destroyElements()),n)delete n[m]};n.legendItem&&l.legend.destroyItem(n),d&&(n.setState(),ue(d,n),d.length||(l.hoverPoints=null)),n===l.hoverPoint&&n.onMouseOut(),u!=null&&u.enabled?(this.animateBeforeDestroy(),Me(f,c.duration)):f(),l.pointCount--}this.destroyed=!0}destroyElements(n){let a=this,l=a.getGraphicalProps(n);l.singular.forEach(function(u){a[u]=a[u].destroy()}),l.plural.forEach(function(u){a[u].forEach(function(d){d!=null&&d.element&&d.destroy()}),delete a[u]})}firePointEvent(n,a,l){let u=this,d=this.series.options;u.manageEvent(n),n==="click"&&d.allowPointSelect&&(l=function(c){!u.destroyed&&u.select&&u.select(null,c.ctrlKey||c.metaKey||c.shiftKey)}),ke(u,n,a,l)}getClassName(){var n;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((n=this.zone)!=null&&n.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(n){let a,l,u=this,d=[],c={singular:[],plural:[]};for((n=n||{graphic:1,dataLabel:1}).graphic&&d.push("graphic","connector"),n.dataLabel&&d.push("dataLabel","dataLabelPath","dataLabelUpper"),l=d.length;l--;)u[a=d[l]]&&c.singular.push(a);return["graphic","dataLabel"].forEach(function(f){let m=f+"s";n[f]&&u[m]&&c.plural.push(m)}),c}getNestedProperty(n){if(n)return n.indexOf("custom.")===0?Ze(n,this.options):this[n]}getZone(){let n=this.series,a=n.zones,l=n.zoneAxis||"y",u,d=0;for(u=a[0];this[l]>=u.value;)u=a[++d];return this.nonZonedColor||(this.nonZonedColor=this.color),u!=null&&u.color&&!this.options.color?this.color=u.color:this.color=this.nonZonedColor,u}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(n,a,l){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=n,this.applyOptions(a,l),this.id??(this.id=qe()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=n.options.nullInteraction),n.chart.pointCount++,ke(this,"afterInit")}isValid(){return(dt(this.x)||this.x instanceof Date)&&dt(this.y)}optionsToObject(n){var C;let a=this.series,l=a.options.keys,u=l||a.pointArrayMap||["y"],d=u.length,c={},f,m=0,v=0;if(dt(n)||n===null)c[u[0]]=n;else if(Ve(n))for(!l&&n.length>d&&((f=typeof n[0])=="string"?(C=a.xAxis)!=null&&C.dateTime?c.x=a.chart.time.parse(n[0]):c.name=n[0]:f==="number"&&(c.x=n[0]),m++);v<d;)l&&n[m]===void 0||(u[v].indexOf(".")>0?Be.prototype.setNestedProperty(c,n[m],u[v]):c[u[v]]=n[m]),m++,v++;else typeof n=="object"&&(c=n,n.dataLabels&&(a.hasDataLabels=()=>!0),n.marker&&(a._hasPointMarkers=!0));return c}pos(n,a=this.plotY){if(!this.destroyed){let{plotX:l,series:u}=this,{chart:d,xAxis:c,yAxis:f}=u,m=0,v=0;if(dt(l)&&dt(a))return n&&(m=c?c.pos:d.plotLeft,v=f?f.pos:d.plotTop),d.inverted&&c&&f?[f.len-a+v,c.len-l+m]:[l+m,a+v]}}resolveColor(){let n=this.series,a=n.chart.options.chart,l=n.chart.styledMode,u,d,c=a.colorCount,f;delete this.nonZonedColor,n.options.colorByPoint?(l||(u=(d=n.options.colors||n.chart.options.colors)[n.colorCounter],c=d.length),f=n.colorCounter,n.colorCounter++,n.colorCounter===c&&(n.colorCounter=0)):(l||(u=n.color),f=n.colorIndex),this.colorIndex=Se(this.options.colorIndex,f),this.color=Se(this.options.color,u)}setNestedProperty(n,a,l){return l.split(".").reduce(function(u,d,c,f){let m=f.length-1===c;return u[d]=m?a:He(u[d],!0)?u[d]:{},u[d]},n),n}shouldDraw(){return!this.isNull}tooltipFormatter(n){var m;let{chart:a,pointArrayMap:l=["y"],tooltipOptions:u}=this.series,{valueDecimals:d="",valuePrefix:c="",valueSuffix:f=""}=u;return a.styledMode&&(n=((m=a.tooltip)==null?void 0:m.styledModeFormat(n))||n),l.forEach(v=>{v="{point."+v,(c||f)&&(n=n.replace(RegExp(v+"}","g"),c+v+"}"+f)),n=n.replace(RegExp(v+"}","g"),v+":,."+d+"f}")}),ve(n,this,a)}update(n,a,l,u){let d,c=this,f=c.series,m=c.graphic,v=f.chart,C=f.options;function w(){c.applyOptions(n);let S=m&&c.hasMockGraphic,M=c.y===null?!S:S;m&&M&&(c.graphic=m.destroy(),delete c.hasMockGraphic),He(n,!0)&&(m!=null&&m.element&&n&&n.marker&&n.marker.symbol!==void 0&&(c.graphic=m.destroy()),n!=null&&n.dataLabels&&c.dataLabel&&(c.dataLabel=c.dataLabel.destroy())),d=c.index;let L={};for(let N of f.dataColumnKeys())L[N]=c[N];f.dataTable.setRow(L,d),C.data[d]=He(C.data[d],!0)||He(n,!0)?c.options:Se(n,C.data[d]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(v.isDirtyBox=!0),C.legendType==="point"&&(v.isDirtyLegend=!0),a&&v.redraw(l)}a=Se(a,!0),u===!1?w():c.firePointEvent("update",{options:n},w)}remove(n,a){this.series.removePoint(this.series.data.indexOf(this),n,a)}select(n,a){let l=this,u=l.series,d=u.chart;n=Se(n,!l.selected),this.selectedStaging=n,l.firePointEvent(n?"select":"unselect",{accumulate:a},function(){l.selected=l.options.selected=n,u.options.data[u.data.indexOf(l)]=l.options,l.setState(n&&"select"),a||d.getSelectedPoints().forEach(function(c){let f=c.series;c.selected&&c!==l&&(c.selected=c.options.selected=!1,f.options.data[f.data.indexOf(c)]=c.options,c.setState(d.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),c.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(n){let{inverted:a,pointer:l}=this.series.chart;l&&(n=n?l.normalize(n):l.getChartCoordinatesFromPoint(this,a),l.runPointActions(n,this))}onMouseOut(){let n=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(n.hoverPoints||[]).forEach(function(a){a.setState()}),n.hoverPoints=n.hoverPoint=null}manageEvent(n){var u,d,c,f,m,v,C;let a=ge(this.series.options.point,this.options),l=(u=a.events)==null?void 0:u[n];at(l)&&(!((d=this.hcEvents)!=null&&d[n])||((f=(c=this.hcEvents)==null?void 0:c[n])==null?void 0:f.map(w=>w.fn).indexOf(l))===-1)?((m=this.importedUserEvent)==null||m.call(this),this.importedUserEvent=we(this,n,l),this.hcEvents&&(this.hcEvents[n].userEvent=!0)):this.importedUserEvent&&!l&&((v=this.hcEvents)!=null&&v[n])&&((C=this.hcEvents)!=null&&C[n].userEvent)&&(Oe(this,n),delete this.hcEvents[n],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(n,a){var Q,ae;let l=this.series,u=this.state,d=l.options.states[n||"normal"]||{},c=me.plotOptions[l.type].marker&&l.options.marker,f=c&&c.enabled===!1,m=((Q=c==null?void 0:c.states)==null?void 0:Q[n||"normal"])||{},v=m.enabled===!1,C=this.marker||{},w=l.chart,S=c&&l.markerAttribs,M=l.halo,L,N,z,A=l.stateMarkerGraphic,F;if((n=n||"")===this.state&&!a||this.selected&&n!=="select"||d.enabled===!1||n&&(v||f&&m.enabled===!1)||n&&C.states&&C.states[n]&&C.states[n].enabled===!1)return;if(this.state=n,S&&(L=l.markerAttribs(this,n)),this.graphic&&!this.hasMockGraphic){if(u&&this.graphic.removeClass("highcharts-point-"+u),n&&this.graphic.addClass("highcharts-point-"+n),!w.styledMode){N=l.pointAttribs(this,n),z=Se(w.options.chart.animation,d.animation);let re=N.opacity;l.options.inactiveOtherPoints&&dt(re)&&(this.dataLabels||[]).forEach(function(oe){oe&&!oe.hasClass("highcharts-data-label-hidden")&&(oe.animate({opacity:re},z),oe.connector&&oe.connector.animate({opacity:re},z))}),this.graphic.animate(N,z)}L&&this.graphic.animate(L,Se(w.options.chart.animation,m.animation,c.animation)),A&&A.hide()}else n&&m&&(F=C.symbol||l.symbol,A&&A.currentSymbol!==F&&(A=A.destroy()),L&&(A?A[a?"animate":"attr"]({x:L.x,y:L.y}):F&&(l.stateMarkerGraphic=A=w.renderer.symbol(F,L.x,L.y,L.width,L.height,ge(c,m)).add(l.markerGroup),A.currentSymbol=F)),!w.styledMode&&A&&this.state!=="inactive"&&A.attr(l.pointAttribs(this,n))),A&&(A[n&&this.isInside?"show":"hide"](),A.element.point=this,A.addClass(this.getClassName(),!0));let _=d.halo,ie=this.graphic||A,K=(ie==null?void 0:ie.visibility)||"inherit";_!=null&&_.size&&ie&&K!=="hidden"&&!this.isCluster?(M||(l.halo=M=w.renderer.path().add(ie.parentGroup)),M.show()[a?"animate":"attr"]({d:this.haloPath(_.size)}),M.attr({class:"highcharts-halo highcharts-color-"+Se(this.colorIndex,l.colorIndex)+(this.className?" "+this.className:""),visibility:K,zIndex:-1}),M.point=this,w.styledMode||M.attr(Ue({fill:this.color||l.color,"fill-opacity":_.opacity},Mt.filterUserAttributes(_.attributes||{})))):(ae=M==null?void 0:M.point)!=null&&ae.haloPath&&!M.point.destroyed&&M.animate({d:M.point.haloPath(0)},null,M.hide),ke(this,"afterSetState",{state:n})}haloPath(n){let a=this.pos();return a?this.series.chart.renderer.symbols.circle(ye(a[0],1)-n,a[1]-n,2*n,2*n):[]}}let We=Be,{parse:bt}=At,{charts:Ct,composed:Xt,isTouchDevice:zi}=se,{addEvent:Ot,attr:Xi,css:vt,extend:Et,find:ai,fireEvent:Yt,isNumber:Ni,isObject:ci,objectEach:_s,offset:dr,pick:Dt,pushUnique:js,splat:Ws}=Fe;class It{applyInactiveState(n=[]){var l,u;let a=[];for(let d of(n.forEach(c=>{let f=c.series;a.push(f),f.linkedParent&&a.push(f.linkedParent),f.linkedSeries&&a.push.apply(a,f.linkedSeries),f.navigatorSeries&&a.push(f.navigatorSeries),f.boosted&&f.markerGroup&&a.push.apply(a,this.chart.series.filter(m=>m.markerGroup===f.markerGroup))}),this.chart.series)){let c=d.options;((u=(l=c.states)==null?void 0:l.inactive)==null?void 0:u.enabled)!==!1&&(a.indexOf(d)===-1?d.setState("inactive",!0):c.inactiveOtherPoints&&d.setAllPointsToState("inactive"))}}destroy(){let n=this;this.eventsToUnbind.forEach(a=>a()),this.eventsToUnbind=[],!se.chartCount&&(It.unbindDocumentMouseUp.forEach(a=>a.unbind()),It.unbindDocumentMouseUp.length=0,It.unbindDocumentTouchEnd&&(It.unbindDocumentTouchEnd=It.unbindDocumentTouchEnd())),clearInterval(n.tooltipTimeout),_s(n,function(a,l){n[l]=void 0})}getSelectionMarkerAttrs(n,a){let l={args:{chartX:n,chartY:a},attrs:{},shapeType:"rect"};return Yt(this,"getSelectionMarkerAttrs",l,u=>{let d,{chart:c,zoomHor:f,zoomVert:m}=this,{mouseDownX:v=0,mouseDownY:C=0}=c,w=u.attrs;w.x=c.plotLeft,w.y=c.plotTop,w.width=f?1:c.plotWidth,w.height=m?1:c.plotHeight,f&&(w.width=Math.max(1,Math.abs(d=n-v)),w.x=(d>0?0:d)+v),m&&(w.height=Math.max(1,Math.abs(d=a-C)),w.y=(d>0?0:d)+C)}),l}drag(n){let{chart:a}=this,{mouseDownX:l=0,mouseDownY:u=0}=a,{panning:d,panKey:c,selectionMarkerFill:f}=a.options.chart,m=a.plotLeft,v=a.plotTop,C=a.plotWidth,w=a.plotHeight,S=ci(d)?d.enabled:d,M=c&&n[`${c}Key`],L=n.chartX,N=n.chartY,z,A=this.selectionMarker;if((!A||!A.touch)&&(L<m?L=m:L>m+C&&(L=m+C),N<v?N=v:N>v+w&&(N=v+w),this.hasDragged=Math.sqrt(Math.pow(l-L,2)+Math.pow(u-N,2)),this.hasDragged>10)){z=a.isInsidePlot(l-m,u-v,{visiblePlotOnly:!0});let{shapeType:F,attrs:_}=this.getSelectionMarkerAttrs(L,N);this.hasZoom&&z&&!M&&!A&&(this.selectionMarker=A=a.renderer[F](),A.attr({class:"highcharts-selection-marker",zIndex:7}).add(),a.styledMode||A.attr({fill:f||bt("#334eff").setOpacity(.25).get()})),A&&A.attr(_),z&&!A&&S&&a.pan(n,d)}}dragStart(n){let a=this.chart;a.mouseIsDown=n.type,a.cancelClick=!1,a.mouseDownX=n.chartX,a.mouseDownY=n.chartY}getSelectionBox(n){let a={args:{marker:n},result:n.getBBox()};return Yt(this,"getSelectionBox",a),a.result}drop(n){let a,{chart:l,selectionMarker:u}=this;for(let d of l.axes)d.isPanning&&(d.isPanning=!1,(d.options.startOnTick||d.options.endOnTick||d.series.some(c=>c.boosted))&&(d.forceRedraw=!0,d.setExtremes(d.userMin,d.userMax,!1),a=!0));if(a&&l.redraw(),u&&n){if(this.hasDragged){let d=this.getSelectionBox(u);l.transform({axes:l.axes.filter(c=>c.zoomEnabled&&(c.coll==="xAxis"&&this.zoomX||c.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:n,xAxis:[],yAxis:[],...d},from:d})}Ni(l.index)&&(this.selectionMarker=u.destroy())}l&&Ni(l.index)&&(vt(l.container,{cursor:l._cursor}),l.cancelClick=this.hasDragged>10,l.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(n,a,l){let u;return n.forEach(function(d){let c=!(d.noSharedTooltip&&a)&&0>d.options.findNearestPointBy.indexOf("y"),f=d.searchPoint(l,c);ci(f,!0)&&f.series&&(!ci(u,!0)||function(m,v){var M,L;let C=m.distX-v.distX,w=m.dist-v.dist,S=((M=v.series.group)==null?void 0:M.zIndex)-((L=m.series.group)==null?void 0:L.zIndex);return C!==0&&a?C:w!==0?w:S!==0?S:m.series.index>v.series.index?-1:1}(u,f)>0)&&(u=f)}),u}getChartCoordinatesFromPoint(n,a){let{xAxis:l,yAxis:u}=n.series,d=n.shapeArgs;if(l&&u){let c=n.clientX??n.plotX??0,f=n.plotY||0;return n.isNode&&d&&Ni(d.x)&&Ni(d.y)&&(c=d.x,f=d.y),a?{chartX:u.len+u.pos-f,chartY:l.len+l.pos-c}:{chartX:c+l.pos,chartY:f+u.pos}}if(d!=null&&d.x&&d.y)return{chartX:d.x,chartY:d.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:n}=this.chart,a=dr(n);this.chartPosition={left:a.left,top:a.top,scaleX:1,scaleY:1};let{offsetHeight:l,offsetWidth:u}=n;return u>2&&l>2&&(this.chartPosition.scaleX=a.width/u,this.chartPosition.scaleY=a.height/l),this.chartPosition}getCoordinates(n){let a={xAxis:[],yAxis:[]};for(let l of this.chart.axes)a[l.isXAxis?"xAxis":"yAxis"].push({axis:l,value:l.toValue(n[l.horiz?"chartX":"chartY"])});return a}getHoverData(n,a,l,u,d,c){let f=[],m=function(M){return M.visible&&!(!d&&M.directTouch)&&Dt(M.options.enableMouseTracking,!0)},v=a,C,w={chartX:c?c.chartX:void 0,chartY:c?c.chartY:void 0,shared:d};Yt(this,"beforeGetHoverData",w),C=v&&!v.stickyTracking?[v]:l.filter(M=>M.stickyTracking&&(w.filter||m)(M));let S=u&&n||!c?n:this.findNearestKDPoint(C,d,c);return v=S==null?void 0:S.series,S&&(d&&!v.noSharedTooltip?(C=l.filter(function(M){return w.filter?w.filter(M):m(M)&&!M.noSharedTooltip})).forEach(function(M){var z;let L=(z=M.options)==null?void 0:z.nullInteraction,N=ai(M.points,function(A){return A.x===S.x&&(!A.isNull||!!L)});ci(N)&&(M.boosted&&M.boost&&(N=M.boost.getPoint(N)),f.push(N))}):f.push(S)),Yt(this,"afterGetHoverData",w={hoverPoint:S}),{hoverPoint:w.hoverPoint,hoverSeries:v,hoverPoints:f}}getPointFromEvent(n){let a=n.target,l;for(;a&&!l;)l=a.point,a=a.parentNode;return l}onTrackerMouseOut(n){let a=this.chart,l=n.relatedTarget,u=a.hoverSeries;this.isDirectTouch=!1,!u||!l||u.stickyTracking||this.inClass(l,"highcharts-tooltip")||this.inClass(l,"highcharts-series-"+u.index)&&this.inClass(l,"highcharts-tracker")||u.onMouseOut()}inClass(n,a){let l=n,u;for(;l;){if(u=Xi(l,"class")){if(u.indexOf(a)!==-1)return!0;if(u.indexOf("highcharts-container")!==-1)return!1}l=l.parentElement}}constructor(n,a){var l;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=a,this.chart=n,this.runChartClick=!!((l=a.chart.events)!=null&&l.click),this.pinchDown=[],this.setDOMEvents(),Yt(this,"afterInit")}normalize(n,a){let l=n.touches,u=l?l.length?l.item(0):Dt(l.changedTouches,n.changedTouches)[0]:n;a||(a=this.getChartPosition());let d=u.pageX-a.left,c=u.pageY-a.top;return Et(n,{chartX:Math.round(d/=a.scaleX),chartY:Math.round(c/=a.scaleY)})}onContainerClick(n){let a=this.chart,l=a.hoverPoint,u=this.normalize(n),d=a.plotLeft,c=a.plotTop;!a.cancelClick&&(l&&this.inClass(u.target,"highcharts-tracker")?(Yt(l.series,"click",Et(u,{point:l})),a.hoverPoint&&l.firePointEvent("click",u)):(Et(u,this.getCoordinates(u)),a.isInsidePlot(u.chartX-d,u.chartY-c,{visiblePlotOnly:!0})&&Yt(a,"click",u)))}onContainerMouseDown(n){var l;let a=(1&(n.buttons||n.button))==1;n=this.normalize(n),se.isFirefox&&n.button!==0&&this.onContainerMouseMove(n),(n.button===void 0||a)&&(this.zoomOption(n),a&&((l=n.preventDefault)==null||l.call(n)),this.dragStart(n))}onContainerMouseLeave(n){let{pointer:a}=Ct[Dt(It.hoverChartIndex,-1)]||{};n=this.normalize(n),this.onContainerMouseMove(n),a&&!this.inClass(n.relatedTarget,"highcharts-tooltip")&&(a.reset(),a.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(n){var d;let a=this.chart,l=a.tooltip,u=this.normalize(n);this.setHoverChartIndex(n),(a.mouseIsDown==="mousedown"||this.touchSelect(u))&&this.drag(u),!((d=a.exporting)!=null&&d.openMenu)&&(this.inClass(u.target,"highcharts-tracker")||a.isInsidePlot(u.chartX-a.plotLeft,u.chartY-a.plotTop,{visiblePlotOnly:!0}))&&!(l!=null&&l.shouldStickOnContact(u))&&(this.inClass(u.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(u))}onDocumentTouchEnd(n){this.onDocumentMouseUp(n)}onContainerTouchMove(n){this.touchSelect(n)?this.onContainerMouseMove(n):this.touch(n)}onContainerTouchStart(n){this.touchSelect(n)?this.onContainerMouseDown(n):(this.zoomOption(n),this.touch(n,!0))}onDocumentMouseMove(n){let a=this.chart,l=a.tooltip,u=this.chartPosition,d=this.normalize(n,u);!u||a.isInsidePlot(d.chartX-a.plotLeft,d.chartY-a.plotTop,{visiblePlotOnly:!0})||l!=null&&l.shouldStickOnContact(d)||d.target!==a.container.ownerDocument&&this.inClass(d.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(n){var a,l,u;n!=null&&n.touches&&this.hasPinchMoved&&((a=n==null?void 0:n.preventDefault)==null||a.call(n)),(u=(l=Ct[Dt(It.hoverChartIndex,-1)])==null?void 0:l.pointer)==null||u.drop(n)}pinch(n){let a=this,{chart:l,hasZoom:u,lastTouches:d}=a,c=[].map.call(n.touches||[],w=>a.normalize(w)),f=c.length,m=f===1&&(a.inClass(n.target,"highcharts-tracker")&&l.runTrackerClick||a.runChartClick),v=l.tooltip,C=f===1&&Dt(v==null?void 0:v.options.followTouchMove,!0);f>1?a.initiated=!0:C&&(a.initiated=!1),u&&a.initiated&&!m&&n.cancelable!==!1&&n.preventDefault(),n.type==="touchstart"?(a.pinchDown=c,a.res=!0,l.mouseDownX=n.chartX):C?this.runPointActions(a.normalize(n)):d&&(Yt(l,"touchpan",{originalEvent:n,touches:c},()=>{let w=S=>{let M=S[0],L=S[1]||M;return{x:M.chartX,y:M.chartY,width:L.chartX-M.chartX,height:L.chartY-M.chartY}};l.transform({axes:l.axes.filter(S=>S.zoomEnabled&&(this.zoomHor&&S.horiz||this.zoomVert&&!S.horiz)),to:w(c),from:w(d),trigger:n.type})}),a.res&&(a.res=!1,this.reset(!1,0))),a.lastTouches=c}reset(n,a){let l=this.chart,u=l.hoverSeries,d=l.hoverPoint,c=l.hoverPoints,f=l.tooltip,m=f!=null&&f.shared?c:d;n&&m&&Ws(m).forEach(function(v){v.series.isCartesian&&v.plotX===void 0&&(n=!1)}),n?f&&m&&Ws(m).length&&(f.refresh(m),f.shared&&c?c.forEach(function(v){v.setState(v.state,!0),v.series.isCartesian&&(v.series.xAxis.crosshair&&v.series.xAxis.drawCrosshair(null,v),v.series.yAxis.crosshair&&v.series.yAxis.drawCrosshair(null,v))}):d&&(d.setState(d.state,!0),l.axes.forEach(function(v){v.crosshair&&d.series[v.coll]===v&&v.drawCrosshair(null,d)}))):(d&&d.onMouseOut(),c&&c.forEach(function(v){v.setState()}),u&&u.onMouseOut(),f&&f.hide(a),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l.axes.forEach(function(v){v.hideCrosshair()}),l.hoverPoints=l.hoverPoint=void 0)}runPointActions(n,a,l){var N;let u=this.chart,d=u.series,c=(N=u.tooltip)!=null&&N.options.enabled?u.tooltip:void 0,f=!!c&&c.shared,m=a||u.hoverPoint,v=(m==null?void 0:m.series)||u.hoverSeries,C=(!n||n.type!=="touchmove")&&(!!a||(v==null?void 0:v.directTouch)&&this.isDirectTouch),w=this.getHoverData(m,v,d,C,f,n);m=w.hoverPoint,v=w.hoverSeries;let S=w.hoverPoints,M=(v==null?void 0:v.tooltipOptions.followPointer)&&!v.tooltipOptions.split,L=f&&v&&!v.noSharedTooltip;if(m&&(l||m!==u.hoverPoint||c!=null&&c.isHidden)){if((u.hoverPoints||[]).forEach(function(z){S.indexOf(z)===-1&&z.setState()}),u.hoverSeries!==v&&v.onMouseOver(),this.applyInactiveState(S),(S||[]).forEach(function(z){z.setState("hover")}),u.hoverPoint&&u.hoverPoint.firePointEvent("mouseOut"),!m.series)return;u.hoverPoints=S,u.hoverPoint=m,m.firePointEvent("mouseOver",void 0,()=>{c&&m&&c.refresh(L?S:m,n)})}else if(M&&c&&!c.isHidden){let z=c.getAnchor([{}],n);u.isInsidePlot(z[0],z[1],{visiblePlotOnly:!0})&&c.updatePosition({plotX:z[0],plotY:z[1]})}this.unDocMouseMove||(this.unDocMouseMove=Ot(u.container.ownerDocument,"mousemove",z=>{var A,F;return(F=(A=Ct[It.hoverChartIndex??-1])==null?void 0:A.pointer)==null?void 0:F.onDocumentMouseMove(z)}),this.eventsToUnbind.push(this.unDocMouseMove)),u.axes.forEach(function(z){var _;let A,F=((_=z.crosshair)==null?void 0:_.snap)??!0;F&&((A=u.hoverPoint)&&A.series[z.coll]===z||(A=ai(S,ie=>{var K;return((K=ie.series)==null?void 0:K[z.coll])===z}))),A||!F?z.drawCrosshair(n,A):z.hideCrosshair()})}setDOMEvents(){let n=this.chart.container,a=n.ownerDocument;n.onmousedown=this.onContainerMouseDown.bind(this),n.onmousemove=this.onContainerMouseMove.bind(this),n.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Ot(n,"mouseenter",this.onContainerMouseEnter.bind(this)),Ot(n,"mouseleave",this.onContainerMouseLeave.bind(this))),It.unbindDocumentMouseUp.some(u=>u.doc===a)||It.unbindDocumentMouseUp.push({doc:a,unbind:Ot(a,"mouseup",this.onDocumentMouseUp.bind(this))});let l=this.chart.renderTo.parentElement;for(;l&&l.tagName!=="BODY";)this.eventsToUnbind.push(Ot(l,"scroll",()=>{delete this.chartPosition})),l=l.parentElement;this.eventsToUnbind.push(Ot(n,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Ot(n,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),It.unbindDocumentTouchEnd||(It.unbindDocumentTouchEnd=Ot(a,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Ot(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var d,c;if(!zi)return;let n=this.pointerCaptureEventsToUnbind,a=this.chart,l=a.container,u=Dt((d=a.options.tooltip)==null?void 0:d.followTouchMove,!0)&&a.series.some(f=>f.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&u?(n.push(Ot(l,"pointerdown",f=>{var m,v;(m=f.target)!=null&&m.hasPointerCapture(f.pointerId)&&((v=f.target)==null||v.releasePointerCapture(f.pointerId))}),Ot(l,"pointermove",f=>{var m,v;(v=(m=a.pointer)==null?void 0:m.getPointFromEvent(f))==null||v.onMouseOver(f)})),a.styledMode||vt(l,{"touch-action":"none"}),l.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!u&&(n.forEach(f=>f()),n.length=0,a.styledMode||vt(l,{"touch-action":Dt((c=a.options.chart.style)==null?void 0:c["touch-action"],"manipulation")}),l.className=l.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(n){var u;let a=this.chart,l=se.charts[Dt(It.hoverChartIndex,-1)];if(l&&l!==a){let d={relatedTarget:a.container};n&&!(n!=null&&n.relatedTarget)&&Object.assign({},n,d),(u=l.pointer)==null||u.onContainerMouseLeave(n||d)}l!=null&&l.mouseIsDown||(It.hoverChartIndex=a.index)}touch(n,a){var c;let l,{chart:u,pinchDown:d=[]}=this;this.setHoverChartIndex(),(n=this.normalize(n)).touches.length===1?u.isInsidePlot(n.chartX-u.plotLeft,n.chartY-u.plotTop,{visiblePlotOnly:!0})&&!((c=u.exporting)!=null&&c.openMenu)?(a&&this.runPointActions(n),n.type==="touchmove"&&(this.hasPinchMoved=l=!!d[0]&&Math.pow(d[0].chartX-n.chartX,2)+Math.pow(d[0].chartY-n.chartY,2)>=16),Dt(l,!0)&&this.pinch(n)):a&&this.reset():n.touches.length===2&&this.pinch(n)}touchSelect(n){return!!(this.chart.zooming.singleTouch&&n.touches&&n.touches.length===1)}zoomOption(n){let a=this.chart,l=a.inverted,u=a.zooming.type||"",d,c;/touch/.test(n.type)&&(u=Dt(a.zooming.pinchType,u)),this.zoomX=d=/x/.test(u),this.zoomY=c=/y/.test(u),this.zoomHor=d&&!l||c&&l,this.zoomVert=c&&!l||d&&l,this.hasZoom=d||c}}It.unbindDocumentMouseUp=[],function(y){y.compose=function(n){js(Xt,"Core.Pointer")&&Ot(n,"beforeRender",function(){this.pointer=new y(this,this.options)})}}(It||(It={}));let Vs=It;(function(y){y.setLength=function(n,a,l){return Array.isArray(n)?(n.length=a,n):n[l?"subarray":"slice"](0,a)},y.splice=function(n,a,l,u,d=[]){if(Array.isArray(n))return Array.isArray(d)||(d=Array.from(d)),{removed:n.splice(a,l,...d),array:n};let c=Object.getPrototypeOf(n).constructor,f=n[u?"subarray":"slice"](a,a+l),m=new c(n.length-l+d.length);return m.set(n.subarray(0,a),0),m.set(d,a),m.set(n.subarray(a+l),a+d.length),{removed:f,array:m}}})(D||(D={}));let{setLength:cr,splice:vi}=D,{fireEvent:pr,objectEach:Fl,uniqueKey:Il}=Fe,dd=class{constructor(y={}){this.autoId=!y.id,this.columns={},this.id=y.id||Il(),this.modified=this,this.rowCount=0,this.versionTag=Il();let n=0;Fl(y.columns||{},(a,l)=>{this.columns[l]=a.slice(),n=Math.max(n,a.length)}),this.applyRowCount(n)}applyRowCount(y){this.rowCount=y,Fl(this.columns,(n,a)=>{n.length!==y&&(this.columns[a]=cr(n,y))})}deleteRows(y,n=1){if(n>0&&y<this.rowCount){let a=0;Fl(this.columns,(l,u)=>{this.columns[u]=vi(l,y,n).array,a=l.length}),this.rowCount=a}pr(this,"afterDeleteRows",{rowIndex:y,rowCount:n}),this.versionTag=Il()}getColumn(y,n){return this.columns[y]}getColumns(y,n){return(y||Object.keys(this.columns)).reduce((a,l)=>(a[l]=this.columns[l],a),{})}getRow(y,n){return(n||Object.keys(this.columns)).map(a=>{var l;return(l=this.columns[a])==null?void 0:l[y]})}setColumn(y,n=[],a=0,l){this.setColumns({[y]:n},a,l)}setColumns(y,n,a){let l=this.rowCount;Fl(y,(u,d)=>{this.columns[d]=u.slice(),l=u.length}),this.applyRowCount(l),a!=null&&a.silent||(pr(this,"afterSetColumns"),this.versionTag=Il())}setRow(y,n=this.rowCount,a,l){let{columns:u}=this,d=a?this.rowCount+1:n+1;Fl(y,(c,f)=>{let m=u[f]||(l==null?void 0:l.addColumns)!==!1&&Array(d);m&&(a?m=vi(m,n,0,!0,[c]).array:m[n]=c,u[f]=m)}),d>this.rowCount&&this.applyRowCount(d),l!=null&&l.silent||(pr(this,"afterSetRows"),this.versionTag=Il())}},{extend:l1,merge:h1,pick:Vv}=Fe;(function(y){function n(a,l,u){var ie,K;let d=this.legendItem=this.legendItem||{},{chart:c,options:f}=this,{baseline:m=0,symbolWidth:v,symbolHeight:C}=a,w=this.symbol||"circle",S=C/2,M=c.renderer,L=d.group,N=m-Math.round((((ie=a.fontMetrics)==null?void 0:ie.b)||C)*(u?.4:.3)),z={},A,F=f.marker,_=0;if(c.styledMode||(z["stroke-width"]=Math.min(f.lineWidth||0,24),f.dashStyle?z.dashstyle=f.dashStyle:f.linecap!=="square"&&(z["stroke-linecap"]="round")),d.line=M.path().addClass("highcharts-graph").attr(z).add(L),u&&(d.area=M.path().addClass("highcharts-area").add(L)),z["stroke-linecap"]&&(_=Math.min(d.line.strokeWidth(),v)/2),v){let Q=[["M",_,N],["L",v-_,N]];d.line.attr({d:Q}),(K=d.area)==null||K.attr({d:[...Q,["L",v-_,m],["L",_,m]]})}if(F&&F.enabled!==!1&&v){let Q=Math.min(Vv(F.radius,S),S);w.indexOf("url")===0&&(F=h1(F,{width:C,height:C}),Q=0),d.symbol=A=M.symbol(w,v/2-Q,N-Q,2*Q,2*Q,l1({context:"legend"},F)).addClass("highcharts-point").add(L),A.isMarker=!0}}y.areaMarker=function(a,l){n.call(this,a,l,!0)},y.lineMarker=n,y.rectangle=function(a,l){let u=l.legendItem||{},d=a.options,c=a.symbolHeight,f=d.squareSymbol,m=f?c:a.symbolWidth;u.symbol=this.chart.renderer.rect(f?(a.symbolWidth-c)/2:0,a.baseline-c+1,m,c,Vv(a.options.symbolRadius,c/2)).addClass("highcharts-point").attr({zIndex:3}).add(u.group)}})(W||(W={}));let Uv=W,{defaultOptions:Gv}=Oi,{extend:u1,extendClass:d1,merge:c1}=Fe;(function(y){function n(a,l){let u=Gv.plotOptions||{},d=l.defaultOptions,c=l.prototype;return c.type=a,c.pointClass||(c.pointClass=We),!y.seriesTypes[a]&&(d&&(u[a]=d),y.seriesTypes[a]=l,!0)}y.seriesTypes=se.seriesTypes,y.registerSeriesType=n,y.seriesType=function(a,l,u,d,c){let f=Gv.plotOptions||{};if(l=l||"",f[a]=c1(f[l],u),delete y.seriesTypes[a],n(a,d1(y.seriesTypes[l]||ts,d)),y.seriesTypes[a].prototype.type=a,c){class m extends We{}u1(m.prototype,c),y.seriesTypes[a].prototype.pointClass=m}return y.seriesTypes[a]}})(V||(V={}));let $t=V,{animObject:Xv,setAnimation:p1}=di,{defaultOptions:cd}=Oi,{registerEventOptions:f1}=Ll,{svg:m1,win:g1}=se,{seriesTypes:va}=$t,{format:b1}=Di,{arrayMax:qf,arrayMin:Yv,clamp:$v,correctFloat:Kv,crisp:v1,defined:li,destroyObjectProperties:y1,diffObjects:w1,erase:qv,error:pd,extend:ya,find:x1,fireEvent:_t,getClosestDistance:C1,getNestedProperty:Jv,insertItem:Zv,isArray:Qv,isNumber:pi,isString:E1,merge:Hl,objectEach:Jf,pick:jt,removeEvent:k1,syncTimeout:ey}=Fe;class Us{constructor(){this.zoneAxis="y"}init(n,a){var m,v,C;let l;_t(this,"init",{options:a}),this.dataTable??(this.dataTable=new dd);let u=n.series;this.eventsToUnbind=[],this.chart=n,this.options=this.setOptions(a);let d=this.options,c=d.visible!==!1;this.linkedSeries=[],this.bindAxes(),ya(this,{name:d.name,state:"",visible:c,selected:d.selected===!0}),f1(this,d);let f=d.events;(f!=null&&f.click||(v=(m=d.point)==null?void 0:m.events)!=null&&v.click||d.allowPointSelect)&&(n.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(n.hasCartesianSeries=!0),u.length&&(l=u[u.length-1]),this._i=jt(l==null?void 0:l._i,-1)+1,this.opacity=this.options.opacity,n.orderItems("series",Zv(this,u)),(C=d.dataSorting)!=null&&C.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(d.data,!1),_t(this,"afterInit")}is(n){return va[n]&&this instanceof va[n]}bindAxes(){let n,a=this,l=a.options,u=a.chart;_t(this,"bindAxes",null,function(){(a.axisTypes||[]).forEach(function(d){(u[d]||[]).forEach(function(c){n=c.options,(jt(l[d],0)===c.index||l[d]!==void 0&&l[d]===n.id)&&(Zv(a,c.series),a[d]=c,c.isDirty=!0)}),a[d]||a.optionalAxis===d||pd(18,!0,u)})}),_t(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(n,a){let l=n.marker,u=a.marker||{};return l&&(u.enabled&&!l.enabled||u.symbol!==l.symbol||u.height!==l.height||u.width!==l.width)}autoIncrement(n){let a,l=this.options,{pointIntervalUnit:u,relativeXValue:d}=this.options,c=this.chart.time,f=this.xIncrement??c.parse(l.pointStart)??0;if(this.pointInterval=a=jt(this.pointInterval,l.pointInterval,1),d&&pi(n)&&(a*=n),u){let m=c.toParts(f);u==="day"?m[2]+=a:u==="month"?m[1]+=a:u==="year"&&(m[0]+=a),a=c.makeTime.apply(c,m)-f}return d&&pi(n)?f+a:(this.xIncrement=f+a,f)}setDataSortingOptions(){let n=this.options;ya(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),li(n.pointRange)||(n.pointRange=1)}setOptions(n){var z,A;let a,l=this.chart,u=l.options.plotOptions,d=l.userOptions||{},c=Hl(n),f=l.styledMode,m={plotOptions:u,userOptions:c};_t(this,"setOptions",m);let v=m.plotOptions[this.type],C=d.plotOptions||{},w=C.series||{},S=cd.plotOptions[this.type]||{},M=C[this.type]||{};v.dataLabels=this.mergeArrays(S.dataLabels,v.dataLabels),this.userOptions=m.userOptions;let L=Hl(v,u.series,M,c);this.tooltipOptions=Hl(cd.tooltip,(z=cd.plotOptions.series)==null?void 0:z.tooltip,S==null?void 0:S.tooltip,l.userOptions.tooltip,(A=C.series)==null?void 0:A.tooltip,M.tooltip,c.tooltip),this.stickyTracking=jt(c.stickyTracking,M.stickyTracking,w.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||L.stickyTracking),v.marker===null&&delete L.marker,this.zoneAxis=L.zoneAxis||"y";let N=this.zones=(L.zones||[]).map(F=>({...F}));return(L.negativeColor||L.negativeFillColor)&&!L.zones&&(a={value:L[this.zoneAxis+"Threshold"]||L.threshold||0,className:"highcharts-negative"},f||(a.color=L.negativeColor,a.fillColor=L.negativeFillColor),N.push(a)),N.length&&li(N[N.length-1].value)&&N.push(f?{}:{color:this.color,fillColor:this.fillColor}),_t(this,"afterSetOptions",{options:L}),L}getName(){return this.options.name??b1(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(n,a,l){let u,d,c=this.chart,f=`${n}Index`,m=`${n}Counter`,v=(l==null?void 0:l.length)||c.options.chart.colorCount;!a&&(li(d=jt(n==="color"?this.options.colorIndex:void 0,this[f]))?u=d:(c.series.length||(c[m]=0),u=c[m]%v,c[m]+=1),l&&(a=l[u])),u!==void 0&&(this[f]=u),this[n]=a}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||cd.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols)}getColumn(n,a){return(a?this.dataTable.modified:this.dataTable).getColumn(n,!0)||[]}findPointIndex(n,a){var w;let l,u,d,{id:c,x:f}=n,m=this.points,v=this.options.dataSorting,C=this.cropStart||0;if(c){let S=this.chart.get(c);S instanceof We&&(l=S)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let S=M=>!M.touched&&M.index===n.index;if(v!=null&&v.matchByName?S=M=>!M.touched&&M.name===n.name:this.options.relativeXValue&&(S=M=>!M.touched&&M.options.x===n.x),!(l=x1(m,S)))return}return l&&(d=l==null?void 0:l.index)!==void 0&&(u=!0),d===void 0&&pi(f)&&(d=this.getColumn("x").indexOf(f,a)),d!==-1&&d!==void 0&&this.cropped&&(d=d>=C?d-C:d),!u&&pi(d)&&((w=m[d])!=null&&w.touched)&&(d=void 0),d}updateData(n,a){var N;let{options:l,requireSorting:u}=this,d=l.dataSorting,c=this.points,f=[],m=n.length===c.length,v,C,w,S,M=!0;if(this.xIncrement=null,n.forEach((z,A)=>{var Q;let F,_=li(z)&&this.pointClass.prototype.optionsToObject.call({series:this},z)||{},{id:ie,x:K}=_;ie||pi(K)?((F=this.findPointIndex(_,S))===-1||F===void 0?f.push(z):c[F]&&z!==((Q=l.data)==null?void 0:Q[F])?(c[F].update(z,!1,void 0,!1),c[F].touched=!0,u&&(S=F+1)):c[F]&&(c[F].touched=!0),(!m||A!==F||d!=null&&d.enabled||this.hasDerivedData)&&(v=!0)):f.push(z)},this),v)for(C=c.length;C--;)(w=c[C])&&!w.touched&&((N=w.remove)==null||N.call(w,!1,a));else m&&!(d!=null&&d.enabled)?(n.forEach((z,A)=>{z===c[A].y||c[A].destroyed||c[A].update(z,!1,void 0,!1)}),f.length=0):M=!1;if(c.forEach(z=>{z&&(z.touched=!1)}),!M)return!1;f.forEach(z=>{this.addPoint(z,!1,void 0,void 0,!1)},this);let L=this.getColumn("x");return this.xIncrement===null&&L.length&&(this.xIncrement=qf(L),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(n,a=!0,l,u){var ae,re;let d=this.points,c=(d==null?void 0:d.length)||0,f=this.options,m=this.chart,v=f.dataSorting,C=this.xAxis,w=f.turboThreshold,S=this.dataTable,M=this.dataColumnKeys(),L=this.pointValKey||"y",N=(this.pointArrayMap||[]).length,z=f.keys,A,F,_=0,ie=1,K;m.options.chart.allowMutatingData||(f.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,K=Hl(!0,n));let Q=(n=K||n||[]).length;if(v!=null&&v.enabled&&(n=this.sortData(n)),m.options.chart.allowMutatingData&&u!==!1&&Q&&c&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(F=this.updateData(n,l)),!F){this.xIncrement=null,this.colorCounter=0;let oe=w&&!f.relativeXValue&&Q>w;if(oe){let pe=this.getFirstValidPoint(n),be=this.getFirstValidPoint(n,Q-1,-1),xe=Ee=>!!(Qv(Ee)&&(z||pi(Ee[0])));if(pi(pe)&&pi(be)){let Ee=[],De=[];for(let Ae of n)Ee.push(this.autoIncrement()),De.push(Ae);S.setColumns({x:Ee,[L]:De})}else if(xe(pe)&&xe(be))if(N){let Ee=+(pe.length===N),De=Array(M.length).fill(0).map(()=>[]);for(let Ae of n){Ee&&De[0].push(this.autoIncrement());for(let Ne=Ee;Ne<=N;Ne++)(ae=De[Ne])==null||ae.push(Ae[Ne-Ee])}S.setColumns(M.reduce((Ae,Ne,Re)=>(Ae[Ne]=De[Re],Ae),{}))}else{z&&(_=z.indexOf("x"),ie=z.indexOf("y"),_=_>=0?_:0,ie=ie>=0?ie:1),pe.length===1&&(ie=0);let Ee=[],De=[];if(_===ie)for(let Ae of n)Ee.push(this.autoIncrement()),De.push(Ae[ie]);else for(let Ae of n)Ee.push(Ae[_]),De.push(Ae[ie]);S.setColumns({x:Ee,[L]:De})}else oe=!1}if(!oe){let pe=M.reduce((be,xe)=>(be[xe]=[],be),{});for(A=0;A<Q;A++){let be=this.pointClass.prototype.applyOptions.apply({series:this},[n[A]]);for(let xe of M)pe[xe][A]=be[xe]}S.setColumns(pe)}for(E1(this.getColumn("y")[0])&&pd(14,!0,m),this.data=[],this.options.data=this.userOptions.data=n,A=c;A--;)(re=d[A])==null||re.destroy();C&&(C.minRange=C.userMinRange),this.isDirty=m.isDirtyBox=!0,this.isDirtyData=!!d,l=!1}f.legendType==="point"&&(this.processData(),this.generatePoints()),a&&m.redraw(l)}sortData(n){let a=this,l=a.options.dataSorting.sortKey||"y",u=function(d,c){return li(c)&&d.pointClass.prototype.optionsToObject.call({series:d},c)||{}};return n.forEach(function(d,c){n[c]=u(a,d),n[c].index=c},this),n.concat().sort((d,c)=>{let f=Jv(l,d),m=Jv(l,c);return m<f?-1:+(m>f)}).forEach(function(d,c){d.x=c},this),a.linkedSeries&&a.linkedSeries.forEach(function(d){var m;let c=d.options,f=c.data;!((m=c.dataSorting)!=null&&m.enabled)&&f&&(f.forEach(function(v,C){f[C]=u(d,v),n[C]&&(f[C].x=n[C].x,f[C].index=C)}),d.setData(f,!1))}),n}getProcessedData(n){let a=this,{dataTable:l,isCartesian:u,options:d,xAxis:c}=a,f=d.cropThreshold,m=n||a.getExtremesFromAll,v=c==null?void 0:c.logarithmic,C=l.rowCount,w,S,M=0,L,N,z,A=a.getColumn("x"),F=l,_=!1;return c&&(N=(L=c.getExtremes()).min,z=L.max,_=!!(c.categories&&!c.names.length),u&&a.sorted&&!m&&(!f||C>f||a.forceCrop)&&(A[C-1]<N||A[0]>z?F=new dd:a.getColumn(a.pointValKey||"y").length&&(A[0]<N||A[C-1]>z)&&(F=(w=this.cropData(l,N,z)).modified,M=w.start,S=!0))),A=F.getColumn("x")||[],{modified:F,cropped:S,cropStart:M,closestPointRange:C1([v?A.map(v.log2lin):A],()=>a.requireSorting&&!_&&pd(15,!1,a.chart))}}processData(n){let a=this.xAxis,l=this.dataTable;if(this.isCartesian&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!n)return!1;let u=this.getProcessedData();l.modified=u.modified,this.cropped=u.cropped,this.cropStart=u.cropStart,this.closestPointRange=this.basePointRange=u.closestPointRange,_t(this,"afterProcessData")}cropData(n,a,l){let u=n.getColumn("x",!0)||[],d=u.length,c={},f,m,v=0,C=d;for(f=0;f<d;f++)if(u[f]>=a){v=Math.max(0,f-1);break}for(m=f;m<d;m++)if(u[m]>l){C=m+1;break}for(let w of this.dataColumnKeys()){let S=n.getColumn(w,!0);S&&(c[w]=S.slice(v,C))}return{modified:new dd({columns:c}),start:v,end:C}}generatePoints(){var K,Q,ae;let n=this.options,a=this.processedData||n.data,l=this.dataTable.modified,u=this.getColumn("x",!0),d=this.pointClass,c=l.rowCount,f=this.cropStart||0,m=this.hasGroupedData,v=n.keys,C=[],w=(K=n.dataGrouping)!=null&&K.groupAll?f:0,S=(Q=this.xAxis)==null?void 0:Q.categories,M=this.pointArrayMap||["y"],L=this.dataColumnKeys(),N,z,A,F,_=this.data,ie;if(!_&&!m){let re=[];re.length=(a==null?void 0:a.length)||0,_=this.data=re}for(v&&m&&(this.options.keys=!1),F=0;F<c;F++)z=f+F,m?((A=new d(this,l.getRow(F,L)||[])).dataGroup=this.groupMap[w+F],(ae=A.dataGroup)!=null&&ae.options&&(A.options=A.dataGroup.options,ya(A,A.dataGroup.options),delete A.dataLabels)):(A=_[z],ie=a?a[z]:l.getRow(F,M),A||ie===void 0||(_[z]=A=new d(this,ie,u[F]))),A&&(A.index=m?w+F:z,C[F]=A,A.category=(S==null?void 0:S[A.x])??A.x,A.key=A.name??A.category);if(this.options.keys=v,_&&(c!==(N=_.length)||m))for(F=0;F<N;F++)F!==f||m||(F+=c),_[F]&&(_[F].destroyElements(),_[F].plotX=void 0);this.data=_,this.points=C,_t(this,"afterGeneratePoints")}getXExtremes(n){return{min:Yv(n),max:qf(n)}}getExtremes(n,a){var K;let{xAxis:l,yAxis:u}=this,d=a||this.getExtremesFromAll||this.options.getExtremesFromAll,c=d&&this.cropped?this.dataTable:this.dataTable.modified,f=c.rowCount,m=n||this.stackedYData,v=m?[m]:((K=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:K.map(Q=>c.getColumn(Q,!0)||[]))||[],C=this.getColumn("x",!0),w=[],S=this.requireSorting&&!this.is("column")?1:0,M=!!u&&u.positiveValuesOnly,L=d||this.cropped||!l,N,z,A,F=0,_=0;for(l&&(F=(N=l.getExtremes()).min,_=N.max),A=0;A<f;A++)if(z=C[A],L||(C[A+S]||z)>=F&&(C[A-S]||z)<=_)for(let Q of v){let ae=Q[A];pi(ae)&&(ae>0||!M)&&w.push(ae)}let ie={activeYData:w,dataMin:Yv(w),dataMax:qf(w)};return _t(this,"afterGetExtremes",{dataExtremes:ie}),ie}applyExtremes(){let n=this.getExtremes();return this.dataMin=n.dataMin,this.dataMax=n.dataMax,n}getFirstValidPoint(n,a=0,l=1){let u=n.length,d=a;for(;d>=0&&d<u;){if(li(n[d]))return n[d];d+=l}}translate(){var _;this.generatePoints();let n=this.options,a=n.stacking,l=this.xAxis,u=this.enabledDataSorting,d=this.yAxis,c=this.points,f=c.length,m=this.pointPlacementToXValue(),v=!!m,C=n.threshold,w=n.startFromThreshold?C:0,S=(n==null?void 0:n.nullInteraction)&&d.len,M,L,N,z,A=Number.MAX_VALUE;function F(ie){return $v(ie,-1e9,1e9)}for(M=0;M<f;M++){let ie,K=c[M],Q=K.x,ae,re,oe=K.y,pe=K.low,be=a&&((_=d.stacking)==null?void 0:_.stacks[(this.negStacks&&oe<(w?0:C)?"-":"")+this.stackKey]);K.plotX=pi(L=l.translate(Q,!1,!1,!1,!0,m))?Kv(F(L)):void 0,a&&this.visible&&be&&be[Q]&&(z=this.getStackIndicator(z,Q,this.index),!K.isNull&&z.key&&(re=(ae=be[Q]).points[z.key]),ae&&Qv(re)&&(pe=re[0],oe=re[1],pe===w&&z.key===be[Q].base&&(pe=jt(pi(C)?C:d.min)),d.positiveValuesOnly&&li(pe)&&pe<=0&&(pe=void 0),K.total=K.stackTotal=jt(ae.total),K.percentage=li(K.y)&&ae.total?K.y/ae.total*100:void 0,K.stackY=oe,this.irregularWidths||ae.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),K.yBottom=li(pe)?F(d.translate(pe,!1,!0,!1,!0)):void 0,this.dataModify&&(oe=this.dataModify.modifyValue(oe,M)),pi(oe)&&K.plotX!==void 0?ie=pi(ie=d.translate(oe,!1,!0,!1,!0))?F(ie):void 0:!pi(oe)&&S&&(ie=S),K.plotY=ie,K.isInside=this.isPointInside(K),K.clientX=v?Kv(l.translate(Q,!1,!1,!1,!0,m)):L,K.negative=(K.y||0)<(C||0),K.isNull||K.visible===!1||(N!==void 0&&(A=Math.min(A,Math.abs(L-N))),N=L),K.zone=this.zones.length?K.getZone():void 0,!K.graphic&&this.group&&u&&(K.isNew=!0)}this.closestPointRangePx=A,_t(this,"afterTranslate")}getValidPoints(n,a,l){let u=this.chart;return(n||this.points||[]).filter(function(d){let{plotX:c,plotY:f}=d;return(!!l||!d.isNull&&!!pi(f))&&(!a||!!u.isInsidePlot(c,f,{inverted:u.inverted}))&&d.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:n,group:a,markerGroup:l}=this,u=n.sharedClips,d=n.renderer,c=n.getClipBox(this),f=this.getSharedClipKey(),m=u[f];m?m.animate(c):u[f]=m=d.clipRect(c),a&&a.clip(this.options.clip===!1?void 0:m),l&&l.clip()}animate(n){let{chart:a,group:l,markerGroup:u}=this,d=a.inverted,c=Xv(this.options.animation),f=[this.getSharedClipKey(),c.duration,c.easing,c.defer].join(","),m=a.sharedClips[f],v=a.sharedClips[f+"m"];if(n&&l){let C=a.getClipBox(this);if(m)m.attr("height",C.height);else{C.width=0,d&&(C.x=a.plotHeight),m=a.renderer.clipRect(C),a.sharedClips[f]=m;let w={x:-99,y:-99,width:d?a.plotWidth+199:99,height:d?99:a.plotHeight+199};v=a.renderer.clipRect(w),a.sharedClips[f+"m"]=v}l.clip(m),u==null||u.clip(v)}else if(m&&!m.hasClass("highcharts-animating")){let C=a.getClipBox(this),w=c.step;(u!=null&&u.element.childNodes.length||a.series.length>1)&&(c.step=function(S,M){w&&w.apply(M,arguments),M.prop==="width"&&(v!=null&&v.element)&&v.attr(d?"height":"width",S+99)}),m.addClass("highcharts-animating").animate(C,c)}}afterAnimate(){this.setClip(),Jf(this.chart.sharedClips,(n,a,l)=>{n&&!this.chart.container.querySelector(`[clip-path="url(#${n.id})"]`)&&(n.destroy(),delete l[a])}),this.finishedAnimating=!0,_t(this,"afterAnimate")}drawPoints(n=this.points){let a,l,u,d,c,f,m,v=this.chart,C=v.styledMode,{colorAxis:w,options:S}=this,M=S.marker,L=S.nullInteraction,N=this[this.specialGroup||"markerGroup"],z=this.xAxis,A=jt(M.enabled,!z||!!z.isRadial||null,this.closestPointRangePx>=M.enabledThreshold*M.radius);if(M.enabled!==!1||this._hasPointMarkers)for(a=0;a<n.length;a++){d=(u=(l=n[a]).graphic)?"animate":"attr",c=l.marker||{},f=!!l.marker;let F=l.isNull;if((A&&!li(c.enabled)||c.enabled)&&(!F||L)&&l.visible!==!1){let _=jt(c.symbol,this.symbol,"rect");m=this.markerAttribs(l,l.selected&&"select"),this.enabledDataSorting&&(l.startXPos=z.reversed?-(m.width||0):z.width);let ie=l.isInside!==!1;if(!u&&ie&&((m.width||0)>0||l.hasImage)&&(l.graphic=u=v.renderer.symbol(_,m.x,m.y,m.width,m.height,f?c:M).add(N),this.enabledDataSorting&&v.hasRendered&&(u.attr({x:l.startXPos}),d="animate")),u&&d==="animate"&&u[ie?"show":"hide"](ie).animate(m),u){let K=this.pointAttribs(l,C||!l.selected?void 0:"select");C?w&&u.css({fill:K.fill}):u[d](K)}u&&u.addClass(l.getClassName(),!0)}else u&&(l.graphic=u.destroy())}}markerAttribs(n,a){let l=this.options,u=l.marker,d=n.marker||{},c=d.symbol||u.symbol,f={},m,v,C=jt(d.radius,u==null?void 0:u.radius);a&&(m=u.states[a],v=d.states&&d.states[a],C=jt(v==null?void 0:v.radius,m==null?void 0:m.radius,C&&C+((m==null?void 0:m.radiusPlus)||0))),n.hasImage=c&&c.indexOf("url")===0,n.hasImage&&(C=0);let w=n.pos();return pi(C)&&w&&(l.crisp&&(w[0]=v1(w[0],n.hasImage?0:c==="rect"?(u==null?void 0:u.lineWidth)||0:1)),f.x=w[0]-C,f.y=w[1]-C),C&&(f.width=f.height=2*C),f}pointAttribs(n,a){var A;let l=this.options,u=l.marker,d=n==null?void 0:n.options,c=(d==null?void 0:d.marker)||{},f=d==null?void 0:d.color,m=n==null?void 0:n.color,v=(A=n==null?void 0:n.zone)==null?void 0:A.color,C,w,S=this.color,M,L,N=jt(c.lineWidth,u.lineWidth),z=n!=null&&n.isNull&&l.nullInteraction?0:1;return S=f||v||m||S,M=c.fillColor||u.fillColor||S,L=c.lineColor||u.lineColor||S,a=a||"normal",C=u.states[a]||{},N=jt((w=c.states&&c.states[a]||{}).lineWidth,C.lineWidth,N+jt(w.lineWidthPlus,C.lineWidthPlus,0)),M=w.fillColor||C.fillColor||M,L=w.lineColor||C.lineColor||L,{stroke:L,"stroke-width":N,fill:M,opacity:z=jt(w.opacity,C.opacity,z)}}destroy(n){var m,v;let a,l,u=this,d=u.chart,c=/AppleWebKit\/533/.test(g1.navigator.userAgent),f=u.data||[];for(_t(u,"destroy",{keepEventsForUpdate:n}),this.removeEvents(n),(u.axisTypes||[]).forEach(function(C){l=u[C],l!=null&&l.series&&(qv(l.series,u),l.isDirty=l.forceRedraw=!0)}),u.legendItem&&u.chart.legend.destroyItem(u),a=f.length;a--;)(v=(m=f[a])==null?void 0:m.destroy)==null||v.call(m);for(let C of u.zones)y1(C,void 0,!0);Fe.clearTimeout(u.animationTimeout),Jf(u,function(C,w){C instanceof Es&&!C.survive&&C[c&&w==="group"?"hide":"destroy"]()}),d.hoverSeries===u&&(d.hoverSeries=void 0),qv(d.series,u),d.orderItems("series"),Jf(u,function(C,w){n&&w==="hcEvents"||delete u[w]})}applyZones(){let{area:n,chart:a,graph:l,zones:u,points:d,xAxis:c,yAxis:f,zoneAxis:m}=this,{inverted:v,renderer:C}=a,w=this[`${m}Axis`],{isXAxis:S,len:M=0,minPointOffset:L=0}=w||{},N=((l==null?void 0:l.strokeWidth())||0)/2+1,z=(A,F=0,_=0)=>{v&&(_=M-_);let{translated:ie=0,lineClip:K}=A,Q=_-ie;K==null||K.push(["L",F,Math.abs(Q)<N?_-N*(Q<=0?-1:1):ie])};if(u.length&&(l||n)&&w&&pi(w.min)){let A=w.getExtremes().max+L,F=K=>{K.forEach((Q,ae)=>{(Q[0]==="M"||Q[0]==="L")&&(K[ae]=[Q[0],S?M-Q[1]:Q[1],S?Q[2]:M-Q[2]])})};if(u.forEach(K=>{K.lineClip=[],K.translated=$v(w.toPixels(jt(K.value,A),!0)||0,0,M)}),l&&!this.showLine&&l.hide(),n&&n.hide(),m==="y"&&d.length<c.len)for(let K of d){let{plotX:Q,plotY:ae,zone:re}=K,oe=re&&u[u.indexOf(re)-1];re&&z(re,Q,ae),oe&&z(oe,Q,ae)}let _=[],ie=w.toPixels(w.getExtremes().min-L,!0);u.forEach(K=>{var Ne,Re;let Q=K.lineClip||[],ae=Math.round(K.translated||0);c.reversed&&Q.reverse();let{clip:re,simpleClip:oe}=K,pe=0,be=0,xe=c.len,Ee=f.len;S?(pe=ae,xe=ie):(be=ae,Ee=ie);let De=[["M",pe,be],["L",xe,be],["L",xe,Ee],["L",pe,Ee],["Z"]],Ae=[De[0],...Q,De[1],De[2],..._,De[3],De[4]];_=Q.reverse(),ie=ae,v&&(F(Ae),n&&F(De)),re?(re.animate({d:Ae}),oe==null||oe.animate({d:De})):(re=K.clip=C.path(Ae),n&&(oe=K.simpleClip=C.path(De))),l&&((Ne=K.graph)==null||Ne.clip(re)),n&&((Re=K.area)==null||Re.clip(oe))})}else this.visible&&(l&&l.show(),n&&n.show())}plotGroup(n,a,l,u,d){let c=this[n],f=!c,m={visibility:l,zIndex:u||.1};return li(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(m.opacity=this.opacity),c||(this[n]=c=this.chart.renderer.g().add(d)),c.addClass("highcharts-"+a+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(li(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(c.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),c.attr(m)[f?"attr":"animate"](this.getPlotBox(a)),c}getPlotBox(n){let a=this.xAxis,l=this.yAxis,u=this.chart,d=u.inverted&&!u.polar&&a&&this.invertible&&n==="series";u.inverted&&(a=l,l=this.xAxis);let c={scale:1,translateX:a?a.left:u.plotLeft,translateY:l?l.top:u.plotTop,name:n};_t(this,"getPlotBox",c);let{scale:f,translateX:m,translateY:v}=c;return{translateX:m,translateY:v,rotation:90*!!d,rotationOriginX:d?f*(a.len-l.len)/2:0,rotationOriginY:d?f*(a.len+l.len)/2:0,scaleX:d?-f:f,scaleY:f}}removeEvents(n){let{eventsToUnbind:a}=this;n||k1(this),a.length&&(a.forEach(l=>{l()}),a.length=0)}render(){var C,w,S,M,L;let n=this,{chart:a,options:l,hasRendered:u}=n,d=Xv(l.animation),c=n.visible?"inherit":"hidden",f=l.zIndex,m=a.seriesGroup,v=n.finishedAnimating?0:d.duration;_t(this,"render"),n.plotGroup("group","series",c,f,m),n.markerGroup=n.plotGroup("markerGroup","markers",c,f,m),l.clip!==!1&&n.setClip(),v&&((C=n.animate)==null||C.call(n,!0)),n.drawGraph&&(n.drawGraph(),n.applyZones()),n.visible&&n.drawPoints(),(w=n.drawDataLabels)==null||w.call(n),(S=n.redrawPoints)==null||S.call(n),l.enableMouseTracking&&((M=n.drawTracker)==null||M.call(n)),v&&((L=n.animate)==null||L.call(n)),u||(v&&d.defer&&(v+=d.defer),n.animationTimeout=ey(()=>{n.afterAnimate()},v||0)),n.isDirty=!1,n.hasRendered=!0,_t(n,"afterRender")}redraw(){let n=this.isDirty||this.isDirtyData;this.translate(),this.render(),n&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(n,a){let{xAxis:l,yAxis:u}=this,d=this.chart.inverted;return this.searchKDTree({clientX:d?l.len-n.chartY+l.pos:n.chartX-l.pos,plotY:d?u.len-n.chartX+u.pos:n.chartY-u.pos},a,n)}buildKDTree(n){this.buildingKdTree=!0;let a=this,l=a.options,u=l.findNearestPointBy.indexOf("y")>-1?2:1;delete a.kdTree,ey(function(){a.kdTree=function d(c,f,m){let v,C,w=c==null?void 0:c.length;if(w)return v=a.kdAxisArray[f%m],c.sort((S,M)=>(S[v]||0)-(M[v]||0)),{point:c[C=Math.floor(w/2)],left:d(c.slice(0,C),f+1,m),right:d(c.slice(C+1),f+1,m)}}(a.getValidPoints(void 0,!a.directTouch,l==null?void 0:l.nullInteraction),u,u),a.buildingKdTree=!1},l.kdNow||(n==null?void 0:n.type)==="touchstart"?0:1)}searchKDTree(n,a,l,u,d){let c=this,[f,m]=this.kdAxisArray,v=a?"distX":"dist",C=(c.options.findNearestPointBy||"").indexOf("y")>-1?2:1,w=!!c.isBubble,S=u||((L,N,z)=>{let A=L[z]||0,F=N[z]||0;return[A===F&&L.index>N.index||A<F?L:N,!1]}),M=d||((L,N)=>L<N);if(this.kdTree||this.buildingKdTree||this.buildKDTree(l),this.kdTree)return function L(N,z,A,F){var pe;let _=z.point,ie=c.kdAxisArray[A%F],K=_,Q=!1;(function(be,xe){var lt;let Ee=be[f],De=xe[f],Ae=li(Ee)&&li(De)?Ee-De:null,Ne=be[m],Re=xe[m],Ie=li(Ne)&&li(Re)?Ne-Re:0,et=w&&((lt=xe.marker)==null?void 0:lt.radius)||0;xe.dist=Math.sqrt((Ae&&Ae*Ae||0)+Ie*Ie)-et,xe.distX=li(Ae)?Math.abs(Ae)-et:Number.MAX_VALUE})(N,_);let ae=(N[ie]||0)-(_[ie]||0)+(w&&((pe=_.marker)==null?void 0:pe.radius)||0),re=ae<0?"left":"right",oe=ae<0?"right":"left";return z[re]&&([K,Q]=S(_,L(N,z[re],A+1,F),v)),z[oe]&&M(Math.sqrt(ae*ae),K[v],Q)&&(K=S(K,L(N,z[oe],A+1,F),v)[0]),K}(n,this.kdTree,C,C)}pointPlacementToXValue(){let{options:n,xAxis:a}=this,l=n.pointPlacement;return l==="between"&&(l=a.reversed?-.5:.5),pi(l)?l*(n.pointRange||a.pointRange):0}isPointInside(n){let{chart:a,xAxis:l,yAxis:u}=this,{plotX:d=-1,plotY:c=-1}=n;return c>=0&&c<=(u?u.len:a.plotHeight)&&d>=0&&d<=(l?l.len:a.plotWidth)}drawTracker(){var S;let n=this,a=n.options,l=a.trackByArea,u=[].concat((l?n.areaPath:n.graphPath)||[]),d=n.chart,c=d.pointer,f=d.renderer,m=((S=d.options.tooltip)==null?void 0:S.snap)||0,v=()=>{a.enableMouseTracking&&d.hoverSeries!==n&&n.onMouseOver()},C="rgba(192,192,192,"+(m1?1e-4:.002)+")",w=n.tracker;w?w.attr({d:u}):n.graph&&(n.tracker=w=f.path(u).attr({visibility:n.visible?"inherit":"hidden",zIndex:2}).addClass(l?"highcharts-tracker-area":"highcharts-tracker-line").add(n.group),d.styledMode||w.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:C,fill:l?C:"none","stroke-width":n.graph.strokeWidth()+(l?0:2*m)}),[n.tracker,n.markerGroup,n.dataLabelsGroup].forEach(M=>{M&&(M.addClass("highcharts-tracker").on("mouseover",v).on("mouseout",L=>{c==null||c.onTrackerMouseOut(L)}),a.cursor&&!d.styledMode&&M.css({cursor:a.cursor}),M.on("touchstart",v))})),_t(this,"afterDrawTracker")}addPoint(n,a,l,u,d){let c,f,m=this.options,{chart:v,data:C,dataTable:w,xAxis:S}=this,M=(S==null?void 0:S.hasNames)&&S.names,L=m.data,N=this.getColumn("x");a=jt(a,!0);let z={series:this};this.pointClass.prototype.applyOptions.apply(z,[n]);let A=z.x;if(f=N.length,this.requireSorting&&A<N[f-1])for(c=!0;f&&N[f-1]>A;)f--;w.setRow(z,f,!0,{addColumns:!1}),M&&z.name&&(M[A]=z.name),L==null||L.splice(f,0,n),(c||this.processedData)&&(this.data.splice(f,0,null),this.processData()),m.legendType==="point"&&this.generatePoints(),l&&(C[0]&&C[0].remove?C[0].remove(!1):([C,L].filter(li).forEach(F=>{F.shift()}),w.deleteRows(0))),d!==!1&&_t(this,"addPoint",{point:z}),this.isDirty=!0,this.isDirtyData=!0,a&&v.redraw(u)}removePoint(n,a,l){let u=this,{chart:d,data:c,points:f,dataTable:m}=u,v=c[n],C=function(){[(f==null?void 0:f.length)===c.length?f:void 0,c,u.options.data].filter(li).forEach(w=>{w.splice(n,1)}),m.deleteRows(n),v==null||v.destroy(),u.isDirty=!0,u.isDirtyData=!0,a&&d.redraw()};p1(l,d),a=jt(a,!0),v?v.firePointEvent("remove",null,C):C()}remove(n,a,l,u){let d=this,c=d.chart;function f(){d.destroy(u),c.isDirtyLegend=c.isDirtyBox=!0,c.linkSeries(u),jt(n,!0)&&c.redraw(a)}l!==!1?_t(d,"remove",null,f):f()}update(n,a){var A,F;_t(this,"update",{options:n=w1(n,this.userOptions)});let l=this,u=l.chart,d=l.userOptions,c=l.initialType||l.type,f=u.options.plotOptions,m=va[c].prototype,v=l.finishedAnimating&&{animation:!1},C={},w,S,M=Us.keepProps.slice(),L=n.type||d.type||u.options.chart.type,N=!(this.hasDerivedData||L&&L!==this.type||n.keys!==void 0||n.pointStart!==void 0||n.pointInterval!==void 0||n.relativeXValue!==void 0||n.joinBy||n.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(_=>l.hasOptionChanged(_)));L=L||c,N?(M.push.apply(M,Us.keepPropsForPoints),n.visible!==!1&&M.push("area","graph"),l.parallelArrays.forEach(function(_){M.push(_+"Data")}),n.data&&(n.dataSorting&&ya(l.options.dataSorting,n.dataSorting),this.setData(n.data,!1))):this.dataTable.modified=this.dataTable,n=Hl(d,{index:d.index===void 0?l.index:d.index,pointStart:((A=f==null?void 0:f.series)==null?void 0:A.pointStart)??d.pointStart??l.getColumn("x")[0]},!N&&{data:l.options.data},n,v),N&&n.data&&(n.data=l.options.data),(M=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(M)).forEach(function(_){M[_]=l[_],delete l[_]});let z=!1;if(va[L]){if(z=L!==l.type,l.remove(!1,!1,!1,!0),z)if(u.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(l,va[L].prototype);else{let _=Object.hasOwnProperty.call(l,"hcEvents")&&l.hcEvents;for(S in m)l[S]=void 0;ya(l,va[L].prototype),_?l.hcEvents=_:delete l.hcEvents}}else pd(17,!0,u,{missingModuleFor:L});if(M.forEach(function(_){l[_]=M[_]}),l.init(u,n),N&&this.points)for(let _ of((w=l.options).visible===!1?(C.graphic=1,C.dataLabel=1):(this.hasMarkerChanged(w,d)&&(C.graphic=1),(F=l.hasDataLabels)!=null&&F.call(l)||(C.dataLabel=1)),this.points))_!=null&&_.series&&(_.resolveColor(),Object.keys(C).length&&_.destroyElements(C),w.showInLegend===!1&&_.legendItem&&u.legend.destroyItem(_));l.initialType=c,u.linkSeries(),u.setSortedData(),z&&l.linkedSeries.length&&(l.isDirtyData=!0),_t(this,"afterUpdate"),jt(a,!0)&&u.redraw(!!N&&void 0)}setName(n){this.name=this.options.name=this.userOptions.name=n,this.chart.isDirtyLegend=!0}hasOptionChanged(n){var f,m;let a=this.chart,l=this.options[n],u=a.options.plotOptions,d=this.userOptions[n],c=jt((f=u==null?void 0:u[this.type])==null?void 0:f[n],(m=u==null?void 0:u.series)==null?void 0:m[n]);return d&&!li(c)?l!==d:l!==jt(c,l)}onMouseOver(){let n=this.chart,a=n.hoverSeries,l=n.pointer;l==null||l.setHoverChartIndex(),a&&a!==this&&a.onMouseOut(),this.options.events.mouseOver&&_t(this,"mouseOver"),this.setState("hover"),n.hoverSeries=this}onMouseOut(){let n=this.options,a=this.chart,l=a.tooltip,u=a.hoverPoint;a.hoverSeries=null,u&&u.onMouseOut(),this&&n.events.mouseOut&&_t(this,"mouseOut"),l&&!this.stickyTracking&&(!l.shared||this.noSharedTooltip)&&l.hide(),a.series.forEach(function(d){d.setState("",!0)})}setState(n,a){let l=this,u=l.options,d=l.graph,c=u.inactiveOtherPoints,f=u.states,m=jt(f[n||"normal"]&&f[n||"normal"].animation,l.chart.options.chart.animation),v=u.lineWidth,C=u.opacity;if(n=n||"",l.state!==n&&([l.group,l.markerGroup,l.dataLabelsGroup].forEach(function(w){w&&(l.state&&w.removeClass("highcharts-series-"+l.state),n&&w.addClass("highcharts-series-"+n))}),l.state=n,!l.chart.styledMode)){if(f[n]&&f[n].enabled===!1)return;if(n&&(v=f[n].lineWidth||v+(f[n].lineWidthPlus||0),C=jt(f[n].opacity,C)),d&&!d.dashstyle&&pi(v))for(let w of[d,...this.zones.map(S=>S.graph)])w==null||w.animate({"stroke-width":v},m);c||[l.group,l.markerGroup,l.dataLabelsGroup,l.labelBySeries].forEach(function(w){w&&w.animate({opacity:C},m)})}a&&c&&l.points&&l.setAllPointsToState(n||void 0)}setAllPointsToState(n){this.points.forEach(function(a){a.setState&&a.setState(n)})}setVisible(n,a){var m;let l=this,u=l.chart,d=u.options.chart.ignoreHiddenSeries,c=l.visible;l.visible=n=l.options.visible=l.userOptions.visible=n===void 0?!c:n;let f=n?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(v=>{var C;(C=l[v])==null||C[f]()}),(u.hoverSeries===l||((m=u.hoverPoint)==null?void 0:m.series)===l)&&l.onMouseOut(),l.legendItem&&u.legend.colorizeItem(l,n),l.isDirty=!0,l.options.stacking&&u.series.forEach(v=>{v.options.stacking&&v.visible&&(v.isDirty=!0)}),l.linkedSeries.forEach(v=>{v.setVisible(n,!1)}),d&&(u.isDirtyBox=!0),_t(l,f),a!==!1&&u.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(n){this.selected=n=this.options.selected=n===void 0?!this.selected:n,this.checkbox&&(this.checkbox.checked=n),_t(this,n?"select":"unselect")}shouldShowTooltip(n,a,l={}){return l.series=this,l.visiblePlotOnly=!0,this.chart.isInsidePlot(n,a,l)}drawLegendSymbol(n,a){var l;(l=Uv[this.options.legendSymbol||"rectangle"])==null||l.call(this,n,a)}}Us.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:y}=this.series.chart;return typeof this.y!="number"?"":y(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Us.types=$t.seriesTypes,Us.registerType=$t.registerSeriesType,Us.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],Us.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],ya(Us.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:We,requireSorting:!0,sorted:!0}),$t.series=Us;let ts=Us,{animObject:S1,setAnimation:M1}=di,{registerEventOptions:ty}=Ll,{composed:T1,marginNames:iy}=se,{distribute:R1}=Qn,{format:L1}=Di,{addEvent:fd,createElement:P1,css:A1,defined:Zf,discardElement:O1,find:D1,fireEvent:Fr,isNumber:sy,merge:vo,pick:Gs,pushUnique:z1,relativeLength:N1,stableSort:F1,syncTimeout:I1}=Fe;class Qf{constructor(n,a){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=n,this.setOptions(a),a.enabled&&(this.render(),ty(this,a),fd(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),fd(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(n){let a=Gs(n.padding,8);this.options=n,this.chart.styledMode||(this.itemStyle=n.itemStyle,this.itemHiddenStyle=vo(this.itemStyle,n.itemHiddenStyle)),this.itemMarginTop=n.itemMarginTop,this.itemMarginBottom=n.itemMarginBottom,this.padding=a,this.initialItemY=a-5,this.symbolWidth=Gs(n.symbolWidth,16),this.pages=[],this.proximate=n.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(n,a){let l=this.chart;this.setOptions(vo(!0,this.options,n)),"events"in this.options&&ty(this,this.options),this.destroy(),l.isDirtyLegend=l.isDirtyBox=!0,Gs(a,!0)&&l.redraw(),Fr(this,"afterUpdate",{redraw:a})}colorizeItem(n,a){var v;let l=n.color,{area:u,group:d,label:c,line:f,symbol:m}=n.legendItem||{};if((n instanceof ts||n instanceof We)&&(n.color=((v=n.options)==null?void 0:v.legendSymbolColor)||l),d==null||d[a?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:C={}}=this,w=C.color,{fillColor:S,fillOpacity:M,lineColor:L,marker:N}=n.options,z=A=>(!a&&(A.fill&&(A.fill=w),A.stroke&&(A.stroke=w)),A);c==null||c.css(vo(a?this.itemStyle:C)),f==null||f.attr(z({stroke:L||n.color})),m&&m.attr(z(N&&m.isMarker?n.pointAttribs():{fill:n.color})),u==null||u.attr(z({fill:S||n.color,"fill-opacity":S?1:M??.75}))}n.color=l,Fr(this,"afterColorizeItem",{item:n,visible:a})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(n){let{group:a,x:l=0,y:u=0}=n.legendItem||{},d=this.options,c=d.symbolPadding,f=!d.rtl,m=n.checkbox;if(a!=null&&a.element){let v={translateX:f?l:this.legendWidth-l-2*c-4,translateY:u};a[Zf(a.translateY)?"animate":"attr"](v,void 0,()=>{Fr(this,"afterPositionItem",{item:n})})}m&&(m.x=l,m.y=u)}destroyItem(n){let a=n.legendItem||{};for(let l of["group","label","line","symbol"])a[l]&&(a[l]=a[l].destroy());n.checkbox=O1(n.checkbox),n.legendItem=void 0}destroy(){for(let n of this.getAllItems())this.destroyItem(n);for(let n of["clipRect","up","down","pager","nav","box","title","group"])this[n]&&(this[n]=this[n].destroy());this.display=null}positionCheckboxes(){var d;let n,a=(d=this.group)==null?void 0:d.alignAttr,l=this.clipHeight||this.legendHeight,u=this.titleHeight;a&&(n=a.translateY,this.allItems.forEach(function(c){let f,m=c.checkbox;m&&(f=n+u+m.y+(this.scrollOffset||0)+3,A1(m,{left:a.translateX+c.checkboxOffset+m.x-20+"px",top:f+"px",display:this.proximate||f>n-6&&f<n+l-6?"":"none"}))},this))}renderTitle(){let n=this.options,a=this.padding,l=n.title,u,d=0;l.text&&(this.title||(this.title=this.chart.renderer.label(l.text,a-3,a-4,void 0,void 0,void 0,n.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(l.style),this.title.add(this.group)),l.width||this.title.css({width:this.maxLegendWidth+"px"}),d=(u=this.title.getBBox()).height,this.offsetWidth=u.width,this.contentGroup.attr({translateY:d})),this.titleHeight=d}setText(n){let a=this.options;n.legendItem.label.attr({text:a.labelFormat?L1(a.labelFormat,n,this.chart):a.labelFormatter.call(n)})}renderItem(n){var ae;let a=n.legendItem=n.legendItem||{},l=this.chart,u=l.renderer,d=this.options,c=d.layout==="horizontal",f=this.symbolWidth,m=d.symbolPadding||0,v=this.itemStyle,C=this.itemHiddenStyle,w=c?Gs(d.itemDistance,20):0,S=!d.rtl,M=!n.series,L=!M&&n.series.drawLegendSymbol?n.series:n,N=L.options,z=!!this.createCheckboxForItem&&N&&N.showCheckbox,A=d.useHTML,F=n.options.className,_=a.label,ie=f+m+w+20*!!z;!_&&(a.group=u.g("legend-item").addClass("highcharts-"+L.type+"-series highcharts-color-"+n.colorIndex+(F?" "+F:"")+(M?" highcharts-series-"+n.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.label=_=u.text("",S?f+m:-m,this.baseline||0,A),l.styledMode||_.css(vo(n.visible?v:C)),_.attr({align:S?"left":"right",zIndex:2}).add(a.group),!this.baseline&&(this.fontMetrics=u.fontMetrics(_),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_.attr("y",this.baseline),this.symbolHeight=Gs(d.symbolHeight,this.fontMetrics.f),d.squareSymbol&&(this.symbolWidth=Gs(d.symbolWidth,Math.max(this.symbolHeight,16)),ie=this.symbolWidth+m+w+20*!!z,S&&_.attr("x",this.symbolWidth+m))),L.drawLegendSymbol(this,n),this.setItemEvents&&this.setItemEvents(n,_,A)),z&&!n.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(n),this.colorizeItem(n,n.visible),(l.styledMode||!v.width)&&_.css({width:(d.itemWidth||this.widthOption||l.spacingBox.width)-ie+"px"}),this.setText(n);let K=_.getBBox(),Q=((ae=this.fontMetrics)==null?void 0:ae.h)||0;n.itemWidth=n.checkboxOffset=d.itemWidth||a.labelWidth||K.width+ie,this.maxItemWidth=Math.max(this.maxItemWidth,n.itemWidth),this.totalItemWidth+=n.itemWidth,this.itemHeight=n.itemHeight=Math.round(a.labelHeight||(K.height>1.5*Q?K.height:Q))}layoutItem(n){let a=this.options,l=this.padding,u=a.layout==="horizontal",d=n.itemHeight,c=this.itemMarginBottom,f=this.itemMarginTop,m=u?Gs(a.itemDistance,20):0,v=this.maxLegendWidth,C=a.alignColumns&&this.totalItemWidth>v?this.maxItemWidth:n.itemWidth,w=n.legendItem||{};u&&this.itemX-l+C>v&&(this.itemX=l,this.lastLineHeight&&(this.itemY+=f+this.lastLineHeight+c),this.lastLineHeight=0),this.lastItemY=f+this.itemY+c,this.lastLineHeight=Math.max(d,this.lastLineHeight),w.x=this.itemX,w.y=this.itemY,u?this.itemX+=C:(this.itemY+=f+d+c,this.lastLineHeight=d),this.offsetWidth=this.widthOption||Math.max((u?this.itemX-l-(n.checkbox?0:m):C)+l,this.offsetWidth)}getAllItems(){let n=[];return this.chart.series.forEach(function(a){var u;let l=a==null?void 0:a.options;a&&Gs(l.showInLegend,!Zf(l.linkedTo)&&void 0,!0)&&(n=n.concat(((u=a.legendItem)==null?void 0:u.labels)||(l.legendType==="point"?a.data:a)))}),Fr(this,"afterGetAllItems",{allItems:n}),n}getAlignment(){let n=this.options;return this.proximate?n.align.charAt(0)+"tv":n.floating?"":n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0)}adjustMargins(n,a){let l=this.chart,u=this.options,d=this.getAlignment();d&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((c,f)=>{c.test(d)&&!Zf(n[f])&&(l[iy[f]]=Math.max(l[iy[f]],l.legend[(f+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][f]*u[f%2?"x":"y"]+(u.margin??12)+a[f]+(l.titleOffset[f]||0)))})}proximatePositions(){let n,a=this.chart,l=[],u=this.options.align==="left";for(let d of(this.allItems.forEach(function(c){let f,m,v=u,C,w;c.yAxis&&(c.xAxis.options.reversed&&(v=!v),c.points&&(f=D1(v?c.points:c.points.slice(0).reverse(),function(S){return sy(S.plotY)})),m=this.itemMarginTop+c.legendItem.label.getBBox().height+this.itemMarginBottom,w=c.yAxis.top-a.plotTop,C=c.visible?(f?f.plotY:c.yAxis.height)+(w-.3*m):w+c.yAxis.height,l.push({target:C,size:m,item:c}))},this),R1(l,a.plotHeight)))n=d.item.legendItem||{},sy(d.pos)&&(n.y=a.plotTop-a.spacing[0]+d.pos)}render(){let n=this.chart,a=n.renderer,l=this.options,u=this.padding,d=this.getAllItems(),c,f,m,v=this.group,C,w=this.box;this.itemX=u,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=N1(l.width,n.spacingBox.width-u),C=n.spacingBox.width-2*u-l.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(C/=2),this.maxLegendWidth=this.widthOption||C,v||(this.group=v=a.g("legend").addClass(l.className||"").attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(v),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),F1(d,(S,M)=>{var L,N;return(((L=S.options)==null?void 0:L.legendIndex)||0)-(((N=M.options)==null?void 0:N.legendIndex)||0)}),l.reversed&&d.reverse(),this.allItems=d,this.display=c=!!d.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,d.forEach(this.renderItem,this),d.forEach(this.layoutItem,this),f=(this.widthOption||this.offsetWidth)+u,m=this.lastItemY+this.lastLineHeight+this.titleHeight,m=this.handleOverflow(m)+u,w||(this.box=w=a.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(v)),n.styledMode||w.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),f>0&&m>0&&w[w.placed?"animate":"attr"](w.crisp.call({},{x:0,y:0,width:f,height:m},w.strokeWidth())),v[c?"show":"hide"](),n.styledMode&&v.getStyle("display")==="none"&&(f=m=0),this.legendWidth=f,this.legendHeight=m,c&&this.align(),this.proximate||this.positionItems(),Fr(this,"afterRender")}align(n=this.chart.spacingBox){let a=this.chart,l=this.options,u=n.y;/(lth|ct|rth)/.test(this.getAlignment())&&a.titleOffset[0]>0?u+=a.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&a.titleOffset[2]>0&&(u-=a.titleOffset[2]),u!==n.y&&(n=vo(n,{y:u})),a.hasRendered||(this.group.placed=!1),this.group.align(vo(l,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,n)}handleOverflow(n){let a=this,l=this.chart,u=l.renderer,d=this.options,c=d.y,f=d.verticalAlign==="top",m=this.padding,v=d.maxHeight,C=d.navigation,w=Gs(C.animation,!0),S=C.arrowSize||12,M=this.pages,L=this.allItems,N=function(re){typeof re=="number"?ae.attr({height:re}):ae&&(a.clipRect=ae.destroy(),a.contentGroup.clip()),a.contentGroup.div&&(a.contentGroup.div.style.clip=re?"rect("+m+"px,9999px,"+(m+re)+"px,0)":"auto")},z=function(re){return a[re]=u.circle(0,0,1.3*S).translate(S/2,S/2).add(Q),l.styledMode||a[re].attr("fill","rgba(0,0,0,0.0001)"),a[re]},A,F,_,ie,K=l.spacingBox.height+(f?-c:c)-m,Q=this.nav,ae=this.clipRect;return d.layout!=="horizontal"||d.verticalAlign==="middle"||d.floating||(K/=2),v&&(K=Math.min(K,v)),M.length=0,n&&K>0&&n>K&&C.enabled!==!1?(this.clipHeight=A=Math.max(K-20-this.titleHeight-m,0),this.currentPage=Gs(this.currentPage,1),this.fullHeight=n,L.forEach((re,oe)=>{let pe=(_=re.legendItem||{}).y||0,be=Math.round(_.label.getBBox().height),xe=M.length;(!xe||pe-M[xe-1]>A&&(F||pe)!==M[xe-1])&&(M.push(F||pe),xe++),_.pageIx=xe-1,F&&ie&&(ie.pageIx=xe-1),oe===L.length-1&&pe+be-M[xe-1]>A&&pe>M[xe-1]&&(M.push(pe),_.pageIx=xe),pe!==F&&(F=pe),ie=_}),ae||(ae=a.clipRect=u.clipRect(0,m-2,9999,0),a.contentGroup.clip(ae)),N(A),Q||(this.nav=Q=u.g().attr({zIndex:1}).add(this.group),this.up=u.symbol("triangle",0,0,S,S).add(Q),z("upTracker").on("click",function(){a.scroll(-1,w)}),this.pager=u.text("",15,10).addClass("highcharts-legend-navigation"),!l.styledMode&&C.style&&this.pager.css(C.style),this.pager.add(Q),this.down=u.symbol("triangle-down",0,0,S,S).add(Q),z("downTracker").on("click",function(){a.scroll(1,w)})),a.scroll(0),n=K):Q&&(N(),this.nav=Q.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),n}scroll(n,a){let l=this.chart,u=this.pages,d=u.length,c=this.clipHeight,f=this.options.navigation,m=this.pager,v=this.padding,C=this.currentPage+n;C>d&&(C=d),C>0&&(a!==void 0&&M1(a,l),this.nav.attr({translateX:v,translateY:c+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(w){w.attr({class:C===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),m.attr({text:C+"/"+d}),[this.down,this.downTracker].forEach(function(w){w.attr({x:18+this.pager.getBBox().width,class:C===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:C===1?f.inactiveColor:f.activeColor}),this.upTracker.css({cursor:C===1?"default":"pointer"}),this.down.attr({fill:C===d?f.inactiveColor:f.activeColor}),this.downTracker.css({cursor:C===d?"default":"pointer"})),this.scrollOffset=-u[C-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=C,this.positionCheckboxes(),I1(()=>{Fr(this,"afterScroll",{currentPage:C})},S1(Gs(a,l.renderer.globalAnimation,!0)).duration))}setItemEvents(n,a,l){let u=this,d=n.legendItem||{},c=u.chart.renderer.boxWrapper,f=n instanceof We,m=n instanceof ts,v="highcharts-legend-"+(f?"point":"series")+"-active",C=u.chart.styledMode,w=l?[a,d.symbol]:[d.group],S=M=>{u.allItems.forEach(L=>{n!==L&&[L].concat(L.linkedSeries||[]).forEach(N=>{N.setState(M,!f)})})};for(let M of w)M&&M.on("mouseover",function(){n.visible&&S("inactive"),n.setState("hover"),n.visible&&c.addClass(v),C||a.css(u.options.itemHoverStyle)}).on("mouseout",function(){u.chart.styledMode||a.css(vo(n.visible?u.itemStyle:u.itemHiddenStyle)),S(""),c.removeClass(v),n.setState()}).on("click",function(L){let N=function(){n.setVisible&&n.setVisible(),S(n.visible?"inactive":"")};c.removeClass(v),Fr(u,"itemClick",{browserEvent:L,legendItem:n},N),f?n.firePointEvent("legendItemClick",{browserEvent:L}):m&&Fr(n,"legendItemClick",{browserEvent:L})})}createCheckboxForItem(n){n.checkbox=P1("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container),fd(n.checkbox,"click",function(a){let l=a.target;Fr(n.series||n,"checkboxClick",{checked:l.checked,item:n},function(){n.select()})})}}(function(y){y.compose=function(n){z1(T1,"Core.Legend")&&fd(n,"beforeMargins",function(){this.legend=new y(this,this.options.legend)})}})(Qf||(Qf={}));let ry=Qf,{animate:em,animObject:H1,setAnimation:tm}=di,{defaultOptions:im}=Oi,{numberFormat:B1}=Di,{registerEventOptions:ny}=Ll,{charts:yo,doc:Bl,marginNames:oy,svg:_1,win:ay}=se,{seriesTypes:sm}=$t,{addEvent:rm,attr:ly,createElement:nm,css:Xs,defined:pn,diffObjects:hy,discardElement:j1,erase:W1,error:om,extend:fn,find:am,fireEvent:ft,getAlignFactor:V1,getStyle:lm,isArray:U1,isNumber:wa,isObject:G1,isString:md,merge:fr,objectEach:hm,pick:Yi,pInt:X1,relativeLength:uy,removeEvent:dy,splat:gd,syncTimeout:Y1,uniqueKey:$1}=Fe;class mn{static chart(n,a,l){return new mn(n,a,l)}constructor(n,a,l){this.sharedClips={};let u=[...arguments];(md(n)||n.nodeName)&&(this.renderTo=u.shift()),this.init(u[0],u[1])}setZoomOptions(){let n=this.options.chart,a=n.zooming;this.zooming={...a,type:Yi(n.zoomType,a.type),key:Yi(n.zoomKey,a.key),pinchType:Yi(n.pinchType,a.pinchType),singleTouch:Yi(n.zoomBySingleTouch,a.singleTouch,!1),resetButton:fr(a.resetButton,n.resetZoomButton)}}init(n,a){ft(this,"init",{args:arguments},function(){var c;let l=fr(im,n),u=l.chart,d=this.renderTo||u.renderTo;this.userOptions=fn({},n),(this.renderTo=md(d)?Bl.getElementById(d):d)||om(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=a,this.isResizing=0,this.options=l,this.axes=[],this.series=[],this.locale=l.lang.locale??((c=this.renderTo.closest("[lang]"))==null?void 0:c.lang),this.time=new ol(fn(l.time||{},{locale:this.locale}),l.lang),l.time=this.time.options,this.numberFormatter=(u.numberFormatter||B1).bind(this),this.styledMode=u.styledMode,this.hasCartesianSeries=u.showAxes,this.index=yo.length,yo.push(this),se.chartCount++,ny(this,u),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ft(this,"afterInit"),this.firstRender()})}initSeries(n){let a=this.options.chart,l=n.type||a.type,u=sm[l];u||om(17,!0,this,{missingModuleFor:l});let d=new u;return typeof d.init=="function"&&d.init(this,n),d}setSortedData(){this.getSeriesOrderByLinks().forEach(function(n){n.points||n.data||!n.enabledDataSorting||n.setData(n.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(n,a){return n.linkedSeries.length||a.linkedSeries.length?a.linkedSeries.length-n.linkedSeries.length:0})}orderItems(n,a=0){let l=this[n],u=this.options[n]=gd(this.options[n]).slice(),d=this.userOptions[n]=this.userOptions[n]?gd(this.userOptions[n]).slice():[];if(this.hasRendered&&(u.splice(a),d.splice(a)),l)for(let c=a,f=l.length;c<f;++c){let m=l[c];m&&(m.index=c,m instanceof ts&&(m.name=m.getName()),m.options.isInternal||(u[c]=m.options,d[c]=m.userOptions))}}getClipBox(n,a){var C,w;let l=this.inverted,{xAxis:u,yAxis:d}=n||{},{x:c,y:f,width:m,height:v}=fr(this.clipBox);return n&&(u&&u.len!==this.plotSizeX&&(m=u.len),d&&d.len!==this.plotSizeY&&(v=d.len),l&&!n.invertible&&([m,v]=[v,m])),a&&(c+=((C=l?d:u)==null?void 0:C.pos)??this.plotLeft,f+=((w=l?u:d)==null?void 0:w.pos)??this.plotTop),{x:c,y:f,width:m,height:v}}isInsidePlot(n,a,l={}){var z;let{inverted:u,plotBox:d,plotLeft:c,plotTop:f,scrollablePlotBox:m}=this,{scrollLeft:v=0,scrollTop:C=0}=l.visiblePlotOnly&&((z=this.scrollablePlotArea)==null?void 0:z.scrollingContainer)||{},w=l.series,S=l.visiblePlotOnly&&m||d,M=l.inverted?a:n,L=l.inverted?n:a,N={x:M,y:L,isInsidePlot:!0,options:l};if(!l.ignoreX){let A=w&&(u&&!this.polar?w.yAxis:w.xAxis)||{pos:c,len:1/0},F=l.paneCoordinates?A.pos+M:c+M;F>=Math.max(v+c,A.pos)&&F<=Math.min(v+c+S.width,A.pos+A.len)||(N.isInsidePlot=!1)}if(!l.ignoreY&&N.isInsidePlot){let A=!u&&l.axis&&!l.axis.isXAxis&&l.axis||w&&(u?w.xAxis:w.yAxis)||{pos:f,len:1/0},F=l.paneCoordinates?A.pos+L:f+L;F>=Math.max(C+f,A.pos)&&F<=Math.min(C+f+S.height,A.pos+A.len)||(N.isInsidePlot=!1)}return ft(this,"afterIsInsidePlot",N),N.isInsidePlot}redraw(n){ft(this,"beforeRedraw");let a=this.hasCartesianSeries?this.axes:this.colorAxis||[],l=this.series,u=this.pointer,d=this.legend,c=this.userOptions.legend,f=this.renderer,m=f.isHidden(),v=[],C,w,S,M=this.isDirtyBox,L=this.isDirtyLegend,N;for(f.rootFontSize=f.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),tm(!!this.hasRendered&&n,this),m&&this.temporaryDisplay(),this.layOutTitles(!1),S=l.length;S--;)if(((N=l[S]).options.stacking||N.options.centerInCategory)&&(w=!0,N.isDirty)){C=!0;break}if(C)for(S=l.length;S--;)(N=l[S]).options.stacking&&(N.isDirty=!0);l.forEach(function(z){z.isDirty&&(z.options.legendType==="point"?(typeof z.updateTotals=="function"&&z.updateTotals(),L=!0):c&&(c.labelFormatter||c.labelFormat)&&(L=!0)),z.isDirtyData&&ft(z,"updatedData")}),L&&d&&d.options.enabled&&(d.render(),this.isDirtyLegend=!1),w&&this.getStacks(),a.forEach(function(z){z.updateNames(),z.setScale()}),this.getMargins(),a.forEach(function(z){z.isDirty&&(M=!0)}),a.forEach(function(z){let A=z.min+","+z.max;z.extKey!==A&&(z.extKey=A,v.push(function(){ft(z,"afterSetExtremes",fn(z.eventArgs,z.getExtremes())),delete z.eventArgs})),(M||w)&&z.redraw()}),M&&this.drawChartBox(),ft(this,"predraw"),l.forEach(function(z){(M||z.isDirty)&&z.visible&&z.redraw(),z.isDirtyData=!1}),u&&u.reset(!0),f.draw(),ft(this,"redraw"),ft(this,"render"),m&&this.temporaryDisplay(!0),v.forEach(function(z){z.call()})}get(n){let a=this.series;function l(d){return d.id===n||d.options&&d.options.id===n}let u=am(this.axes,l)||am(this.series,l);for(let d=0;!u&&d<a.length;d++)u=am(a[d].points||[],l);return u}createAxes(){let n=this.userOptions;for(let a of(ft(this,"createAxes"),["xAxis","yAxis"]))for(let l of n[a]=gd(n[a]||{}))new cn(this,l,a);ft(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((n,a)=>(a.getPointsCollection().forEach(l=>{Yi(l.selectedStaging,l.selected)&&n.push(l)}),n),[])}getSelectedSeries(){return this.series.filter(n=>n.selected)}setTitle(n,a,l){this.applyDescription("title",n),this.applyDescription("subtitle",a),this.applyDescription("caption",void 0),this.layOutTitles(l)}applyDescription(n,a){var c;let l=this,u=this.options[n]=fr(this.options[n],a),d=this[n];d&&a&&(this[n]=d=d.destroy()),u&&!d&&((d=this.renderer.text(u.text,0,0,u.useHTML).attr({align:u.align,class:"highcharts-"+n,zIndex:u.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(f,m){l.applyDescription(n,f),l.layOutTitles(m)},this.styledMode||d.css(fn(n==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},u.style)),d.textPxLength=d.getBBox().width,d.css({whiteSpace:(c=u.style)==null?void 0:c.whiteSpace}),this[n]=d)}layOutTitles(n=!0){var f,m,v,C;let a=[0,0,0],{options:l,renderer:u,spacingBox:d}=this;["title","subtitle","caption"].forEach(w=>{var z;let S=this[w],M=this.options[w],L=fr(d),N=(S==null?void 0:S.textPxLength)||0;if(S&&M){ft(this,"layOutTitle",{alignTo:L,key:w,textPxLength:N});let A=u.fontMetrics(S),F=A.b,_=A.h,ie=M.verticalAlign||"top",K=ie==="top",Q=K&&M.minScale||1,ae=w==="title"?K?-3:0:K?a[0]+2:0,re=Math.min(L.width/N,1),oe=Math.max(Q,re),pe=fr({y:ie==="bottom"?F:ae+F},{align:w==="title"?re<Q?"left":"center":(z=this.title)==null?void 0:z.alignValue},M),be=(M.width||(re>Q?this.chartWidth:L.width)/oe)+"px";S.alignValue!==pe.align&&(S.placed=!1);let xe=Math.round(S.css({width:be}).getBBox(M.useHTML).height);if(pe.height=xe,S.align(pe,!1,L).attr({align:pe.align,scaleX:oe,scaleY:oe,"transform-origin":`${L.x+N*oe*V1(pe.align)} ${_}`}),!M.floating){let Ee=xe*(xe<1.2*_?1:oe);ie==="top"?a[0]=Math.ceil(a[0]+Ee):ie==="bottom"&&(a[2]=Math.ceil(a[2]+Ee))}}},this),a[0]&&(((f=l.title)==null?void 0:f.verticalAlign)||"top")==="top"&&(a[0]+=((m=l.title)==null?void 0:m.margin)||0),a[2]&&((v=l.caption)==null?void 0:v.verticalAlign)==="bottom"&&(a[2]+=((C=l.caption)==null?void 0:C.margin)||0);let c=!this.titleOffset||this.titleOffset.join(",")!==a.join(",");this.titleOffset=a,ft(this,"afterLayOutTitles"),!this.isDirtyBox&&c&&(this.isDirtyBox=this.isDirtyLegend=c,this.hasRendered&&n&&this.isDirtyBox&&this.redraw())}getContainerBox(){let n=[].map.call(this.renderTo.children,l=>{if(l!==this.container){let u=l.style.display;return l.style.display="none",[l,u]}}),a={width:lm(this.renderTo,"width",!0)||0,height:lm(this.renderTo,"height",!0)||0};return n.filter(Boolean).forEach(([l,u])=>{l.style.display=u}),a}getChartSize(){var c;let n=this.options.chart,a=n.width,l=n.height,u=this.getContainerBox(),d=u.height<=1||!((c=this.renderTo.parentElement)!=null&&c.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,a||u.width||600),this.chartHeight=Math.max(0,uy(l,this.chartWidth)||(d?400:u.height)),this.containerBox=u}temporaryDisplay(n){let a=this.renderTo,l;if(n)for(;a!=null&&a.style;)a.hcOrigStyle&&(Xs(a,a.hcOrigStyle),delete a.hcOrigStyle),a.hcOrigDetached&&(Bl.body.removeChild(a),a.hcOrigDetached=!1),a=a.parentNode;else for(;a!=null&&a.style&&(Bl.body.contains(a)||a.parentNode||(a.hcOrigDetached=!0,Bl.body.appendChild(a)),(lm(a,"display",!1)==="none"||a.hcOricDetached)&&(a.hcOrigStyle={display:a.style.display,height:a.style.height,overflow:a.style.overflow},l={display:"block",overflow:"hidden"},a!==this.renderTo&&(l.height=0),Xs(a,l),a.offsetWidth||a.style.setProperty("display","block","important")),(a=a.parentNode)!==Bl.body););}setClassName(n){this.container.className="highcharts-container "+(n||"")}getContainer(){var S,M;let n,a=this.options,l=a.chart,u="data-highcharts-chart",d=$1(),c=this.renderTo,f=X1(ly(c,u));wa(f)&&yo[f]&&yo[f].hasRendered&&yo[f].destroy(),ly(c,u,this.index),c.innerHTML=Mt.emptyHTML,l.skipClone||c.offsetWidth||this.temporaryDisplay(),this.getChartSize();let m=this.chartHeight,v=this.chartWidth;Xs(c,{overflow:"hidden"}),this.styledMode||(n=fn({position:"relative",overflow:"hidden",width:v+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},l.style||{}));let C=nm("div",{id:d},n,c);this.container=C,this.getChartSize(),v!==this.chartWidth&&(v=this.chartWidth,this.styledMode||Xs(C,{width:Yi((S=l.style)==null?void 0:S.width,v+"px")})),this.containerBox=this.getContainerBox(),this._cursor=C.style.cursor;let w=l.renderer||!_1?Zn.getRendererType(l.renderer):ds;if(this.renderer=new w(C,v,m,void 0,l.forExport,(M=a.exporting)==null?void 0:M.allowHTML,this.styledMode),tm(void 0,this),this.setClassName(l.className),this.styledMode)for(let L in a.defs)this.renderer.definition(a.defs[L]);else this.renderer.setStyle(l.style);this.renderer.chartIndex=this.index,ft(this,"afterGetContainer")}getMargins(n){var d;let{spacing:a,margin:l,titleOffset:u}=this;this.resetMargins(),u[0]&&!pn(l[0])&&(this.plotTop=Math.max(this.plotTop,u[0]+a[0])),u[2]&&!pn(l[2])&&(this.marginBottom=Math.max(this.marginBottom,u[2]+a[2])),(d=this.legend)!=null&&d.display&&this.legend.adjustMargins(l,a),ft(this,"getMargins"),n||this.getAxisMargins()}getAxisMargins(){let n=this,a=n.axisOffset=[0,0,0,0],l=n.colorAxis,u=n.margin,d=c=>{c.forEach(f=>{f.visible&&f.getOffset()})};n.hasCartesianSeries?d(n.axes):l!=null&&l.length&&d(l),oy.forEach((c,f)=>{pn(u[f])||(n[c]+=a[f])}),n.setChartSize()}getOptions(){return hy(this.userOptions,im)}reflow(n){var d,c;let a=this,l=a.containerBox,u=a.getContainerBox();(d=a.pointer)==null||delete d.chartPosition,!((c=a.exporting)!=null&&c.isPrinting)&&!a.isResizing&&l&&u.width&&((u.width!==l.width||u.height!==l.height)&&(Fe.clearTimeout(a.reflowTimeout),a.reflowTimeout=Y1(function(){a.container&&a.setSize(void 0,void 0,!1)},100*!!n)),a.containerBox=u)}setReflow(){let n=this,a=l=>{var u;(u=n.options)!=null&&u.chart.reflow&&n.hasLoaded&&n.reflow(l)};if(typeof ResizeObserver=="function")new ResizeObserver(a).observe(n.renderTo);else{let l=rm(ay,"resize",a);rm(this,"destroy",l)}}setSize(n,a,l){let u=this,d=u.renderer;u.isResizing+=1,tm(l,u);let c=d.globalAnimation;u.oldChartHeight=u.chartHeight,u.oldChartWidth=u.chartWidth,n!==void 0&&(u.options.chart.width=n),a!==void 0&&(u.options.chart.height=a),u.getChartSize();let{chartWidth:f,chartHeight:m,scrollablePixelsX:v=0,scrollablePixelsY:C=0}=u;(u.isDirtyBox||f!==u.oldChartWidth||m!==u.oldChartHeight)&&(u.styledMode||(c?em:Xs)(u.container,{width:`${f+v}px`,height:`${m+C}px`},c),u.setChartSize(!0),d.setSize(f,m,c),u.axes.forEach(function(w){w.isDirty=!0,w.setScale()}),u.isDirtyLegend=!0,u.isDirtyBox=!0,u.layOutTitles(),u.getMargins(),u.redraw(c),u.oldChartHeight=void 0,ft(u,"resize"),setTimeout(()=>{u&&ft(u,"endResize")},H1(c).duration)),u.isResizing-=1}setChartSize(n){let a,l,u,d,{chartHeight:c,chartWidth:f,inverted:m,spacing:v,renderer:C}=this,w=this.clipOffset,S=Math[m?"floor":"round"];this.plotLeft=a=Math.round(this.plotLeft),this.plotTop=l=Math.round(this.plotTop),this.plotWidth=u=Math.max(0,Math.round(f-a-(this.marginRight??0))),this.plotHeight=d=Math.max(0,Math.round(c-l-(this.marginBottom??0))),this.plotSizeX=m?d:u,this.plotSizeY=m?u:d,this.spacingBox=C.spacingBox={x:v[3],y:v[0],width:f-v[3]-v[1],height:c-v[0]-v[2]},this.plotBox=C.plotBox={x:a,y:l,width:u,height:d},w&&(this.clipBox={x:S(w[3]),y:S(w[0]),width:S(this.plotSizeX-w[1]-w[3]),height:S(this.plotSizeY-w[0]-w[2])}),n||(this.axes.forEach(function(M){M.setAxisSize(),M.setAxisTranslation()}),C.alignElements()),ft(this,"afterSetChartSize",{skipAxes:n})}resetMargins(){ft(this,"resetMargins");let n=this,a=n.options.chart,l=a.plotBorderWidth||0,u=Math.round(l)/2;["margin","spacing"].forEach(d=>{let c=a[d],f=G1(c)?c:[c,c,c,c];["Top","Right","Bottom","Left"].forEach((m,v)=>{n[d][v]=a[`${d}${m}`]??f[v]})}),oy.forEach((d,c)=>{n[d]=n.margin[c]??n.spacing[c]}),n.axisOffset=[0,0,0,0],n.clipOffset=[u,u,u,u],n.plotBorderWidth=l}drawChartBox(){let n=this.options.chart,a=this.renderer,l=this.chartWidth,u=this.chartHeight,d=this.styledMode,c=this.plotBGImage,f=n.backgroundColor,m=n.plotBackgroundColor,v=n.plotBackgroundImage,C=this.plotLeft,w=this.plotTop,S=this.plotWidth,M=this.plotHeight,L=this.plotBox,N=this.clipRect,z=this.clipBox,A=this.chartBackground,F=this.plotBackground,_=this.plotBorder,ie,K,Q,ae="animate";A||(this.chartBackground=A=a.rect().addClass("highcharts-background").add(),ae="attr"),d?ie=K=A.strokeWidth():(K=(ie=n.borderWidth||0)+8*!!n.shadow,Q={fill:f||"none"},(ie||A["stroke-width"])&&(Q.stroke=n.borderColor,Q["stroke-width"]=ie),A.attr(Q).shadow(n.shadow)),A[ae]({x:K/2,y:K/2,width:l-K-ie%2,height:u-K-ie%2,r:n.borderRadius}),ae="animate",F||(ae="attr",this.plotBackground=F=a.rect().addClass("highcharts-plot-background").add()),F[ae](L),!d&&(F.attr({fill:m||"none"}).shadow(n.plotShadow),v&&(c?(v!==c.attr("href")&&c.attr("href",v),c.animate(L)):this.plotBGImage=a.image(v,C,w,S,M).add())),N?N.animate({width:z.width,height:z.height}):this.clipRect=a.clipRect(z),ae="animate",_||(ae="attr",this.plotBorder=_=a.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),d||_.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),_[ae](_.crisp(L,-_.strokeWidth())),this.isDirtyBox=!1,ft(this,"afterDrawChartBox")}propFromSeries(){let n,a,l,u=this,d=u.options.chart,c=u.options.series;["inverted","angular","polar"].forEach(function(f){for(a=sm[d.type],l=d[f]||a&&a.prototype[f],n=c==null?void 0:c.length;!l&&n--;)(a=sm[c[n].type])&&a.prototype[f]&&(l=!0);u[f]=l})}linkSeries(n){let a=this,l=a.series;l.forEach(function(u){u.linkedSeries.length=0}),l.forEach(function(u){let{linkedTo:d}=u.options;if(md(d)){let c;(c=d===":previous"?a.series[u.index-1]:a.get(d))&&c.linkedParent!==u&&(c.linkedSeries.push(u),u.linkedParent=c,c.enabledDataSorting&&u.setDataSortingOptions(),u.visible=Yi(u.options.visible,c.options.visible,u.visible))}}),ft(this,"afterLinkSeries",{isUpdating:n})}renderSeries(){this.series.forEach(function(n){n.translate(),n.render()})}render(){var C;let n=this.axes,a=this.colorAxis,l=this.renderer,u=this.options.chart.axisLayoutRuns||2,d=w=>{w.forEach(S=>{S.visible&&S.render()})},c=0,f=!0,m,v=0;for(let w of(this.setTitle(),ft(this,"beforeMargins"),(C=this.getStacks)==null||C.call(this),this.getMargins(!0),this.setChartSize(),n)){let{options:S}=w,{labels:M}=S;if(this.hasCartesianSeries&&w.horiz&&w.visible&&M.enabled&&w.series.length&&w.coll!=="colorAxis"&&!this.polar){c=S.tickLength,w.createGroups();let L=new Qi(w,0,"",!0),N=L.createLabel("x",M);if(L.destroy(),N&&Yi(M.reserveSpace,!wa(S.crossing))&&(c=N.getBBox().height+M.distance+Math.max(S.offset||0,0)),c){N==null||N.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-c,0);(f||m||u>1)&&v<u;){let w=this.plotWidth,S=this.plotHeight;for(let M of n)v===0?M.setScale():(M.horiz&&f||!M.horiz&&m)&&M.setTickInterval(!0);v===0?this.getAxisMargins():this.getMargins(),f=w/this.plotWidth>(v?1:1.1),m=S/this.plotHeight>(v?1:1.05),v++}this.drawChartBox(),this.hasCartesianSeries?d(n):a!=null&&a.length&&d(a),this.seriesGroup||(this.seriesGroup=l.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.dataLabelsGroup||(this.dataLabelsGroup=l.g("datalabels-group").attr({zIndex:6}).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(n){let a=this,l=fr(!0,this.options.credits,n);l.enabled&&!this.credits&&(this.credits=this.renderer.text(l.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){l.href&&(ay.location.href=l.href)}).attr({align:l.position.align,zIndex:8}),a.styledMode||this.credits.css(l.style),this.credits.add().align(l.position),this.credits.update=function(u){a.credits=a.credits.destroy(),a.addCredits(u)})}destroy(){var f,m;let n,a=this,l=a.axes,u=a.series,d=a.container,c=d==null?void 0:d.parentNode;for(ft(a,"destroy"),a.renderer.forExport?W1(yo,a):yo[a.index]=void 0,se.chartCount--,a.renderTo.removeAttribute("data-highcharts-chart"),dy(a),n=l.length;n--;)l[n]=l[n].destroy();for((m=(f=this.scroller)==null?void 0:f.destroy)==null||m.call(f),n=u.length;n--;)u[n]=u[n].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(v=>{var C,w;a[v]=(w=(C=a[v])==null?void 0:C.destroy)==null?void 0:w.call(C)}),d&&(d.innerHTML=Mt.emptyHTML,dy(d),c&&j1(d)),hm(a,function(v,C){delete a[C]})}firstRender(){var u;let n=this,a=n.options;n.getContainer(),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.createAxes();let l=U1(a.series)?a.series:[];a.series=[],l.forEach(function(d){n.initSeries(d)}),n.linkSeries(),n.setSortedData(),ft(n,"beforeRender"),n.render(),(u=n.pointer)==null||u.getChartPosition(),n.renderer.imgCount||n.hasLoaded||n.onload(),n.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(n){n&&this.index!==void 0&&n.apply(this,[this])},this),ft(this,"load"),ft(this,"render"),pn(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:n,title:a}=this;n&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((a==null?void 0:a.element.textContent)||"").replace(/</g,"&lt;")}),n.accessibility&&n.accessibility.enabled===!1||om('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(n,a,l){let u,d=this;return n&&(a=Yi(a,!0),ft(d,"addSeries",{options:n},function(){u=d.initSeries(n),d.isDirtyLegend=!0,d.linkSeries(),u.enabledDataSorting&&u.setData(n.data,!1),ft(d,"afterAddSeries",{series:u}),a&&d.redraw(l)})),u}addAxis(n,a,l,u){return this.createAxis(a?"xAxis":"yAxis",{axis:n,redraw:l,animation:u})}addColorAxis(n,a,l){return this.createAxis("colorAxis",{axis:n,redraw:a,animation:l})}createAxis(n,a){let l=new cn(this,a.axis,n);return Yi(a.redraw,!0)&&this.redraw(a.animation),l}showLoading(n){let a=this,l=a.options,u=l.loading,d=function(){c&&Xs(c,{left:a.plotLeft+"px",top:a.plotTop+"px",width:a.plotWidth+"px",height:a.plotHeight+"px"})},c=a.loadingDiv,f=a.loadingSpan;c||(a.loadingDiv=c=nm("div",{className:"highcharts-loading highcharts-loading-hidden"},null,a.container)),f||(a.loadingSpan=f=nm("span",{className:"highcharts-loading-inner"},null,c),rm(a,"redraw",d)),c.className="highcharts-loading",Mt.setElementHTML(f,Yi(n,l.lang.loading,"")),!a.styledMode&&(Xs(c,fn(u.style,{zIndex:10})),Xs(f,u.labelStyle),a.loadingShown||(Xs(c,{opacity:0,display:""}),em(c,{opacity:u.style.opacity||.5},{duration:u.showDuration||0}))),a.loadingShown=!0,d()}hideLoading(){let n=this.options,a=this.loadingDiv;a&&(a.className="highcharts-loading highcharts-loading-hidden",this.styledMode||em(a,{opacity:0},{duration:n.loading.hideDuration||100,complete:function(){Xs(a,{display:"none"})}})),this.loadingShown=!1}update(n,a,l,u){let d,c,f,m=this,v={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},C=n.isResponsiveOptions,w=[];ft(m,"update",{options:n}),C||m.setResponsive(!1,!0),n=hy(n,m.options),m.userOptions=fr(m.userOptions,n);let S=n.chart;S&&(fr(!0,m.options.chart,S),this.setZoomOptions(),"className"in S&&m.setClassName(S.className),("inverted"in S||"polar"in S||"type"in S)&&(m.propFromSeries(),d=!0),"alignTicks"in S&&(d=!0),"events"in S&&ny(this,S),hm(S,function(N,z){m.propsRequireUpdateSeries.indexOf("chart."+z)!==-1&&(c=!0),m.propsRequireDirtyBox.indexOf(z)!==-1&&(m.isDirtyBox=!0),m.propsRequireReflow.indexOf(z)!==-1&&(m.isDirtyBox=!0,C||(f=!0))}),!m.styledMode&&S.style&&m.renderer.setStyle(m.options.chart.style||{})),!m.styledMode&&n.colors&&(this.options.colors=n.colors),hm(n,function(N,z){m[z]&&typeof m[z].update=="function"?m[z].update(N,!1):typeof m[v[z]]=="function"?m[v[z]](N):z!=="colors"&&m.collectionsWithUpdate.indexOf(z)===-1&&fr(!0,m.options[z],n[z]),z!=="chart"&&m.propsRequireUpdateSeries.indexOf(z)!==-1&&(c=!0)}),this.collectionsWithUpdate.forEach(function(N){n[N]&&(gd(n[N]).forEach(function(z,A){let F,_=pn(z.id);_&&(F=m.get(z.id)),!F&&m[N]&&(F=m[N][Yi(z.index,A)])&&(_&&pn(F.options.id)||F.options.isInternal)&&(F=void 0),F&&F.coll===N&&(F.update(z,!1),l&&(F.touched=!0)),!F&&l&&m.collectionsWithInit[N]&&(m.collectionsWithInit[N][0].apply(m,[z].concat(m.collectionsWithInit[N][1]||[]).concat([!1])).touched=!0)}),l&&m[N].forEach(function(z){z.touched||z.options.isInternal?delete z.touched:w.push(z)}))}),w.forEach(function(N){N.chart&&N.remove&&N.remove(!1)}),d&&m.axes.forEach(function(N){N.update({},!1)}),c&&m.getSeriesOrderByLinks().forEach(function(N){N.chart&&N.update({},!1)},this);let M=S==null?void 0:S.width,L=S&&(md(S.height)?uy(S.height,M||m.chartWidth):S.height);f||wa(M)&&M!==m.chartWidth||wa(L)&&L!==m.chartHeight?m.setSize(M,L,u):Yi(a,!0)&&m.redraw(u),ft(m,"afterUpdate",{options:n,redraw:a,animation:u})}setSubtitle(n,a){this.applyDescription("subtitle",n),this.layOutTitles(a)}setCaption(n,a){this.applyDescription("caption",n),this.layOutTitles(a)}showResetZoom(){let n=this,a=im.lang,l=n.zooming.resetButton,u=l.theme,d=l.relativeTo==="chart"||l.relativeTo==="spacingBox"?null:"plotBox";function c(){n.zoomOut()}ft(this,"beforeShowResetZoom",null,function(){n.resetZoomButton=n.renderer.button(a.resetZoom,null,null,c,u).attr({align:l.position.align,title:a.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(l.position,!1,d)}),ft(this,"afterShowResetZoom")}zoomOut(){ft(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(n,a){let l=this,u=typeof a=="object"?a:{enabled:a,type:"x"},d=u.type,c=d&&l[{x:"xAxis",xy:"axes",y:"yAxis"}[d]].filter(m=>m.options.panningEnabled&&!m.options.isInternal),f=l.options.chart;f!=null&&f.panning&&(f.panning=u),ft(this,"pan",{originalEvent:n},()=>{l.transform({axes:c,event:n,to:{x:n.chartX-(l.mouseDownX||0),y:n.chartY-(l.mouseDownY||0)},trigger:"pan"}),Xs(l.container,{cursor:"move"})})}transform(n){var L;let{axes:a=this.axes,event:l,from:u={},reset:d,selection:c,to:f={},trigger:m}=n,{inverted:v,time:C}=this;(L=this.hoverPoints)==null||L.forEach(N=>N.setState()),ft(this,"transform",n);let w=n.hasZoomed||!1,S,M;for(let N of a){let{horiz:z,len:A,minPointOffset:F=0,options:_,reversed:ie}=N,K=z?"width":"height",Q=z?"x":"y",ae=Yi(f[K],N.len),re=Yi(u[K],N.len),oe=10>Math.abs(ae)?1:ae/re,pe=(u[Q]||0)+re/2-N.pos,be=pe-((f[Q]??N.pos)+ae/2-N.pos)/oe,xe=ie&&!v||!ie&&v?-1:1;if(!d&&(pe<0||pe>N.len))continue;let Ee=N.chart.polar||N.isOrdinal?0:F*xe||0,De=N.toValue(be,!0),Ae=N.toValue(be+A/oe,!0),Ne=De+Ee,Re=Ae-Ee,Ie=N.allExtremes;if(c&&c[N.coll].push({axis:N,min:Math.min(De,Ae),max:Math.max(De,Ae)}),Ne>Re&&([Ne,Re]=[Re,Ne]),oe===1&&!d&&N.coll==="yAxis"&&!Ie){for(let yi of N.series){let zt=yi.getExtremes(yi.getProcessedData(!0).modified.getColumn("y")||[],!0);Ie??(Ie={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),wa(zt.dataMin)&&wa(zt.dataMax)&&(Ie.dataMin=Math.min(zt.dataMin,Ie.dataMin),Ie.dataMax=Math.max(zt.dataMax,Ie.dataMax))}N.allExtremes=Ie}let{dataMin:et,dataMax:lt,min:ct,max:ki}=fn(N.getExtremes(),Ie||{}),st=C.parse(_.min),wt=C.parse(_.max),Je=et??st,Ge=lt??wt,Qt=Re-Ne,xt=N.categories?0:Math.min(Qt,Ge-Je),Rt=Je-xt*(pn(st)?0:_.minPadding),fi=Ge+xt*(pn(wt)?0:_.maxPadding),Ir=N.allowZoomOutside||oe===1||m!=="zoom"&&oe>1,Ts=Math.min(st??Rt,Rt,Ir?ct:Rt),Si=Math.max(wt??fi,fi,Ir?ki:fi);(!N.isOrdinal||oe!==1||d)&&(Ne<Ts&&(Ne=Ts,oe>=1&&(Re=Ne+Qt)),Re>Si&&(Re=Si,oe>=1&&(Ne=Re-Qt)),(d||N.series.length&&(Ne!==ct||Re!==ki)&&Ne>=Ts&&Re<=Si)&&(c?c[N.coll].push({axis:N,min:Ne,max:Re}):(N.isPanning=m!=="zoom",N.isPanning&&(M=!0),N.setExtremes(d?void 0:Ne,d?void 0:Re,!1,!1,{move:be,trigger:m,scale:oe}),!d&&(Ne>Ts||Re<Si)&&m!=="mousewheel"&&(S=!0)),w=!0),this.hasCartesianSeries||d||m==="mousewheel"||(S=!0),l&&(this[z?"mouseDownX":"mouseDownY"]=l[z?"chartX":"chartY"]))}return w&&(c?ft(this,"selection",c,()=>{delete n.selection,n.trigger="zoom",this.transform(n)}):(!S||M||this.resetZoomButton?!S&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(m==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),w}}fn(mn.prototype,{callbacks:[],collectionsWithInit:{xAxis:[mn.prototype.addAxis,[!0]],yAxis:[mn.prototype.addAxis,[!1]],series:[mn.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:K1}=di,{composed:q1}=se,{addEvent:gn,createElement:bd,css:um,defined:dm,erase:J1,merge:cy,pushUnique:py}=Fe;function Z1(){let y=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!y&&(this.scrollablePlotArea=y=new _l(this)),y==null||y.applyFixed()}function fy(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class _l{static compose(n,a,l){py(q1,this.compose)&&(gn(n,"afterInit",fy),gn(a,"afterSetChartSize",u=>this.afterSetSize(u.target,u)),gn(a,"render",Z1),gn(l,"show",fy))}static afterSetSize(n,a){let l,u,d,{minWidth:c,minHeight:f}=n.options.chart.scrollablePlotArea||{},{clipBox:m,plotBox:v,inverted:C,renderer:w}=n;if(!w.forExport)if(c?(n.scrollablePixelsX=l=Math.max(0,c-n.chartWidth),l&&(n.scrollablePlotBox=cy(n.plotBox),v.width=n.plotWidth+=l,m[C?"height":"width"]+=l,d=!0)):f&&(n.scrollablePixelsY=u=Math.max(0,f-n.chartHeight),dm(u)&&(n.scrollablePlotBox=cy(n.plotBox),v.height=n.plotHeight+=u,m[C?"width":"height"]+=u,d=!1)),dm(d)){if(!a.skipAxes)for(let S of n.axes)(S.horiz===d||n.hasParallelCoordinates&&S.coll==="yAxis")&&(S.setAxisSize(),S.setAxisTranslation())}else delete n.scrollablePlotBox}constructor(n){var M;let a,l=n.options.chart,u=Zn.getRendererType(),d=l.scrollablePlotArea||{},c=this.moveFixedElements.bind(this),f={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};n.scrollablePixelsX&&(f.overflowX="auto"),n.scrollablePixelsY&&(f.overflowY="auto"),this.chart=n;let m=this.parentDiv=bd("div",{className:"highcharts-scrolling-parent"},{position:"relative"},n.renderTo),v=this.scrollingContainer=bd("div",{className:"highcharts-scrolling"},f,m),C=this.innerContainer=bd("div",{className:"highcharts-inner-container"},void 0,v),w=this.fixedDiv=bd("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((M=l.style)==null?void 0:M.zIndex)||0)+2,top:0},void 0,!0),S=this.fixedRenderer=new u(w,n.chartWidth,n.chartHeight,l.style);this.mask=S.path().attr({fill:l.backgroundColor||"#fff","fill-opacity":d.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),v.parentNode.insertBefore(w,v),um(n.renderTo,{overflow:"visible"}),gn(n,"afterShowResetZoom",c),gn(n,"afterApplyDrilldown",c),gn(n,"afterLayOutTitles",c),gn(v,"scroll",()=>{let{pointer:L,hoverPoint:N}=n;L&&(delete L.chartPosition,N&&(a=N),L.runPointActions(void 0,a,!0))}),C.appendChild(n.container)}applyFixed(){var pe;let{chart:n,fixedRenderer:a,isDirty:l,scrollingContainer:u}=this,{axisOffset:d,chartWidth:c,chartHeight:f,container:m,plotHeight:v,plotLeft:C,plotTop:w,plotWidth:S,scrollablePixelsX:M=0,scrollablePixelsY:L=0}=n,{scrollPositionX:N=0,scrollPositionY:z=0}=n.options.chart.scrollablePlotArea||{},A=c+M,F=f+L;a.setSize(c,f),(l??!0)&&(this.isDirty=!1,this.moveFixedElements()),K1(n.container),um(m,{width:`${A}px`,height:`${F}px`}),n.renderer.boxWrapper.attr({width:A,height:F,viewBox:[0,0,A,F].join(" ")}),(pe=n.chartBackground)==null||pe.attr({width:A,height:F}),um(u,{width:`${c}px`,height:`${f}px`}),dm(l)||(u.scrollLeft=M*N,u.scrollTop=L*z);let _=w-d[0]-1,ie=C-d[3]-1,K=w+v+d[2]+1,Q=C+S+d[1]+1,ae=C+S-M,re=w+v-L,oe=[["M",0,0]];M?oe=[["M",0,_],["L",C-1,_],["L",C-1,K],["L",0,K],["Z"],["M",ae,_],["L",c,_],["L",c,K],["L",ae,K],["Z"]]:L&&(oe=[["M",ie,0],["L",ie,w-1],["L",Q,w-1],["L",Q,0],["Z"],["M",ie,re],["L",ie,f],["L",Q,f],["L",Q,re],["Z"]]),n.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:oe})}moveFixedElements(){let n,{container:a,inverted:l,scrollablePixelsX:u,scrollablePixelsY:d}=this.chart,c=this.fixedRenderer,f=_l.fixedSelectors;if(u&&!l?n=".highcharts-yaxis":u&&l||d&&!l?n=".highcharts-xaxis":d&&l&&(n=".highcharts-yaxis"),n&&!(this.chart.hasParallelCoordinates&&n===".highcharts-yaxis"))for(let m of[`${n}:not(.highcharts-radial-axis)`,`${n}-labels:not(.highcharts-radial-axis-labels)`])py(f,m);else for(let m of[".highcharts-xaxis",".highcharts-yaxis"])for(let v of[`${m}:not(.highcharts-radial-axis)`,`${m}-labels:not(.highcharts-radial-axis-labels)`])J1(f,v);for(let m of f)[].forEach.call(a.querySelectorAll(m),v=>{(v.namespaceURI===c.SVG_NS?c.box:c.box.parentNode).appendChild(v),v.style.pointerEvents="auto"})}}_l.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:Q1}=Di,{series:ek}=$t,{destroyObjectProperties:tk,fireEvent:my,getAlignFactor:cm,isNumber:pm,pick:jl}=Fe,gy=class{constructor(y,n,a,l,u){let d=y.chart.inverted,c=y.reversed;this.axis=y;let f=this.isNegative=!!a!=!!c;this.options=n=n||{},this.x=l,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=u,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:n.align||(d?f?"left":"right":"center"),verticalAlign:n.verticalAlign||(d?"middle":f?"bottom":"top"),y:n.y,x:n.x},this.textAlign=n.textAlign||(d?f?"right":"left":"center")}destroy(){tk(this,this.axis)}render(y){let n=this.axis.chart,a=this.options,l=a.format,u=l?Q1(l,this,n):a.formatter.call(this);if(this.label)this.label.attr({text:u,visibility:"hidden"});else{this.label=n.renderer.label(u,null,void 0,a.shape,void 0,void 0,a.useHTML,!1,"stack-labels");let d={r:a.borderRadius||0,text:u,padding:jl(a.padding,5),visibility:"hidden"};n.styledMode||(d.fill=a.backgroundColor,d.stroke=a.borderColor,d["stroke-width"]=a.borderWidth,this.label.css(a.style||{})),this.label.attr(d),this.label.added||this.label.add(y)}this.label.labelrank=n.plotSizeY,my(this,"afterRender")}setOffset(y,n,a,l,u,d){let{alignOptions:c,axis:f,label:m,options:v,textAlign:C}=this,w=f.chart,S=this.getStackBox({xOffset:y,width:n,boxBottom:a,boxTop:l,defaultX:u,xAxis:d}),{verticalAlign:M}=c;if(m&&S){let L=m.getBBox(void 0,0),N=m.padding,z=jl(v.overflow,"justify")==="justify",A;c.x=v.x||0,c.y=v.y||0;let{x:F,y:_}=this.adjustStackPosition({labelBox:L,verticalAlign:M,textAlign:C});S.x-=F,S.y-=_,m.align(c,!1,S),(A=w.isInsidePlot(m.alignAttr.x+c.x+F,m.alignAttr.y+c.y+_))||(z=!1),z&&ek.prototype.justifyDataLabel.call(f,m,c,m.alignAttr,L,S),m.attr({x:m.alignAttr.x,y:m.alignAttr.y,rotation:v.rotation,rotationOriginX:L.width*cm(v.textAlign||"center"),rotationOriginY:L.height/2}),jl(!z&&v.crop,!0)&&(A=pm(m.x)&&pm(m.y)&&w.isInsidePlot(m.x-N+(m.width||0),m.y)&&w.isInsidePlot(m.x+N,m.y)),m[A?"show":"hide"]()}my(this,"afterSetOffset",{xOffset:y,width:n})}adjustStackPosition({labelBox:y,verticalAlign:n,textAlign:a}){return{x:y.width/2+y.width/2*(2*cm(a)-1),y:y.height/2*2*(1-cm(n))}}getStackBox(y){let n=this.axis,a=n.chart,{boxTop:l,defaultX:u,xOffset:d,width:c,boxBottom:f}=y,m=n.stacking.usePercentage?100:jl(l,this.total,0),v=n.toPixels(m),C=y.xAxis||a.xAxis[0],w=jl(u,C.translate(this.x))+d,S=Math.abs(v-n.toPixels(f||pm(n.min)&&n.logarithmic&&n.logarithmic.lin2log(n.min)||0)),M=a.inverted,L=this.isNegative;return M?{x:(L?v:v-S)-a.plotLeft,y:C.height-w-c+C.top-a.plotTop,width:S,height:c}:{x:w+C.transB-a.plotLeft,y:(L?v-S:v)-a.plotTop,width:c,height:S}}},{getDeferredAnimation:ik}=di,{series:{prototype:sk}}=$t,{addEvent:by,correctFloat:Wl,defined:vy,destroyObjectProperties:rk,fireEvent:nk,isNumber:fm,objectEach:wo,pick:mm}=Fe;function ok(){let y=this.inverted;this.axes.forEach(n=>{var a;(a=n.stacking)!=null&&a.stacks&&n.hasVisibleSeries&&(n.stacking.oldStacks=n.stacking.stacks)}),this.series.forEach(n=>{var l;let a=((l=n.xAxis)==null?void 0:l.options)||{};n.options.stacking&&n.reserveSpace()&&(n.stackKey=[n.type,mm(n.options.stack,""),y?a.top:a.left,y?a.height:a.width].join(","))})}function ak(){var n;let y=this.stacking;if(y){let a=y.stacks;wo(a,(l,u)=>{rk(l),delete a[u]}),(n=y.stackTotalGroup)==null||n.destroy()}}function lk(){this.stacking||(this.stacking=new fk(this))}function hk(y,n,a,l){return!vy(y)||y.x!==n||l&&y.stackKey!==l?y={x:n,index:0,key:l,stackKey:l}:y.index++,y.key=[a,n,y.index].join(","),y}function uk(){let y,n=this,a=n.yAxis,l=n.stackKey||"",u=a.stacking.stacks,d=n.getColumn("x",!0),c=n.options.stacking,f=n[c+"Stacker"];f&&[l,"-"+l].forEach(m=>{var M;let v=d.length,C,w,S;for(;v--;)C=d[v],y=n.getStackIndicator(y,C,n.index,m),w=(M=u[m])==null?void 0:M[C],(S=w==null?void 0:w.points[y.key||""])&&f.call(n,S,w,v)})}function dk(y,n,a){let l=n.total?100/n.total:0;y[0]=Wl(y[0]*l),y[1]=Wl(y[1]*l),this.stackedYData[a]=y[1]}function ck(y){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?sk.setStackedPoints.call(this,y,"group"):y.stacking.resetStacks())}function pk(y,n){var re,oe;let a,l,u,d,c,f,m,v=n||this.options.stacking;if(!v||!this.reserveSpace()||({group:"xAxis"}[v]||"yAxis")!==y.coll)return;let C=this.getColumn("x",!0),w=this.getColumn(this.pointValKey||"y",!0),S=[],M=w.length,L=this.options,N=L.threshold||0,z=L.startFromThreshold?N:0,A=L.stack,F=n?`${this.type},${v}`:this.stackKey||"",_="-"+F,ie=this.negStacks,K=y.stacking,Q=K.stacks,ae=K.oldStacks;for(K.stacksTouched+=1,m=0;m<M;m++){let pe=C[m]||0,be=w[m],xe=fm(be)&&be||0;f=(a=this.getStackIndicator(a,pe,this.index)).key||"",Q[c=(l=ie&&xe<(z?0:N))?_:F]||(Q[c]={}),Q[c][pe]||((re=ae[c])!=null&&re[pe]?(Q[c][pe]=ae[c][pe],Q[c][pe].total=null):Q[c][pe]=new gy(y,y.options.stackLabels,!!l,pe,A)),u=Q[c][pe],be!==null?(u.points[f]=u.points[this.index]=[mm(u.cumulative,z)],vy(u.cumulative)||(u.base=f),u.touched=K.stacksTouched,a.index>0&&this.singleStacks===!1&&(u.points[f][0]=u.points[this.index+","+pe+",0"][0])):(delete u.points[f],delete u.points[this.index]);let Ee=u.total||0;v==="percent"?(d=l?F:_,Ee=ie&&((oe=Q[d])!=null&&oe[pe])?(d=Q[d][pe]).total=Math.max(d.total||0,Ee)+Math.abs(xe):Wl(Ee+Math.abs(xe))):v==="group"?fm(be)&&Ee++:Ee=Wl(Ee+xe),v==="group"?u.cumulative=(Ee||1)-1:u.cumulative=Wl(mm(u.cumulative,z)+xe),u.total=Ee,be!==null&&(u.points[f].push(u.cumulative),S[m]=u.cumulative,u.hasValidPoints=!0)}v==="percent"&&(K.usePercentage=!0),v!=="group"&&(this.stackedYData=S),K.oldStacks={}}class fk{constructor(n){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=n}buildStacks(){let n,a,l=this.axis,u=l.series,d=l.coll==="xAxis",c=l.options.reversedStacks,f=u.length;for(this.resetStacks(),this.usePercentage=!1,a=f;a--;)n=u[c?a:f-a-1],d&&n.setGroupedPoints(l),n.setStackedPoints(l);if(!d)for(a=0;a<f;a++)u[a].modifyStacks();nk(l,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,wo(this.stacks,n=>{wo(n,a=>{a.cumulative=a.total})}))}resetStacks(){wo(this.stacks,n=>{wo(n,(a,l)=>{fm(a.touched)&&a.touched<this.stacksTouched?(a.destroy(),delete n[l]):(a.total=null,a.cumulative=null)})})}renderStackTotals(){var f;let n=this.axis,a=n.chart,l=a.renderer,u=this.stacks,d=ik(a,((f=n.options.stackLabels)==null?void 0:f.animation)||!1),c=this.stackTotalGroup=this.stackTotalGroup||l.g("stack-labels").attr({zIndex:6,opacity:0}).add();c.translate(a.plotLeft,a.plotTop),wo(u,m=>{wo(m,v=>{v.render(c)})}),c.animate({opacity:1},d)}}(Y||(Y={})).compose=function(y,n,a){let l=n.prototype,u=a.prototype;l.getStacks||(by(y,"init",lk),by(y,"destroy",ak),l.getStacks=ok,u.getStackIndicator=hk,u.modifyStacks=uk,u.percentStacker=dk,u.setGroupedPoints=ck,u.setStackedPoints=pk)};let mk=Y,{defined:gk,merge:yy,isObject:bk}=Fe;class wy extends ts{drawGraph(){let n=this.options,a=(this.gappedPath||this.getGraphPath).call(this),l=this.chart.styledMode;[this,...this.zones].forEach((u,d)=>{let c,f=u.graph,m=f?"animate":"attr",v=u.dashStyle||n.dashStyle;f?(f.endX=this.preventGraphAnimation?null:a.xMap,f.animate({d:a})):a.length&&(u.graph=f=this.chart.renderer.path(a).addClass("highcharts-graph"+(d?` highcharts-zone-graph-${d-1} `:" ")+(d&&u.className||"")).attr({zIndex:1}).add(this.group)),f&&!l&&(c={stroke:!d&&n.lineColor||u.color||this.color||"#cccccc","stroke-width":n.lineWidth||0,fill:this.fillGraph&&this.color||"none"},v?c.dashstyle=v:n.linecap!=="square"&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),f[m](c).shadow(n.shadow&&yy({filterUnits:"userSpaceOnUse"},bk(n.shadow)?n.shadow:{}))),f&&(f.startX=a.xMap,f.isArea=a.isArea)})}getGraphPath(n,a,l){let u=this,d=u.options,c=[],f=[],m,v=d.step,C=(n=n||u.points).reversed;return C&&n.reverse(),(v={right:1,center:2}[v]||v&&3)&&C&&(v=4-v),(n=this.getValidPoints(n,!1,d.nullInteraction||!(d.connectNulls&&!a&&!l))).forEach(function(w,S){let M,L=w.plotX,N=w.plotY,z=n[S-1],A=w.isNull||typeof N!="number";(w.leftCliff||z!=null&&z.rightCliff)&&!l&&(m=!0),A&&!gk(a)&&S>0?m=!d.connectNulls:A&&!a?m=!0:(S===0||m?M=[["M",w.plotX,w.plotY]]:u.getPointSpline?M=[u.getPointSpline(n,w,S)]:v?(M=v===1?[["L",z.plotX,N]]:v===2?[["L",(z.plotX+L)/2,z.plotY],["L",(z.plotX+L)/2,N]]:[["L",L,z.plotY]]).push(["L",L,N]):M=[["L",L,N]],f.push(w.x),v&&(f.push(w.x),v===2&&f.push(w.x)),c.push.apply(c,M),m=!1)}),c.xMap=f,u.graphPath=c,c}}wy.defaultOptions=yy(ts.defaultOptions,{legendSymbol:"lineMarker"}),$t.registerSeriesType("line",wy);let{seriesTypes:{line:gm}}=$t,{extend:vk,merge:yk,objectEach:wk,pick:vd}=Fe;class bm extends gm{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:n,options:a}=this;[this,...this.zones].forEach((l,u)=>{let d={},c=l.fillColor||a.fillColor,f=l.area,m=f?"animate":"attr";f?(f.endX=this.preventGraphAnimation?null:n.xMap,f.animate({d:n})):(d.zIndex=0,(f=l.area=this.chart.renderer.path(n).addClass("highcharts-area"+(u?` highcharts-zone-area-${u-1} `:" ")+(u&&l.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(d.fill=c||l.color||this.color,d["fill-opacity"]=c?1:a.fillOpacity??.75,f.css({pointerEvents:this.stickyTracking?"none":"auto"})),f[m](d),f.startX=n.xMap,f.shiftUnit=a.step?2:1})}getGraphPath(n){let a,l,u,d=gm.prototype.getGraphPath,c=this.options,f=c.stacking,m=this.yAxis,v=[],C=[],w=this.index,S=m.stacking.stacks[this.stackKey],M=c.threshold,L=Math.round(m.getThreshold(c.threshold)),N=vd(c.connectNulls,f==="percent"),z=function(Q,ae,re){let oe=n[Q],pe=f&&S[oe.x].points[w],be=oe[re+"Null"]||0,xe=oe[re+"Cliff"]||0,Ee,De,Ae=!0;xe||be?(Ee=(be?pe[0]:pe[1])+xe,De=pe[0]+xe,Ae=!!be):!f&&n[ae]&&n[ae].isNull&&(Ee=De=M),Ee!==void 0&&(C.push({plotX:a,plotY:Ee===null?L:m.getThreshold(Ee),isNull:Ae,isCliff:!0}),v.push({plotX:a,plotY:De===null?L:m.getThreshold(De),doCurve:!1}))};n=n||this.points,f&&(n=this.getStackPoints(n));for(let Q=0,ae=n.length;Q<ae;++Q)f||(n[Q].leftCliff=n[Q].rightCliff=n[Q].leftNull=n[Q].rightNull=void 0),l=n[Q].isNull,a=vd(n[Q].rectPlotX,n[Q].plotX),u=f?vd(n[Q].yBottom,L):L,(!l||N)&&(N||z(Q,Q-1,"left"),l&&!f&&N||(C.push(n[Q]),v.push({x:Q,plotX:a,plotY:u})),N||z(Q,Q+1,"right"));let A=d.call(this,C,!0,!0);v.reversed=!0;let F=d.call(this,v,!0,!0),_=F[0];_&&_[0]==="M"&&(F[0]=["L",_[1],_[2]]);let ie=A.concat(F);ie.length&&ie.push(["Z"]);let K=d.call(this,C,!1,N);return this.chart.series.length>1&&f&&C.some(Q=>Q.isCliff)&&(ie.hasStackedCliffs=K.hasStackedCliffs=!0),ie.xMap=A.xMap,this.areaPath=ie,K}getStackPoints(n){let a=this,l=[],u=[],d=this.xAxis,c=this.yAxis,f=c.stacking.stacks[this.stackKey],m={},v=c.series,C=v.length,w=c.options.reversedStacks?1:-1,S=v.indexOf(a);if(n=n||this.points,this.options.stacking){for(let L=0;L<n.length;L++)n[L].leftNull=n[L].rightNull=void 0,m[n[L].x]=n[L];wk(f,function(L,N){L.total!==null&&u.push(N)}),u.sort(function(L,N){return L-N});let M=v.map(L=>L.visible);u.forEach(function(L,N){let z=0,A,F;if(m[L]&&!m[L].isNull)l.push(m[L]),[-1,1].forEach(function(_){let ie=_===1?"rightNull":"leftNull",K=f[u[N+_]],Q=0;if(K){let ae=S;for(;ae>=0&&ae<C;){let re=v[ae].index;!(A=K.points[re])&&(re===a.index?m[L][ie]=!0:M[ae]&&(F=f[L].points[re])&&(Q-=F[1]-F[0])),ae+=w}}m[L][_===1?"rightCliff":"leftCliff"]=Q});else{let _=S;for(;_>=0&&_<C;){let ie=v[_].index;if(A=f[L].points[ie]){z=A[1];break}_+=w}z=vd(z,0),z=c.translate(z,0,1,0,1),l.push({isNull:!0,plotX:d.translate(L,0,0,0,1),x:L,plotY:z,yBottom:z})}})}return l}}bm.defaultOptions=yk(gm.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),vk(bm.prototype,{singleStacks:!1}),$t.registerSeriesType("area",bm);let{line:xy}=$t.seriesTypes,{merge:xk,pick:yd}=Fe;class vm extends xy{getPointSpline(n,a,l){let u,d,c,f,m=a.plotX||0,v=a.plotY||0,C=n[l-1],w=n[l+1];function S(L){return L&&!L.isNull&&L.doCurve!==!1&&!a.isCliff}if(S(C)&&S(w)){let L=C.plotX||0,N=C.plotY||0,z=w.plotX||0,A=w.plotY||0,F=0;u=(1.5*m+L)/2.5,d=(1.5*v+N)/2.5,c=(1.5*m+z)/2.5,f=(1.5*v+A)/2.5,c!==u&&(F=(f-d)*(c-m)/(c-u)+v-f),d+=F,f+=F,d>N&&d>v?(d=Math.max(N,v),f=2*v-d):d<N&&d<v&&(d=Math.min(N,v),f=2*v-d),f>A&&f>v?(f=Math.max(A,v),d=2*v-f):f<A&&f<v&&(f=Math.min(A,v),d=2*v-f),a.rightContX=c,a.rightContY=f,a.controlPoints={low:[u,d],high:[c,f]}}let M=["C",yd(C.rightContX,C.plotX,0),yd(C.rightContY,C.plotY,0),yd(u,m,0),yd(d,v,0),m,v];return C.rightContX=C.rightContY=void 0,M}}vm.defaultOptions=xk(xy.defaultOptions),$t.registerSeriesType("spline",vm);let Cy=vm,{area:Ck,area:{prototype:ym}}=$t.seriesTypes,{extend:Ek,merge:kk}=Fe;class wm extends Cy{}wm.defaultOptions=kk(Cy.defaultOptions,Ck.defaultOptions),Ek(wm.prototype,{getGraphPath:ym.getGraphPath,getStackPoints:ym.getStackPoints,drawGraph:ym.drawGraph}),$t.registerSeriesType("areaspline",wm);let{animObject:Sk}=di,{parse:Mk}=At,{noop:Tk}=se,{clamp:wd,crisp:xd,defined:Ey,extend:ky,fireEvent:Sy,isArray:My,isNumber:Cd,merge:xm,pick:Vl,objectEach:Rk}=Fe;class Ed extends ts{animate(n){let a,l,u=this,d=this.yAxis,c=d.pos,f=d.reversed,m=u.options,{clipOffset:v,inverted:C}=this.chart,w={},S=C?"translateX":"translateY";n&&v?(w.scaleY=.001,l=wd(d.toPixels(m.threshold||0),c,c+d.len),C?w.translateX=(l+=f?-Math.floor(v[0]):Math.ceil(v[2]))-d.len:w.translateY=l+=f?Math.ceil(v[0]):-Math.floor(v[2]),u.clipBox&&u.setClip(),u.group.attr(w)):(a=Number(u.group.attr(S)),u.group.animate({scaleY:1},ky(Sk(u.options.animation),{step:function(M,L){u.group&&(w[S]=a+L.pos*(c-a),u.group.attr(w))}})))}init(n,a){super.init.apply(this,arguments);let l=this;(n=l.chart).hasRendered&&n.series.forEach(function(u){u.type===l.type&&(u.isDirty=!0)})}getColumnMetrics(){var N,z;let n=this,a=n.options,l=n.xAxis,u=n.yAxis,d=l.options.reversedStacks,c=l.reversed&&!d||!l.reversed&&d,f={},m,v=0;a.grouping===!1?v=1:n.chart.series.forEach(function(A){let F,_=A.yAxis,ie=A.options;A.type===n.type&&A.reserveSpace()&&u.len===_.len&&u.pos===_.pos&&(ie.stacking&&ie.stacking!=="group"?(f[m=A.stackKey]===void 0&&(f[m]=v++),F=f[m]):ie.grouping!==!1&&(F=v++),A.columnIndex=F)});let C=Math.min(Math.abs(l.transA)*(!((N=l.brokenAxis)!=null&&N.hasBreaks)&&((z=l.ordinal)==null?void 0:z.slope)||a.pointRange||l.closestPointRange||l.tickInterval||1),l.len),w=C*a.groupPadding,S=(C-2*w)/(v||1),M=Math.min(a.maxPointWidth||l.len,Vl(a.pointWidth,S*(1-2*a.pointPadding))),L=(n.columnIndex||0)+ +!!c;return n.columnMetrics={width:M,offset:(S-M)/2+(w+L*S-C/2)*(c?-1:1),paddedWidth:S,columnCount:v},n.columnMetrics}crispCol(n,a,l,u){let d=this.borderWidth,c=this.chart.inverted;return u=xd(a+u,d,c)-(a=xd(a,d,c)),this.options.crisp&&(l=xd(n+l,d)-(n=xd(n,d))),{x:n,y:a,width:l,height:u}}adjustForMissingColumns(n,a,l,u){var d;if(!l.isNull&&u.columnCount>1){let c=this.xAxis.series.filter(C=>C.visible).map(C=>C.index),f=0,m=0;Rk((d=this.xAxis.stacking)==null?void 0:d.stacks,C=>{var L;let w=typeof l.x=="number"?(L=C[l.x.toString()])==null?void 0:L.points:void 0,S=w==null?void 0:w[this.index],M={};if(w&&My(S)){let N=this.index,z=Object.keys(w).filter(A=>!A.match(",")&&w[A]&&w[A].length>1).map(parseFloat).filter(A=>c.indexOf(A)!==-1).filter(A=>{let F=this.chart.series[A].options,_=F.stacking&&F.stack;if(Ey(_)){if(Cd(M[_]))return N===A&&(N=M[_]),!1;M[_]=A}return!0}).sort((A,F)=>F-A);f=z.indexOf(N),m=z.length}}),f=this.xAxis.reversed?m-1-f:f;let v=(m-1)*u.paddedWidth+a;n=(l.plotX||0)+v/2-a-f*u.paddedWidth}return n}translate(){let n=this,a=n.chart,l=n.options,u=n.dense=n.closestPointRange*n.xAxis.transA<2,d=n.borderWidth=Vl(l.borderWidth,+!u),c=n.xAxis,f=n.yAxis,m=l.threshold,v=Vl(l.minPointLength,5),C=n.getColumnMetrics(),w=C.width,S=n.pointXOffset=C.offset,M=n.dataMin,L=n.dataMax,N=n.translatedThreshold=f.getThreshold(m),z=n.barW=Math.max(w,1+2*d);l.pointPadding&&l.crisp&&(z=Math.ceil(z)),ts.prototype.translate.apply(n),n.points.forEach(function(A){let F=Vl(A.yBottom,N),_=999+Math.abs(F),ie=A.plotX||0,K=wd(A.plotY,-_,f.len+_),Q,ae=Math.min(K,F),re=Math.max(K,F)-ae,oe=w,pe=ie+S,be=z;v&&Math.abs(re)<v&&(re=v,Q=!f.reversed&&!A.negative||f.reversed&&A.negative,Cd(m)&&Cd(L)&&A.y===m&&L<=m&&(f.min||0)<m&&(M!==L||(f.max||0)<=m)&&(Q=!Q,A.negative=!A.negative),ae=Math.abs(ae-N)>v?F-v:N-(Q?v:0)),Ey(A.options.pointWidth)&&(pe-=Math.round(((oe=be=Math.ceil(A.options.pointWidth))-w)/2)),l.centerInCategory&&(pe=n.adjustForMissingColumns(pe,oe,A,C)),A.barX=pe,A.pointWidth=oe,A.tooltipPos=a.inverted?[wd(f.len+f.pos-a.plotLeft-K,f.pos-a.plotLeft,f.len+f.pos-a.plotLeft),c.len+c.pos-a.plotTop-pe-be/2,re]:[c.left-a.plotLeft+pe+be/2,wd(K+f.pos-a.plotTop,f.pos-a.plotTop,f.len+f.pos-a.plotTop),re],A.shapeType=n.pointClass.prototype.shapeType||"roundedRect",A.shapeArgs=n.crispCol(pe,ae,be,A.isNull?0:re)}),Sy(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(n,a){let l=this.options,u=this.pointAttrToOptions||{},d=u.stroke||"borderColor",c=u["stroke-width"]||"borderWidth",f,m,v,C=n&&n.color||this.color,w=n&&n[d]||l[d]||C,S=n&&n.options.dashStyle||l.dashStyle,M=n&&n[c]||l[c]||this[c]||0,L=n!=null&&n.isNull&&l.nullInteraction?0:(n==null?void 0:n.opacity)??l.opacity??1;n&&this.zones.length&&(m=n.getZone(),C=n.options.color||m&&(m.color||n.nonZonedColor)||this.color,m&&(w=m.borderColor||w,S=m.dashStyle||S,M=m.borderWidth||M)),a&&n&&(v=(f=xm(l.states[a],n.options.states&&n.options.states[a]||{})).brightness,C=f.color||v!==void 0&&Mk(C).brighten(f.brightness).get()||C,w=f[d]||w,M=f[c]||M,S=f.dashStyle||S,L=Vl(f.opacity,L));let N={fill:C,stroke:w,"stroke-width":M,opacity:L};return S&&(N.dashstyle=S),N}drawPoints(n=this.points){let a,l=this,u=this.chart,d=l.options,c=d.nullInteraction,f=u.renderer,m=d.animationLimit||250;n.forEach(function(v){let C=v.plotY,w=v.graphic,S=!!w,M=w&&u.pointCount<m?"animate":"attr";Cd(C)&&(v.y!==null||c)?(a=v.shapeArgs,w&&v.hasNewShapeType()&&(w=w.destroy()),l.enabledDataSorting&&(v.startXPos=l.xAxis.reversed?-(a&&a.width||0):l.xAxis.width),!w&&(v.graphic=w=f[v.shapeType](a).add(v.group||l.group),w&&l.enabledDataSorting&&u.hasRendered&&u.pointCount<m&&(w.attr({x:v.startXPos}),S=!0,M="animate")),w&&S&&w[M](xm(a)),u.styledMode||w[M](l.pointAttribs(v,v.selected&&"select")).shadow(v.allowShadow!==!1&&d.shadow),w&&(w.addClass(v.getClassName(),!0),w.attr({visibility:v.visible?"inherit":"hidden"}))):w&&(v.graphic=w.destroy())})}drawTracker(n=this.points){let a,l=this,u=l.chart,d=u.pointer,c=function(f){d==null||d.normalize(f);let m=d==null?void 0:d.getPointFromEvent(f);d&&m&&l.options.enableMouseTracking&&(u.isInsidePlot(f.chartX-u.plotLeft,f.chartY-u.plotTop,{visiblePlotOnly:!0})||d!=null&&d.inClass(f.target,"highcharts-data-label"))&&(d.isDirectTouch=!0,m.onMouseOver(f))};n.forEach(function(f){a=My(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),a.forEach(function(m){(m.div||m.element).point=f})}),l._hasTracking||(l.trackerGroups.forEach(function(f){l[f]&&(l[f].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(m){d==null||d.onTrackerMouseOut(m)}).on("touchstart",c),!u.styledMode&&l.options.cursor&&l[f].css({cursor:l.options.cursor}))}),l._hasTracking=!0),Sy(this,"afterDrawTracker")}remove(){let n=this,a=n.chart;a.hasRendered&&a.series.forEach(function(l){l.type===n.type&&(l.isDirty=!0)}),ts.prototype.remove.apply(n,arguments)}}Ed.defaultOptions=xm(ts.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),ky(Ed.prototype,{directTouch:!0,getSymbol:Tk,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),$t.registerSeriesType("column",Ed);let kd=Ed,{getDeferredAnimation:Lk}=di,{format:Pk}=Di,{defined:xo,extend:Ty,fireEvent:Cm,getAlignFactor:Ry,isArray:bn,isString:Ul,merge:Gl,objectEach:Ak,pick:Xl,pInt:Ok,splat:Ly}=Fe;(function(y){function n(){return m(this).some(C=>C==null?void 0:C.enabled)}function a(C,w,S,M,L){var pe;let{chart:N,enabledDataSorting:z}=this,A=this.isCartesian&&N.inverted,F=C.plotX,_=C.plotY,ie=S.rotation||0,K=xo(F)&&xo(_)&&N.isInsidePlot(F,Math.round(_),{inverted:A,paneCoordinates:!0,series:this}),Q=ie===0&&Xl(S.overflow,z?"none":"justify")==="justify",ae=this.visible&&C.visible!==!1&&xo(F)&&(C.series.forceDL||z&&!Q||K||Xl(S.inside,!!this.options.stacking)&&M&&N.isInsidePlot(F,A?M.x+1:M.y+M.height-1,{inverted:A,paneCoordinates:!0,series:this})),re=C.pos();if(ae&&re){var oe;let be=w.getBBox(),xe=w.getBBox(void 0,0);if(M=Ty({x:re[0],y:Math.round(re[1]),width:0,height:0},M||{}),S.alignTo==="plotEdges"&&this.isCartesian&&(M[A?"x":"y"]=0,M[A?"width":"height"]=((pe=this.yAxis)==null?void 0:pe.len)||0),Ty(S,{width:be.width,height:be.height}),oe=M,z&&this.xAxis&&!Q&&this.setDataLabelStartPos(C,w,L,K,oe),w.align(Gl(S,{width:xe.width,height:xe.height}),!1,M,!1),w.alignAttr.x+=Ry(S.align)*(xe.width-be.width),w.alignAttr.y+=Ry(S.verticalAlign)*(xe.height-be.height),w[w.placed?"animate":"attr"]({"text-align":w.alignAttr["text-align"]||"center",x:w.alignAttr.x+(be.width-xe.width)/2,y:w.alignAttr.y+(be.height-xe.height)/2,rotationOriginX:(w.width||0)/2,rotationOriginY:(w.height||0)/2}),Q&&M.height>=0)this.justifyDataLabel(w,S,w.alignAttr,be,M,L);else if(Xl(S.crop,!0)){let{x:Ee,y:De}=w.alignAttr;ae=N.isInsidePlot(Ee,De,{paneCoordinates:!0,series:this})&&N.isInsidePlot(Ee+be.width-1,De+be.height-1,{paneCoordinates:!0,series:this})}S.shape&&!ie&&w[L?"attr":"animate"]({anchorX:re[0],anchorY:re[1]})}L&&z&&(w.placed=!1),ae||z&&!Q?(w.show(),w.placed=!0):(w.hide(),w.placed=!1)}function l(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6,this.chart.dataLabelsGroup)}function u(C){let w=this.hasRendered||0,S=this.initDataLabelsGroup().attr({opacity:+w});return!w&&S&&(this.visible&&S.show(),this.options.animation?S.animate({opacity:1},C):S.attr({opacity:1})),S}function d(C){var ae;let w;C=C||this.points;let S=this,M=S.chart,L=S.options,N=M.renderer,{backgroundColor:z,plotBackgroundColor:A}=M.options.chart,F=N.getContrast(Ul(A)&&A||Ul(z)&&z||"#000000"),_=m(S),{animation:ie,defer:K}=_[0],Q=K?Lk(M,ie,S):{defer:0,duration:0};Cm(this,"drawDataLabels"),(ae=S.hasDataLabels)!=null&&ae.call(S)&&(w=this.initDataLabels(Q),C.forEach(re=>{var xe,Ee,De;let oe=re.dataLabels||[],pe=re.color||S.color;Ly(f(_,re.dlOptions||((xe=re.options)==null?void 0:xe.dataLabels))).forEach((Ae,Ne)=>{var Rt;let Re=Ae.enabled&&(re.visible||re.dataLabelOnHidden)&&(!re.isNull||re.dataLabelOnNull)&&function(fi,Ir){let Ts=Ir.filter;if(Ts){let Si=Ts.operator,yi=fi[Ts.property],zt=Ts.value;return Si===">"&&yi>zt||Si==="<"&&yi<zt||Si===">="&&yi>=zt||Si==="<="&&yi<=zt||Si==="=="&&yi==zt||Si==="==="&&yi===zt||Si==="!="&&yi!=zt||Si==="!=="&&yi!==zt||!1}return!0}(re,Ae),{backgroundColor:Ie,borderColor:et,distance:lt,style:ct={}}=Ae,ki,st,wt,Je={},Ge=oe[Ne],Qt=!Ge,xt;Re&&(st=xo(ki=Xl(Ae[re.formatPrefix+"Format"],Ae.format))?Pk(ki,re,M):(Ae[re.formatPrefix+"Formatter"]||Ae.formatter).call(re,Ae),wt=Ae.rotation,!M.styledMode&&(ct.color=Xl(Ae.color,ct.color,Ul(S.color)?S.color:void 0,"#000000"),ct.color==="contrast"?(Ie!=="none"&&(xt=Ie),re.contrastColor=N.getContrast(xt!=="auto"&&Ul(xt)&&xt||(Ul(pe)?pe:"")),ct.color=xt||!xo(lt)&&Ae.inside||0>Ok(lt||0)||L.stacking?re.contrastColor:F):delete re.contrastColor,L.cursor&&(ct.cursor=L.cursor)),Je={r:Ae.borderRadius||0,rotation:wt,padding:Ae.padding,zIndex:1},M.styledMode||(Je.fill=Ie==="auto"?re.color:Ie,Je.stroke=et==="auto"?re.color:et,Je["stroke-width"]=Ae.borderWidth),Ak(Je,(fi,Ir)=>{fi===void 0&&delete Je[Ir]})),!Ge||Re&&xo(st)&&!!(Ge.div||(Rt=Ge.text)!=null&&Rt.foreignObject)==!!Ae.useHTML&&(Ge.rotation&&Ae.rotation||Ge.rotation===Ae.rotation)||(Ge=void 0,Qt=!0),Re&&xo(st)&&st!==""&&(Ge?Je.text=st:(Ge=N.label(st,0,0,Ae.shape,void 0,void 0,Ae.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+re.colorIndex+" "+(Ae.className||"")+(Ae.useHTML?" highcharts-tracker":"")),Ge&&(Ge.options=Ae,Ge.attr(Je),M.styledMode?ct.width&&Ge.css({width:ct.width,textOverflow:ct.textOverflow,whiteSpace:ct.whiteSpace}):Ge.css(ct).shadow(Ae.shadow),Cm(Ge,"beforeAddingDataLabel",{labelOptions:Ae,point:re}),Ge.added||Ge.add(w),S.alignDataLabel(re,Ge,Ae,void 0,Qt),Ge.isActive=!0,oe[Ne]&&oe[Ne]!==Ge&&oe[Ne].destroy(),oe[Ne]=Ge))});let be=oe.length;for(;be--;)(Ee=oe[be])!=null&&Ee.isActive?oe[be].isActive=!1:((De=oe[be])==null||De.destroy(),oe.splice(be,1));re.dataLabel=oe[0],re.dataLabels=oe})),Cm(this,"afterDrawDataLabels")}function c(C,w,S,M,L,N){let z=this.chart,A=w.align,F=w.verticalAlign,_=C.box?0:C.padding||0,ie=z.inverted?this.yAxis:this.xAxis,K=ie?ie.left-z.plotLeft:0,Q=z.inverted?this.xAxis:this.yAxis,ae=Q?Q.top-z.plotTop:0,{x:re=0,y:oe=0}=w,pe,be;return(pe=(S.x||0)+_+K)<0&&(A==="right"&&re>=0?(w.align="left",w.inside=!0):re-=pe,be=!0),(pe=(S.x||0)+M.width-_+K)>z.plotWidth&&(A==="left"&&re<=0?(w.align="right",w.inside=!0):re+=z.plotWidth-pe,be=!0),(pe=S.y+_+ae)<0&&(F==="bottom"&&oe>=0?(w.verticalAlign="top",w.inside=!0):oe-=pe,be=!0),(pe=(S.y||0)+M.height-_+ae)>z.plotHeight&&(F==="top"&&oe<=0?(w.verticalAlign="bottom",w.inside=!0):oe+=z.plotHeight-pe,be=!0),be&&(w.x=re,w.y=oe,C.placed=!N,C.align(w,void 0,L)),be}function f(C,w){let S=[],M;if(bn(C)&&!bn(w))S=C.map(function(L){return Gl(L,w)});else if(bn(w)&&!bn(C))S=w.map(function(L){return Gl(C,L)});else if(bn(C)||bn(w)){if(bn(C)&&bn(w))for(M=Math.max(C.length,w.length);M--;)S[M]=Gl(C[M],w[M])}else S=Gl(C,w);return S}function m(C){var S,M;let w=C.chart.options.plotOptions;return Ly(f(f((S=w==null?void 0:w.series)==null?void 0:S.dataLabels,(M=w==null?void 0:w[C.type])==null?void 0:M.dataLabels),C.options.dataLabels))}function v(C,w,S,M,L){let N=this.chart,z=N.inverted,A=this.xAxis,F=A.reversed,_=((z?w.height:w.width)||0)/2,ie=C.pointWidth,K=ie?ie/2:0;w.startXPos=z?L.x:F?-_-K:A.width-_+K,w.startYPos=z?F?this.yAxis.height-_+K:-_-K:L.y,M?w.visibility==="hidden"&&(w.show(),w.attr({opacity:0}).animate({opacity:1})):w.attr({opacity:1}).animate({opacity:0},void 0,w.hide),N.hasRendered&&(S&&w.attr({x:w.startXPos,y:w.startYPos}),w.placed=!0)}y.compose=function(C){let w=C.prototype;w.initDataLabels||(w.initDataLabels=u,w.initDataLabelsGroup=l,w.alignDataLabel=a,w.drawDataLabels=d,w.justifyDataLabel=c,w.mergeArrays=f,w.setDataLabelStartPos=v,w.hasDataLabels=n)}})(ee||(ee={}));let Sd=ee,{composed:Dk}=se,{series:Py}=$t,{merge:zk,pushUnique:Nk}=Fe;(function(y){function n(a,l,u,d,c){var N,z;let{chart:f,options:m}=this,v=f.inverted,C=((N=this.xAxis)==null?void 0:N.len)||f.plotSizeX||0,w=((z=this.yAxis)==null?void 0:z.len)||f.plotSizeY||0,S=a.dlBox||a.shapeArgs,M=a.below??(a.plotY||0)>(this.translatedThreshold??w),L=u.inside??!!m.stacking;if(S){if(d=zk(S),u.overflow!=="allow"||u.crop!==!1||m.clip!==!1){d.y<0&&(d.height+=d.y,d.y=0);let A=d.y+d.height-w;A>0&&A<d.height-1&&(d.height-=A)}v&&(d={x:w-d.y-d.height,y:C-d.x-d.width,width:d.height,height:d.width}),L||(v?(d.x+=M?0:d.width,d.width=0):(d.y+=M?d.height:0,d.height=0))}u.align??(u.align=!v||L?"center":M?"right":"left"),u.verticalAlign??(u.verticalAlign=v||L?"middle":M?"top":"bottom"),Py.prototype.alignDataLabel.call(this,a,l,u,d,c),u.inside&&a.contrastColor&&l.css({color:a.contrastColor})}y.compose=function(a){Sd.compose(Py),Nk(Dk,"ColumnDataLabel")&&(a.prototype.alignDataLabel=n)}})(B||(B={}));let Fk=B,{extend:Ik,merge:Hk}=Fe;class Em extends kd{}Em.defaultOptions=Hk(kd.defaultOptions,{}),Ik(Em.prototype,{inverted:!0}),$t.registerSeriesType("bar",Em);let{column:Bk,line:Ay}=$t.seriesTypes,{addEvent:_k,extend:jk,merge:Wk}=Fe;class Md extends Ay{applyJitter(){let n=this,a=this.options.jitter,l=this.points.length;a&&this.points.forEach(function(u,d){["x","y"].forEach(function(c,f){if(a[c]&&!u.isNull){let m=`plot${c.toUpperCase()}`,v=n[`${c}Axis`],C=a[c]*v.transA;if(v&&!v.logarithmic){let w=Math.max(0,(u[m]||0)-C),S=Math.min(v.len,(u[m]||0)+C);u[m]=w+(S-w)*function(M){let L=1e4*Math.sin(M);return L-Math.floor(L)}(d+f*l),c==="x"&&(u.clientX=u.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Md.defaultOptions=Wk(Ay.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),jk(Md.prototype,{drawTracker:Bk.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),_k(Md,"afterTranslate",function(){this.applyJitter()}),$t.registerSeriesType("scatter",Md);let{deg2rad:Oy}=se,{fireEvent:Vk,isNumber:km,pick:Td,relativeLength:Uk}=Fe;(function(y){y.getCenter=function(){let n=this.options,a=this.chart,l=2*(n.slicedOffset||0),u=a.plotWidth-2*l,d=a.plotHeight-2*l,c=n.center,f=Math.min(u,d),m=n.thickness,v,C=n.size,w=n.innerSize||0,S,M;typeof C=="string"&&(C=parseFloat(C)),typeof w=="string"&&(w=parseFloat(w));let L=[Td(c==null?void 0:c[0],"50%"),Td(c==null?void 0:c[1],"50%"),Td(C&&C<0?void 0:n.size,"100%"),Td(w&&w<0?void 0:n.innerSize||0,"0%")];for(!a.angular||this instanceof ts||(L[3]=0),S=0;S<4;++S)M=L[S],v=S<2||S===2&&/%$/.test(M),L[S]=Uk(M,[u,d,f,L[2]][S])+(v?l:0);return L[3]>L[2]&&(L[3]=L[2]),km(m)&&2*m<L[2]&&m>0&&(L[3]=L[2]-2*m),Vk(this,"afterGetCenter",{positions:L}),L},y.getStartAndEndRadians=function(n,a){let l=km(n)?n:0,u=km(a)&&a>l&&a-l<360?a:l+360;return{start:Oy*(l+-90),end:Oy*(u+-90)}}})(j||(j={}));let Dy=j,{setAnimation:Gk}=di,{addEvent:zy,defined:Xk,extend:Yk,isNumber:$k,pick:Kk,relativeLength:qk}=Fe;class Ny extends We{getConnectorPath(n){let a=n.dataLabelPosition,l=n.options||{},u=l.connectorShape,d=this.connectorShapes[u]||u;return a&&d.call(this,{...a.computed,alignment:a.alignment},a.connectorPosition,l)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(n){let a=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(a.x,a.y,a.r+n,a.r+n,{innerR:a.r-1,start:a.start,end:a.end,borderRadius:a.borderRadius})}constructor(n,a,l){super(n,a,l),this.half=0,this.name??(this.name=n.chart.options.lang.pieSliceName);let u=d=>{this.slice(d.type==="select")};zy(this,"select",u),zy(this,"unselect",u)}isValid(){return $k(this.y)&&this.y>=0}setVisible(n,a=!0){n!==this.visible&&this.update({visible:n??!this.visible},a,void 0,!1)}slice(n,a,l){let u=this.series;Gk(l,u.chart),a=Kk(a,!0),this.sliced=this.options.sliced=n=Xk(n)?n:!this.sliced,u.options.data[u.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Yk(Ny.prototype,{connectorShapes:{fixedOffset:function(y,n,a){let l=n.breakAt,u=n.touchingSliceAt,d=a.softConnector?["C",y.x+(y.alignment==="left"?-5:5),y.y,2*l.x-u.x,2*l.y-u.y,l.x,l.y]:["L",l.x,l.y];return[["M",y.x,y.y],d,["L",u.x,u.y]]},straight:function(y,n){let a=n.touchingSliceAt;return[["M",y.x,y.y],["L",a.x,a.y]]},crookedLine:function(y,n,a){let{angle:l=this.angle||0,breakAt:u,touchingSliceAt:d}=n,{series:c}=this,[f,m,v]=c.center,C=v/2,{plotLeft:w,plotWidth:S}=c.chart,M=y.alignment==="left",{x:L,y:N}=y,z=u.x;if(a.crookDistance){let F=qk(a.crookDistance,1);z=M?f+C+(S+w-f-C)*(1-F):w+(f-C)*F}else z=f+(m-N)*Math.tan(l-Math.PI/2);let A=[["M",L,N]];return(M?z<=L&&z>=u.x:z>=L&&z<=u.x)&&A.push(["L",z,N]),A.push(["L",u.x,u.y],["L",d.x,d.y]),A}}});let{getStartAndEndRadians:Jk}=Dy,{noop:Fy}=se,{clamp:Zk,extend:Qk,fireEvent:Iy,merge:Sm,pick:eS}=Fe;class Mm extends ts{animate(n){let a=this,l=a.points,u=a.startAngleRad;n||l.forEach(function(d){let c=d.graphic,f=d.shapeArgs;c&&f&&(c.attr({r:eS(d.startR,a.center&&a.center[3]/2),start:u,end:u}),c.animate({r:f.r,start:f.start,end:f.end},a.options.animation))})}drawEmpty(){let n,a,l=this.startAngleRad,u=this.endAngleRad,d=this.options;this.total===0&&this.center?(n=this.center[0],a=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(n,a,this.center[1]/2,0,l,u).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Fu.arc(n,a,this.center[2]/2,0,{start:l,end:u,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":d.borderWidth,fill:d.fillColor||"none",stroke:d.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let n=this.chart.renderer;this.points.forEach(function(a){a.graphic&&a.hasNewShapeType()&&(a.graphic=a.graphic.destroy()),a.graphic||(a.graphic=n[a.shapeType](a.shapeArgs).add(a.series.group),a.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(n,a,l,u){let d=this.center,c=this.radii?this.radii[l.index]||0:d[2]/2,f=u.dataLabelPosition,m=(f==null?void 0:f.distance)||0,v=Math.asin(Zk((n-d[1])/(c+m),-1,1));return d[0]+Math.cos(v)*(c+m)*(a?-1:1)+(m>0?(a?-1:1)*(u.padding||0):0)}hasData(){return this.points.some(n=>n.visible)}redrawPoints(){let n,a,l,u,d=this,c=d.chart;this.drawEmpty(),d.group&&!c.styledMode&&d.group.shadow(d.options.shadow),d.points.forEach(function(f){let m={};a=f.graphic,!f.isNull&&a?(u=f.shapeArgs,n=f.getTranslate(),c.styledMode||(l=d.pointAttribs(f,f.selected&&"select")),f.delayedRendering?(a.setRadialReference(d.center).attr(u).attr(n),c.styledMode||a.attr(l).attr({"stroke-linejoin":"round"}),f.delayedRendering=!1):(a.setRadialReference(d.center),c.styledMode||Sm(!0,m,l),Sm(!0,m,u,n),a.animate(m)),a.attr({visibility:f.visible?"inherit":"hidden"}),a.addClass(f.getClassName(),!0)):a&&(f.graphic=a.destroy())})}sortByAngle(n,a){n.sort(function(l,u){return l.angle!==void 0&&(u.angle-l.angle)*a})}translate(n){Iy(this,"translate"),this.generatePoints();let a=this.options,l=a.slicedOffset,u=Jk(a.startAngle,a.endAngle),d=this.startAngleRad=u.start,c=(this.endAngleRad=u.end)-d,f=this.points,m=a.ignoreHiddenPoint,v=f.length,C,w,S,M,L,N,z,A=0;for(n||(this.center=n=this.getCenter()),N=0;N<v;N++){z=f[N],C=d+A*c,z.isValid()&&(!m||z.visible)&&(A+=z.percentage/100),w=d+A*c;let F={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:Math.round(1e3*C)/1e3,end:Math.round(1e3*w)/1e3};z.shapeType="arc",z.shapeArgs=F,(S=(w+C)/2)>1.5*Math.PI?S-=2*Math.PI:S<-Math.PI/2&&(S+=2*Math.PI),z.slicedTranslation={translateX:Math.round(Math.cos(S)*l),translateY:Math.round(Math.sin(S)*l)},M=Math.cos(S)*n[2]/2,L=Math.sin(S)*n[2]/2,z.tooltipPos=[n[0]+.7*M,n[1]+.7*L],z.half=+(S<-Math.PI/2||S>Math.PI/2),z.angle=S}Iy(this,"afterTranslate")}updateTotals(){let n=this.points,a=n.length,l=this.options.ignoreHiddenPoint,u,d,c=0;for(u=0;u<a;u++)(d=n[u]).isValid()&&(!l||d.visible)&&(c+=d.y);for(u=0,this.total=c;u<a;u++)(d=n[u]).percentage=c>0&&(d.visible||!l)?d.y/c*100:0,d.total=c}}Mm.defaultOptions=Sm(ts.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),Qk(Mm.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:kd.prototype.drawTracker,getCenter:Dy.getCenter,getSymbol:Fy,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:kd.prototype.pointAttribs,pointClass:Ny,requireSorting:!1,searchPoint:Fy,trackerGroups:["group","dataLabelsGroup"]}),$t.registerSeriesType("pie",Mm);let{composed:tS,noop:iS}=se,{distribute:sS}=Qn,{series:Hy}=$t,{arrayMax:rS,clamp:By,defined:_y,isNumber:nS,pick:oS,pushUnique:aS,relativeLength:jy}=Fe;(function(y){let n={radialDistributionY:function(c,f){var m;return(((m=f.dataLabelPosition)==null?void 0:m.top)||0)+c.distributeBox.pos},radialDistributionX:function(c,f,m,v,C){let w=C.dataLabelPosition;return c.getX(m<((w==null?void 0:w.top)||0)+2||m>((w==null?void 0:w.bottom)||0)-2?v:m,f.half,f,C)},justify:function(c,f,m,v){var C;return v[0]+(c.half?-1:1)*(m+(((C=f.dataLabelPosition)==null?void 0:C.distance)||0))},alignToPlotEdges:function(c,f,m,v){let C=c.getBBox().width;return f?C+v:m-C-v},alignToConnectors:function(c,f,m,v){let C=0,w;return c.forEach(function(S){(w=S.dataLabel.getBBox().width)>C&&(C=w)}),f?C+v:m-C-v}};function a(c,f){let m=Math.PI/2,{start:v=0,end:C=0}=c.shapeArgs||{},w=c.angle||0;f>0&&v<m&&C>m&&w>m/2&&w<1.5*m&&(w=w<=m?Math.max(m/2,(v+m)/2):Math.min(1.5*m,(m+C)/2));let{center:S,options:M}=this,L=S[2]/2,N=Math.cos(w),z=Math.sin(w),A=S[0]+N*L,F=S[1]+z*L,_=Math.min((M.slicedOffset||0)+(M.borderWidth||0),f/5);return{natural:{x:A+N*f,y:F+z*f},computed:{},alignment:f<0?"center":c.half?"right":"left",connectorPosition:{angle:w,breakAt:{x:A+N*_,y:F+z*_},touchingSliceAt:{x:A,y:F}},distance:f}}function l(){var ae;let c=this,f=c.points,m=c.chart,v=m.plotWidth,C=m.plotHeight,w=m.plotLeft,S=Math.round(m.chartWidth/3),M=c.center,L=M[2]/2,N=M[1],z=[[],[]],A=[0,0,0,0],F=c.dataLabelPositioners,_,ie,K,Q=0;c.visible&&((ae=c.hasDataLabels)!=null&&ae.call(c))&&(f.forEach(re=>{(re.dataLabels||[]).forEach(oe=>{oe.shortened&&(oe.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),oe.shortened=!1)})}),Hy.prototype.drawDataLabels.apply(c),f.forEach(re=>{(re.dataLabels||[]).forEach((oe,pe)=>{var De;let be=M[2]/2,xe=oe.options,Ee=jy((xe==null?void 0:xe.distance)||0,be);pe===0&&z[re.half].push(re),!_y((De=xe==null?void 0:xe.style)==null?void 0:De.width)&&oe.getBBox().width>S&&(oe.css({width:Math.round(.7*S)+"px"}),oe.shortened=!0),oe.dataLabelPosition=this.getDataLabelPosition(re,Ee),Q=Math.max(Q,Ee)})}),z.forEach((re,oe)=>{let pe=re.length,be=[],xe,Ee,De=0,Ae;pe&&(c.sortByAngle(re,oe-.5),Q>0&&(xe=Math.max(0,N-L-Q),Ee=Math.min(N+L+Q,m.plotHeight),re.forEach(Ne=>{(Ne.dataLabels||[]).forEach(Re=>{var et;let Ie=Re.dataLabelPosition;Ie&&Ie.distance>0&&(Ie.top=Math.max(0,N-L-Ie.distance),Ie.bottom=Math.min(N+L+Ie.distance,m.plotHeight),De=Re.getBBox().height||21,Re.lineHeight=m.renderer.fontMetrics(Re.text||Re).h+2*Re.padding,Ne.distributeBox={target:(((et=Re.dataLabelPosition)==null?void 0:et.natural.y)||0)-Ie.top+Re.lineHeight/2,size:De,rank:Ne.y},be.push(Ne.distributeBox))})}),sS(be,Ae=Ee+De-xe,Ae/5)),re.forEach(Ne=>{(Ne.dataLabels||[]).forEach(Re=>{let Ie=Re.options||{},et=Ne.distributeBox,lt=Re.dataLabelPosition,ct=(lt==null?void 0:lt.natural.y)||0,ki=Ie.connectorPadding||0,st=Re.lineHeight||21,wt=(st-Re.getBBox().height)/2,Je=0,Ge=ct,Qt="inherit";if(lt){if(be&&_y(et)&&lt.distance>0&&(et.pos===void 0?Qt="hidden":(K=et.size,Ge=F.radialDistributionY(Ne,Re))),Ie.justify)Je=F.justify(Ne,Re,L,M);else switch(Ie.alignTo){case"connectors":Je=F.alignToConnectors(re,oe,v,w);break;case"plotEdges":Je=F.alignToPlotEdges(Re,oe,v,w);break;default:Je=F.radialDistributionX(c,Ne,Ge-wt,ct,Re)}if(lt.attribs={visibility:Qt,align:lt.alignment},lt.posAttribs={x:Je+(Ie.x||0)+({left:ki,right:-ki}[lt.alignment]||0),y:Ge+(Ie.y||0)-st/2},lt.computed.x=Je,lt.computed.y=Ge-wt,oS(Ie.crop,!0)){let xt;Je-(ie=Re.getBBox().width)<ki&&oe===1?(xt=Math.round(ie-Je+ki),A[3]=Math.max(xt,A[3])):Je+ie>v-ki&&oe===0&&(xt=Math.round(Je+ie-v+ki),A[1]=Math.max(xt,A[1])),Ge-K/2<0?A[0]=Math.max(Math.round(-Ge+K/2),A[0]):Ge+K/2>C&&(A[2]=Math.max(Math.round(Ge+K/2-C),A[2])),lt.sideOverflow=xt}}})}))}),(rS(A)===0||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),this.points.forEach(re=>{(re.dataLabels||[]).forEach(oe=>{var Ee;let{connectorColor:pe,connectorWidth:be=1}=oe.options||{},xe=oe.dataLabelPosition;if(nS(be)){let De;_=oe.connector,xe&&xe.distance>0?(De=!_,_||(oe.connector=_=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+re.colorIndex+(re.className?" "+re.className:"")).add(c.dataLabelsGroup)),m.styledMode||_.attr({"stroke-width":be,stroke:pe||re.color||"#666666"}),_[De?"attr":"animate"]({d:re.getConnectorPath(oe)}),_.attr({visibility:(Ee=xe.attribs)==null?void 0:Ee.visibility})):_&&(oe.connector=_.destroy())}})})))}function u(){this.points.forEach(c=>{(c.dataLabels||[]).forEach(f=>{var v,C;let m=f.dataLabelPosition;m?(m.sideOverflow&&(f.css({width:Math.max(f.getBBox().width-m.sideOverflow,0)+"px",textOverflow:((C=(v=f.options)==null?void 0:v.style)==null?void 0:C.textOverflow)||"ellipsis"}),f.shortened=!0),f.attr(m.attribs),f[f.moved?"animate":"attr"](m.posAttribs),f.moved=!0):f&&f.attr({y:-9999})}),delete c.distributeBox},this)}function d(c){let f=this.center,m=this.options,v=m.center,C=m.minSize||80,w=C,S=m.size!==null;return!S&&(v[0]!==null?w=Math.max(f[2]-Math.max(c[1],c[3]),C):(w=Math.max(f[2]-c[1]-c[3],C),f[0]+=(c[3]-c[1])/2),v[1]!==null?w=By(w,C,f[2]-Math.max(c[0],c[2])):(w=By(w,C,f[2]-c[0]-c[2]),f[1]+=(c[0]-c[2])/2),w<f[2]?(f[2]=w,f[3]=Math.min(m.thickness?Math.max(0,w-2*m.thickness):Math.max(0,jy(m.innerSize||0,w)),w),this.translate(f),this.drawDataLabels&&this.drawDataLabels()):S=!0),S}y.compose=function(c){if(Sd.compose(Hy),aS(tS,"PieDataLabel")){let f=c.prototype;f.dataLabelPositioners=n,f.alignDataLabel=iS,f.drawDataLabels=l,f.getDataLabelPosition=a,f.placeDataLabels=u,f.verifyDataLabelOverflow=d}}})(X||(X={}));let lS=X;(function(y){y.getCenterOfPoints=function(n){let a=n.reduce((l,u)=>(l.x+=u.x,l.y+=u.y,l),{x:0,y:0});return{x:a.x/n.length,y:a.y/n.length}},y.getDistanceBetweenPoints=function(n,a){return Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2))},y.getAngleBetweenPoints=function(n,a){return Math.atan2(a.x-n.x,a.y-n.y)},y.pointInPolygon=function({x:n,y:a},l){let u=l.length,d,c,f=!1;for(d=0,c=u-1;d<u;c=d++){let[m,v]=l[d],[C,w]=l[c];v>a!=w>a&&n<(C-m)*(a-v)/(w-v)+m&&(f=!f)}return f}})(Z||(Z={}));let{pointInPolygon:hS}=Z,{addEvent:uS,getAlignFactor:dS,fireEvent:Wy,objectEach:Vy,pick:cS}=Fe;function pS(y){let n=y.length,a=(C,w)=>!(w.x>=C.x+C.width||w.x+w.width<=C.x||w.y>=C.y+C.height||w.y+w.height<=C.y),l=(C,w)=>{for(let S of C)if(hS({x:S[0],y:S[1]},w))return!0;return!1},u,d,c,f,m,v=!1;for(let C=0;C<n;C++)(u=y[C])&&(u.oldOpacity=u.opacity,u.newOpacity=1,u.absoluteBox=function(w){var S,M;if(w&&(!w.alignAttr||w.placed)){let L=w.box?0:w.padding||0,N=w.alignAttr||{x:w.attr("x"),y:w.attr("y")},{height:z,polygon:A,width:F}=w.getBBox(),_=dS(w.alignValue)*F;return w.width=F,w.height=z,{x:N.x+(((S=w.parentGroup)==null?void 0:S.translateX)||0)+L-_,y:N.y+(((M=w.parentGroup)==null?void 0:M.translateY)||0)+L,width:F-2*L,height:z-2*L,polygon:A}}}(u));y.sort((C,w)=>(w.labelrank||0)-(C.labelrank||0));for(let C=0;C<n;++C){f=(d=y[C])&&d.absoluteBox;let w=f==null?void 0:f.polygon;for(let S=C+1;S<n;++S){m=(c=y[S])&&c.absoluteBox;let M=!1;if(f&&m&&d!==c&&d.newOpacity!==0&&c.newOpacity!==0&&d.visibility!=="hidden"&&c.visibility!=="hidden"){let L=m.polygon;if(w&&L&&w!==L?l(w,L)&&(M=!0):a(f,m)&&(M=!0),M){let N=d.labelrank<c.labelrank?d:c,z=N.text;N.newOpacity=0,z!=null&&z.element.querySelector("textPath")&&z.hide()}}}}for(let C of y)Uy(C,this)&&(v=!0);v&&Wy(this,"afterHideAllOverlappingLabels")}function Uy(y,n){let a,l=!1;return y&&(a=y.newOpacity,y.oldOpacity!==a&&(y.hasClass("highcharts-data-label")?(y[a?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=!0,y[y.isOld?"animate":"attr"]({opacity:a},void 0,function(){n.styledMode||y.css({pointerEvents:a?"auto":"none"})}),Wy(n,"afterHideOverlappingLabel")):y.attr({opacity:a})),y.isOld=!0),l}function fS(){var a;let y=this,n=[];for(let l of y.labelCollectors||[])n=n.concat(l());for(let l of y.yAxis||[])l.stacking&&l.options.stackLabels&&!l.options.stackLabels.allowOverlap&&Vy(l.stacking.stacks,u=>{Vy(u,d=>{d.label&&n.push(d.label)})});for(let l of y.series||[])if(l.visible&&((a=l.hasDataLabels)!=null&&a.call(l))){let u=d=>{for(let c of d)c.visible&&(c.dataLabels||[]).forEach(f=>{var v;let m=f.options||{};f.labelrank=cS(m.labelrank,c.labelrank,(v=c.shapeArgs)==null?void 0:v.height),m.allowOverlap??Number(m.distance)>0?(f.oldOpacity=f.opacity,f.newOpacity=1,Uy(f,y)):n.push(f)})};u(l.nodes||[]),u(l.points)}this.hideOverlappingLabels(n)}let Gy={compose:function(y){let n=y.prototype;n.hideOverlappingLabels||(n.hideOverlappingLabels=pS,uS(y,"render",fS))}},{defaultOptions:mS}=Oi,{noop:Xy}=se,{addEvent:Yy,extend:gS,isObject:$y,merge:bS,relativeLength:Tm}=Fe,vS={radius:0,scope:"stack",where:void 0},Ky=Xy,qy=Xy;function yS(y,n,a,l,u={}){let d=Ky(y,n,a,l,u),{brStart:c=!0,brEnd:f=!0,innerR:m=0,r:v=a,start:C=0,end:w=0}=u;if(u.open||!u.borderRadius)return d;let S=w-C,M=Math.sin(S/2),L=Math.max(Math.min(Tm(u.borderRadius||0,v-m),(v-m)/2,v*M/(1+M)),0),N=Math.min(L,S/Math.PI*2*m),z=d.length-1;for(;z--;)(c||z!==0&&z!==3)&&(f||z!==1&&z!==2)&&function(A,F,_){let ie,K,Q,ae=A[F],re=A[F+1];if(re[0]==="Z"&&(re=A[0]),(ae[0]==="M"||ae[0]==="L")&&re[0]==="A"?(ie=ae,K=re,Q=!0):ae[0]==="A"&&(re[0]==="M"||re[0]==="L")&&(ie=re,K=ae),ie&&K&&K.params){let oe=K[1],pe=K[5],be=K.params,{start:xe,end:Ee,cx:De,cy:Ae}=be,Ne=pe?oe-_:oe+_,Re=Ne?Math.asin(_/Ne):0,Ie=pe?Re:-Re,et=Math.cos(Re)*Ne;Q?(be.start=xe+Ie,ie[1]=De+et*Math.cos(xe),ie[2]=Ae+et*Math.sin(xe),A.splice(F+1,0,["A",_,_,0,0,1,De+oe*Math.cos(be.start),Ae+oe*Math.sin(be.start)])):(be.end=Ee-Ie,K[6]=De+oe*Math.cos(be.end),K[7]=Ae+oe*Math.sin(be.end),A.splice(F+1,0,["A",_,_,0,0,1,De+et*Math.cos(Ee),Ae+et*Math.sin(Ee)])),K[4]=Math.abs(be.end-be.start)<Math.PI?0:1}}(d,z,z>1?N:L);return d}function wS(){var y,n;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:a,yAxis:l}=this,u=a.stacking==="percent",d=(n=(y=mS.plotOptions)==null?void 0:y[this.type])==null?void 0:n.borderRadius,c=Rm(a.borderRadius,$y(d)?d:{}),f=l.options.reversed;for(let m of this.points){let{shapeArgs:v}=m;if(m.shapeType==="roundedRect"&&v){let{width:C=0,height:w=0,y:S=0}=v,M=S,L=w;if(c.scope==="stack"&&m.stackTotal){let F=l.translate(u?100:m.stackTotal,!1,!0,!1,!0),_=l.translate(a.threshold||0,!1,!0,!1,!0),ie=this.crispCol(0,Math.min(F,_),0,Math.abs(F-_));M=ie.y,L=ie.height}let N=(m.negative?-1:1)*(f?-1:1)==-1,z=c.where;!z&&this.is("waterfall")&&Math.abs((m.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(z="all"),z||(z="end");let A=Math.min(Tm(c.radius,C),C/2,z==="all"?w/2:1/0)||0;z==="end"&&(N&&(M-=A),L+=A),gS(v,{brBoxHeight:L,brBoxY:M,r:A})}}}}function Rm(y,n){return $y(y)||(y={radius:y||0}),bS(vS,n,y)}function xS(){let y=Rm(this.options.borderRadius);for(let n of this.points){let a=n.shapeArgs;a&&(a.borderRadius=Tm(y.radius,(a.r||0)-(a.innerR||0)))}}function CS(y,n,a,l,u={}){let d=qy(y,n,a,l,u),{r:c=0,brBoxHeight:f=l,brBoxY:m=n}=u,v=n-m,C=m+f-(n+l),w=v-c>-.1?0:c,S=C-c>-.1?0:c,M=Math.max(w&&v,0),L=Math.max(S&&C,0),N=[y+w,n],z=[y+a-w,n],A=[y+a,n+w],F=[y+a,n+l-S],_=[y+a-S,n+l],ie=[y+S,n+l],K=[y,n+l-S],Q=[y,n+w],ae=(re,oe)=>Math.sqrt(Math.pow(re,2)-Math.pow(oe,2));if(M){let re=ae(w,w-M);N[0]-=re,z[0]+=re,A[1]=Q[1]=n+w-M}if(l<w-M){let re=ae(w,w-M-l);A[0]=F[0]=y+a-w+re,_[0]=Math.min(A[0],_[0]),ie[0]=Math.max(F[0],ie[0]),K[0]=Q[0]=y+w-re,A[1]=Q[1]=n+l}if(L){let re=ae(S,S-L);_[0]+=re,ie[0]-=re,F[1]=K[1]=n+l-S+L}if(l<S-L){let re=ae(S,S-L-l);A[0]=F[0]=y+a-S+re,z[0]=Math.min(A[0],z[0]),N[0]=Math.max(F[0],N[0]),K[0]=Q[0]=y+S-re,F[1]=K[1]=n}return d.length=0,d.push(["M",...N],["L",...z],["A",w,w,0,0,1,...A],["L",...F],["A",S,S,0,0,1,..._],["L",...ie],["A",S,S,0,0,1,...K],["L",...Q],["A",w,w,0,0,1,...N],["Z"]),d}let{diffObjects:ES,extend:kS,find:SS,merge:MS,pick:Rd,uniqueKey:TS}=Fe;(function(y){function n(l,u){let d=l.condition;(d.callback||function(){return this.chartWidth<=Rd(d.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Rd(d.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Rd(d.minWidth,0)&&this.chartHeight>=Rd(d.minHeight,0)}).call(this)&&u.push(l._id)}function a(l,u){let d=this.options.responsive,c=this.currentResponsive,f=[],m;!u&&d&&d.rules&&d.rules.forEach(w=>{w._id===void 0&&(w._id=TS()),this.matchResponsiveRule(w,f)},this);let v=MS(...f.map(w=>SS((d==null?void 0:d.rules)||[],S=>S._id===w)).map(w=>w==null?void 0:w.chartOptions));v.isResponsiveOptions=!0,f=f.toString()||void 0;let C=c==null?void 0:c.ruleIds;f!==C&&(c&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(c.undoOptions,l,!0),this.updatingResponsive=!1),f?((m=ES(v,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:f,mergedOptions:v,undoOptions:m},this.updatingResponsive||this.update(v,l,!0)):this.currentResponsive=void 0)}y.compose=function(l){let u=l.prototype;return u.matchResponsiveRule||kS(u,{matchResponsiveRule:n,setResponsive:a}),l}})(ce||(ce={}));let RS=ce;se.AST=Mt,se.Axis=cn,se.Chart=mn,se.Color=At,se.DataLabel=Sd,se.DataTableCore=dd,se.Fx=Ei,se.HTMLElement=hr,se.Legend=ry,se.LegendSymbol=Uv,se.OverlappingDataLabels=se.OverlappingDataLabels||Gy,se.PlotLineOrBand=bo,se.Point=We,se.Pointer=Vs,se.RendererRegistry=Zn,se.Series=ts,se.SeriesRegistry=$t,se.StackItem=gy,se.SVGElement=Es,se.SVGRenderer=ds,se.Templating=Di,se.Tick=Qi,se.Time=ol,se.Tooltip=le,se.animate=di.animate,se.animObject=di.animObject,se.chart=mn.chart,se.color=At.parse,se.dateFormat=Di.dateFormat,se.defaultOptions=Oi.defaultOptions,se.distribute=Qn.distribute,se.format=Di.format,se.getDeferredAnimation=di.getDeferredAnimation,se.getOptions=Oi.getOptions,se.numberFormat=Di.numberFormat,se.seriesType=$t.seriesType,se.setAnimation=di.setAnimation,se.setOptions=Oi.setOptions,se.stop=di.stop,se.time=Oi.defaultTime,se.timers=Ei.timers,{compose:function(y,n,a){let l=y.types.pie;if(!n.symbolCustomAttribs.includes("borderRadius")){let u=a.prototype.symbols;Yy(y,"afterColumnTranslate",wS,{order:9}),Yy(l,"afterTranslate",xS),n.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),Ky=u.arc,qy=u.roundedRect,u.arc=yS,u.roundedRect=CS}},optionsToObject:Rm}.compose(se.Series,se.SVGElement,se.SVGRenderer),Fk.compose(se.Series.types.column),Sd.compose(se.Series),Hf.compose(se.Axis),hr.compose(se.SVGRenderer),ry.compose(se.Chart),_f.compose(se.Axis),Gy.compose(se.Chart),lS.compose(se.Series.types.pie),bo.compose(se.Chart,se.Axis),Vs.compose(se.Chart),RS.compose(se.Chart),_l.compose(se.Axis,se.Chart,se.Series),mk.compose(se.Axis,se.Chart,se.Series),le.compose(se.Pointer),Fe.extend(se,Fe);let LS=se;return Te.default})())})(o1);var TD=o1.exports;const RD=yb(TD);var a1={exports:{}};(function(i,e){(function(t,s){i.exports=s(he)})(typeof self<"u"?self:vb,function(t){return function(s){function r(h){if(o[h])return o[h].exports;var p=o[h]={i:h,l:!1,exports:{}};return s[h].call(p.exports,p,p.exports,r),p.l=!0,p.exports}var o={};return r.m=s,r.c=o,r.d=function(h,p,g){r.o(h,p)||Object.defineProperty(h,p,{configurable:!1,enumerable:!0,get:g})},r.n=function(h){var p=h&&h.__esModule?function(){return h.default}:function(){return h};return r.d(p,"a",p),p},r.o=function(h,p){return Object.prototype.hasOwnProperty.call(h,p)},r.p="",r(r.s=0)}([function(s,r,o){function h(){return h=Object.assign?Object.assign.bind():function(j){for(var X=1;X<arguments.length;X++){var Z=arguments[X];for(var ce in Z)Object.prototype.hasOwnProperty.call(Z,ce)&&(j[ce]=Z[ce])}return j},h.apply(this,arguments)}function p(j){return R(j)||k(j)||x(j)||g()}function g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(j,X){if(j){if(typeof j=="string")return D(j,X);var Z=Object.prototype.toString.call(j).slice(8,-1);return Z==="Object"&&j.constructor&&(Z=j.constructor.name),Z==="Map"||Z==="Set"?Array.from(j):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?D(j,X):void 0}}function k(j){if(typeof Symbol<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}function R(j){if(Array.isArray(j))return D(j)}function D(j,X){(X==null||X>j.length)&&(X=j.length);for(var Z=0,ce=new Array(X);Z<X;Z++)ce[Z]=j[Z];return ce}function W(j){"@babel/helpers - typeof";return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(j)}Object.defineProperty(r,"__esModule",{value:!0}),o.d(r,"HighchartsReact",function(){return B});var V=o(1),Y=o.n(V),ee=typeof window<"u"?V.useLayoutEffect:V.useEffect,B=Object(V.memo)(Object(V.forwardRef)(function(j,X){var Z=Object(V.useRef)(),ce=Object(V.useRef)(),fe=Object(V.useRef)(j.constructorType),Te=Object(V.useRef)(j.highcharts);return ee(function(){function se(){var _e=j.highcharts||(typeof window>"u"?"undefined":W(window))==="object"&&window.Highcharts,mt=j.constructorType||"chart";_e?_e[mt]?j.options?ce.current=_e[mt](Z.current,j.options,j.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(ce.current){if(j.allowChartUpdate!==!1)if(j.constructorType!==fe.current||j.highcharts!==Te.current)fe.current=j.constructorType,Te.current=j.highcharts,se();else if(!j.immutable&&ce.current){var nt;(nt=ce.current).update.apply(nt,[j.options].concat(p(j.updateArgs||[!0,!0])))}else se()}else se()},[j.options,j.allowChartUpdate,j.updateArgs,j.containerProps,j.highcharts,j.constructorType]),ee(function(){return function(){ce.current&&(ce.current.destroy(),ce.current=null)}},[]),Object(V.useImperativeHandle)(X,function(){return{get chart(){return ce.current},container:Z}},[]),Y.a.createElement("div",h({},j.containerProps,{ref:Z}))}));r.default=B},function(s,r){s.exports=t}])})})(a1);var LD=a1.exports;const PD=yb(LD);var AD={exports:{}};(function(i,e){(function(t,s){i.exports=s(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Series,t._Highcharts.Series.types.column,t._Highcharts.Templating,t._Highcharts.Point,t._Highcharts.Color,t._Highcharts.Chart,t._Highcharts.SVGElement,t._Highcharts.StackItem)})(typeof window>"u"?vb:window,(t,s,r,o,h,p,g,x,k,R)=>(()=>{var D,W,V,Y={28:P=>{P.exports=k},184:P=>{P.exports=R},260:P=>{P.exports=p},448:P=>{P.exports=o},512:P=>{P.exports=s},620:P=>{P.exports=g},820:P=>{P.exports=r},944:P=>{P.exports=t},960:P=>{P.exports=x},984:P=>{P.exports=h}},ee={};function B(P){var b=ee[P];if(b!==void 0)return b.exports;var E=ee[P]={exports:{}};return Y[P](E,E.exports,B),E.exports}B.n=P=>{var b=P&&P.__esModule?()=>P.default:()=>P;return B.d(b,{a:b}),b},B.d=(P,b)=>{for(var E in b)B.o(b,E)&&!B.o(P,E)&&Object.defineProperty(P,E,{enumerable:!0,get:b[E]})},B.o=(P,b)=>Object.prototype.hasOwnProperty.call(P,b);var j={};B.d(j,{default:()=>Kf});var X=B(944),Z=B.n(X),ce=B(512),fe=B.n(ce),Te=B(820),se=B.n(Te);let{deg2rad:nt}=Z(),{fireEvent:_e,isNumber:mt,pick:Ye,relativeLength:ii}=Z();(function(P){P.getCenter=function(){let b=this.options,E=this.chart,T=2*(b.slicedOffset||0),O=E.plotWidth-2*T,I=E.plotHeight-2*T,H=b.center,G=Math.min(O,I),q=b.thickness,$,te=b.size,J=b.innerSize||0,le,ne;typeof te=="string"&&(te=parseFloat(te)),typeof J=="string"&&(J=parseFloat(J));let me=[Ye(H==null?void 0:H[0],"50%"),Ye(H==null?void 0:H[1],"50%"),Ye(te&&te<0?void 0:b.size,"100%"),Ye(J&&J<0?void 0:b.innerSize||0,"0%")];for(!E.angular||this instanceof se()||(me[3]=0),le=0;le<4;++le)ne=me[le],$=le<2||le===2&&/%$/.test(ne),me[le]=ii(ne,[O,I,G,me[2]][le])+($?T:0);return me[3]>me[2]&&(me[3]=me[2]),mt(q)&&2*q<me[2]&&q>0&&(me[3]=me[2]-2*q),_e(this,"afterGetCenter",{positions:me}),me},P.getStartAndEndRadians=function(b,E){let T=mt(b)?b:0,O=mt(E)&&E>T&&E-T<360?E:T+360;return{start:nt*(T+-90),end:nt*(O+-90)}}})(D||(D={}));let Vt=D,{addEvent:Vi,correctFloat:Pt,defined:Ui,pick:Pe}=Z();function $e(P){let b,E=this;return P&&E.pane.forEach(T=>{Xe(P.chartX-E.plotLeft,P.chartY-E.plotTop,T.center)&&(b=T)}),b}function Xe(P,b,E,T,O){let I=!0,H=E[0],G=E[1],q=2*Math.PI,$=Math.sqrt(Math.pow(P-H,2)+Math.pow(b-G,2));if(Ui(T)&&Ui(O)){let te=Math.atan2(Pt(b-G,8),Pt(P-H,8));te=(te+q)%q,T=(T+q)%q,Math.abs((O=(O+q)%q)-T)>1e-6&&(I=T>O?te>=T||te<=O:te>=T&&te<=O)}else I=!0;return $<=Math.ceil(E[2]/2)&&I}function ht(P){this.polar&&(P.options.inverted&&([P.x,P.y]=[P.y,P.x]),P.isInsidePlot=this.pane.some(b=>Xe(P.x,P.y,b.center,b.axis&&b.axis.normalizedStartAngleRad,b.axis&&b.axis.normalizedEndAngleRad)))}function gt(P){let b=this.chart;P.hoverPoint&&P.hoverPoint.plotX&&P.hoverPoint.plotY&&b.hoverPane&&!Xe(P.hoverPoint.plotX,P.hoverPoint.plotY,b.hoverPane.center)&&(P.hoverPoint=void 0)}function ni(P){let b=this.chart;b.polar?(b.hoverPane=b.getHoverPane(P),P.filter=function(E){return E.visible&&!(!P.shared&&E.directTouch)&&Pe(E.options.enableMouseTracking,!0)&&(!b.hoverPane||E.xAxis.pane===b.hoverPane)}):b.hoverPane=void 0}let{defaultOptions:Ut}=Z(),Pi={shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},Ai={background:Pi,center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0};Ut.pane=Ai;let Ke={pane:Ai,background:Pi},{extend:it,merge:ut,splat:Gt}=Z();class Zt{constructor(b,E){this.coll="pane",this.init(b,E)}init(b,E){this.chart=E,this.background=[],E.pane.push(this),this.setOptions(b)}setOptions(b){this.options=b=ut(Ke.pane,{background:this.chart.angular?{}:void 0},b)}render(){let b=this.options,E=this.chart.renderer;this.group||(this.group=E.g("pane-group").attr({zIndex:b.zIndex||0}).add()),this.updateCenter();let T=this.options.background;if(T){let O=Math.max((T=Gt(T)).length,this.background.length||0);for(let I=0;I<O;I++)T[I]&&this.axis?this.renderBackground(ut(Ke.background,T[I]),I):this.background[I]&&(this.background[I]=this.background[I].destroy(),this.background.splice(I,1))}}renderBackground(b,E){let T={class:"highcharts-pane "+(b.className||"")},O="animate";this.chart.styledMode||it(T,{fill:b.backgroundColor,stroke:b.borderColor,"stroke-width":b.borderWidth}),this.background[E]||(this.background[E]=this.chart.renderer.path().add(this.group),O="attr"),this.background[E][O]({d:this.axis.getPlotBandPath(b.from,b.to,b)}).attr(T)}updateCenter(b){this.center=(b||this.axis||{}).center=Vt.getCenter.call(this)}update(b,E){ut(!0,this.options,b),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(T){T.pane===this&&(T.pane=null,T.update({},E))},this)}}Zt.compose=function(P,b){let E=P.prototype;E.getHoverPane||(E.collectionsWithUpdate.push("pane"),E.getHoverPane=$e,Vi(P,"afterIsInsidePlot",ht),Vi(b,"afterGetHoverData",gt),Vi(b,"beforeGetHoverData",ni))};let{area:{prototype:{pointClass:Er,pointClass:{prototype:Fe}}}}=fe().seriesTypes,{defined:ou,isNumber:zs}=Z(),au=class extends Er{setState(){let P=this.state,b=this.series,E=b.chart.polar;ou(this.plotHigh)||(this.plotHigh=b.yAxis.toPixels(this.high,!0)),ou(this.plotLow)||(this.plotLow=this.plotY=b.yAxis.toPixels(this.low,!0)),b.lowerStateMarkerGraphic=b.stateMarkerGraphic,b.stateMarkerGraphic=b.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,E&&zs(this.plotHighX)&&(this.plotX=this.plotHighX),Fe.setState.apply(this,arguments),this.state=P,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],E&&zs(this.plotLowX)&&(this.plotX=this.plotLowX),b.upperStateMarkerGraphic=b.stateMarkerGraphic,b.stateMarkerGraphic=b.lowerStateMarkerGraphic,b.lowerStateMarkerGraphic=void 0;let T=b.modifyMarkerSettings();Fe.setState.apply(this,arguments),b.restoreMarkerSettings(T)}haloPath(){let P=this.series.chart.polar,b=[];return this.plotY=this.plotLow,P&&zs(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(b=Fe.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,P&&zs(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(b=b.concat(Fe.haloPath.apply(this,arguments))),b}isValid(){return zs(this.low)&&zs(this.high)}},{noop:lu}=Z(),{area:$o,area:{prototype:sr},column:{prototype:nl}}=fe().seriesTypes,{addEvent:Zr,defined:Ap,extend:Ko,isArray:rr,isNumber:Op,pick:qo,merge:hu}=Z();class Qr extends $o{toYData(b){return[b.low,b.high]}highToXY(b){let E=this.chart,T=this.xAxis.postTranslate(b.rectPlotX||0,this.yAxis.len-(b.plotHigh||0));b.plotHighX=T.x-E.plotLeft,b.plotHigh=T.y-E.plotTop,b.plotLowX=b.plotX}getGraphPath(b){let E=[],T=[],O=sr.getGraphPath,I=this.options,H=this.chart.polar,G=H&&I.connectEnds!==!1,q=I.connectNulls,$,te,J,le=I.step;for($=(b=b||this.points).length;$--;){te=b[$];let ye=H?{plotX:te.rectPlotX,plotY:te.yBottom,doCurve:!1}:{plotX:te.plotX,plotY:te.plotY,doCurve:!1};te.isNull||G||q||b[$+1]&&!b[$+1].isNull||T.push(ye),J={polarPlotY:te.polarPlotY,rectPlotX:te.rectPlotX,yBottom:te.yBottom,plotX:qo(te.plotHighX,te.plotX),plotY:te.plotHigh,isNull:te.isNull},T.push(J),E.push(J),te.isNull||G||q||b[$-1]&&!b[$-1].isNull||T.push(ye)}let ne=O.call(this,b);le&&(le===!0&&(le="left"),I.step={left:"right",center:"center",right:"left"}[le]);let me=O.call(this,E),ve=O.call(this,T);I.step=le;let we=[].concat(ne,me);return!this.chart.polar&&ve[0]&&ve[0][0]==="M"&&(ve[0]=["L",ve[0][1],ve[0][2]]),this.graphPath=we,this.areaPath=ne.concat(ve),we.isArea=!0,we.xMap=ne.xMap,this.areaPath.xMap=ne.xMap,we}drawDataLabels(){var J,le;let b,E,T,O,I,H=this.points,G=H.length,q=[],$=this.options.dataLabels,te=this.chart.inverted;if($){if(rr($)?(O=$[0]||{enabled:!1},I=$[1]||{enabled:!1}):((O=Ko({},$)).x=$.xHigh,O.y=$.yHigh,(I=Ko({},$)).x=$.xLow,I.y=$.yLow),O.enabled||((J=this.hasDataLabels)==null?void 0:J.call(this))){for(b=G;b--;)if(E=H[b]){let{plotHigh:ne=0,plotLow:me=0}=E;T=O.inside?ne<me:ne>me,E.y=E.high,E._plotY=E.plotY,E.plotY=ne,q[b]=E.dataLabel,E.dataLabel=E.dataLabelUpper,E.below=T,te?O.align||(O.align=T?"right":"left"):O.verticalAlign||(O.verticalAlign=T?"top":"bottom")}for(this.options.dataLabels=O,sr.drawDataLabels&&sr.drawDataLabels.apply(this,arguments),b=G;b--;)(E=H[b])&&(E.dataLabelUpper=E.dataLabel,E.dataLabel=q[b],delete E.dataLabels,E.y=E.low,E.plotY=E._plotY)}if(I.enabled||(le=this.hasDataLabels)!=null&&le.call(this)){for(b=G;b--;)if(E=H[b]){let{plotHigh:ne=0,plotLow:me=0}=E;T=I.inside?ne<me:ne>me,E.below=!T,te?I.align||(I.align=T?"left":"right"):I.verticalAlign||(I.verticalAlign=T?"bottom":"top")}this.options.dataLabels=I,sr.drawDataLabels&&sr.drawDataLabels.apply(this,arguments)}if(O.enabled)for(b=G;b--;)(E=H[b])&&(E.dataLabels=[E.dataLabelUpper,E.dataLabel].filter(function(ne){return!!ne}));this.options.dataLabels=$}}alignDataLabel(){nl.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let b={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:E,lowMarker:T}}=this;this.options.marker=hu(E,T),T.symbol&&(this.symbol=T.symbol)}return b}restoreMarkerSettings(b){this.options.marker=b.marker,this.symbol=b.symbol}drawPoints(){let b,E,T=this.points.length,O=this.modifyMarkerSettings();for(sr.drawPoints.apply(this,arguments),this.restoreMarkerSettings(O),b=0;b<T;)(E=this.points[b]).graphics=E.graphics||[],E.origProps={plotY:E.plotY,plotX:E.plotX,isInside:E.isInside,negative:E.negative,zone:E.zone,y:E.y},(E.graphic||E.graphics[0])&&(E.graphics[0]=E.graphic),E.graphic=E.graphics[1],E.plotY=E.plotHigh,Ap(E.plotHighX)&&(E.plotX=E.plotHighX),E.y=qo(E.high,E.origProps.y),E.negative=E.y<(this.options.threshold||0),this.zones.length&&(E.zone=E.getZone()),this.chart.polar||(E.isInside=E.isTopInside=E.plotY!==void 0&&E.plotY>=0&&E.plotY<=this.yAxis.len&&E.plotX>=0&&E.plotX<=this.xAxis.len),b++;for(sr.drawPoints.apply(this,arguments),b=0;b<T;)(E=this.points[b]).graphics=E.graphics||[],(E.graphic||E.graphics[1])&&(E.graphics[1]=E.graphic),E.graphic=E.graphics[0],E.origProps&&(Ko(E,E.origProps),delete E.origProps),b++}hasMarkerChanged(b,E){let T=b.lowMarker,O=E.lowMarker||{};return T&&(T.enabled===!1||O.symbol!==T.symbol||O.height!==T.height||O.width!==T.width)||super.hasMarkerChanged(b,E)}}Qr.defaultOptions=hu($o.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),Zr(Qr,"afterTranslate",function(){this.pointArrayMap.join(",")==="low,high"&&this.points.forEach(P=>{let b=P.high,E=P.plotY;P.isNull?P.plotY=void 0:(P.plotLow=E,P.plotHigh=Op(b)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(b):b,!1,!0,void 0,!0):void 0,this.dataModify&&(P.yBottom=P.plotHigh))})},{order:0}),Zr(Qr,"afterTranslate",function(){this.points.forEach(P=>{if(this.chart.polar)this.highToXY(P),P.plotLow=P.plotY,P.tooltipPos=[((P.plotHighX||0)+(P.plotLowX||0))/2,((P.plotHigh||0)+(P.plotLow||0))/2];else{let b=P.pos(!1,P.plotLow),E=P.pos(!1,P.plotHigh);b&&E&&(b[0]=(b[0]+E[0])/2,b[1]=(b[1]+E[1])/2),P.tooltipPos=b}})},{order:3}),Ko(Qr.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:au,pointValKey:"low",setStackedPoints:lu}),fe().registerSeriesType("arearange",Qr);let uu=Qr,{spline:{prototype:Dp}}=fe().seriesTypes,{merge:du,extend:zp}=Z();class Ft extends uu{}Ft.defaultOptions=du(uu.defaultOptions),zp(Ft.prototype,{getPointSpline:Dp.getPointSpline}),fe().registerSeriesType("areasplinerange",Ft);var ol=B(448),Jo=B.n(ol);let{noop:cu}=Z(),{crisp:Ns,extend:Fs,merge:al,pick:Oi,relativeLength:Np}=Z();class nr extends Jo(){pointAttribs(){return{}}getWhiskerPair(b,E,T,O,I){let H=I.whiskers.strokeWidth(),G=(q,$)=>{let te=Np(q,2*b)/2,J=Ns($,H);return[["M",Ns(E-te),J],["L",Ns(E+te),J]]};return[...G(T,I.highPlot),...G(O,I.lowPlot)]}translate(){let b=this.yAxis,E=this.pointArrayMap;super.translate.apply(this),this.points.forEach(function(T){E.forEach(function(O){T[O]!==null&&(T[O+"Plot"]=b.translate(T[O],0,1,0,1))}),T.plotHigh=T.highPlot})}drawPoints(){let b,E,T,O,I,H,G,q,$,te,J,le=this.points,ne=this.options,me=this.chart,ve=me.renderer,we=this.doQuartiles!==!1,ye=this.options.whiskerLength;for(let ue of le){let Ue=(q=ue.graphic)?"animate":"attr",ke=ue.shapeArgs,Ze={},Ve={},at={},dt={},He=ue.color||this.color,ge=ue.options.whiskerLength||ye;if(ue.plotY!==void 0){let Se;$=ke.width,J=(te=ke.x)+$,b=we?ue.q1Plot:ue.lowPlot,E=we?ue.q3Plot:ue.lowPlot,T=ue.highPlot,O=ue.lowPlot,q||(ue.graphic=q=ve.g("point").add(this.group),ue.stem=ve.path().addClass("highcharts-boxplot-stem").add(q),ye&&(ue.whiskers=ve.path().addClass("highcharts-boxplot-whisker").add(q)),we&&(ue.box=ve.path(G).addClass("highcharts-boxplot-box").add(q)),ue.medianShape=ve.path(H).addClass("highcharts-boxplot-median").add(q)),me.styledMode||(Ve.stroke=ue.stemColor||ne.stemColor||He,Ve["stroke-width"]=Oi(ue.stemWidth,ne.stemWidth,ne.lineWidth),Ve.dashstyle=ue.stemDashStyle||ne.stemDashStyle||ne.dashStyle,ue.stem.attr(Ve),ge&&(at.stroke=ue.whiskerColor||ne.whiskerColor||He,at["stroke-width"]=Oi(ue.whiskerWidth,ne.whiskerWidth,ne.lineWidth),at.dashstyle=ue.whiskerDashStyle||ne.whiskerDashStyle||ne.dashStyle,ue.whiskers.attr(at)),we&&(Ze.fill=ue.fillColor||ne.fillColor||He,Ze.stroke=ne.lineColor||He,Ze["stroke-width"]=ne.lineWidth||0,Ze.dashstyle=ue.boxDashStyle||ne.boxDashStyle||ne.dashStyle,ue.box.attr(Ze)),dt.stroke=ue.medianColor||ne.medianColor||He,dt["stroke-width"]=Oi(ue.medianWidth,ne.medianWidth,ne.lineWidth),dt.dashstyle=ue.medianDashStyle||ne.medianDashStyle||ne.dashStyle,ue.medianShape.attr(dt));let Me=Ns((ue.plotX||0)+(this.pointXOffset||0)+(this.barW||0)/2,ue.stem.strokeWidth());if(Se=[["M",Me,E],["L",Me,T],["M",Me,b],["L",Me,O]],ue.stem[Ue]({d:Se}),we){let Oe=ue.box.strokeWidth();b=Ns(b,Oe),E=Ns(E,Oe),Se=[["M",te=Ns(te,Oe),E],["L",te,b],["L",J=Ns(J,Oe),b],["L",J,E],["L",te,E],["Z"]],ue.box[Ue]({d:Se})}if(ge){let Oe=$/2,qe=this.getWhiskerPair(Oe,Me,ue.upperWhiskerLength??ne.upperWhiskerLength??ge,ue.lowerWhiskerLength??ne.lowerWhiskerLength??ge,ue);ue.whiskers[Ue]({d:qe})}Se=[["M",te,I=Ns(ue.medianPlot,ue.medianShape.strokeWidth())],["L",J,I]],ue.medianShape[Ue]({d:Se})}}}toYData(b){return[b.low,b.q1,b.median,b.q3,b.high]}}nr.defaultOptions=al(Jo().defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),Fs(nr.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:cu,setStackedPoints:cu}),fe().registerSeriesType("boxplot",nr);let pu=nr,Fp={borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0};var Ci=B(984),fu=B.n(Ci);let{noop:mu}=Z(),{arrayMax:ll,arrayMin:At,isNumber:hl,merge:Kn,pick:kr,stableSort:Ip}=Z(),Ei=class{constructor(P,b){this.setState=mu,this.init(P,b)}init(P,b){this.options=P,this.visible=!0,this.chart=b.chart,this.legend=b}addToLegend(P){P.splice(this.options.legendIndex,0,this)}drawLegendSymbol(P){let b,E=kr(P.options.itemDistance,20),T=this.legendItem||{},O=this.options,I=O.ranges,H=O.connectorDistance;if(!I||!I.length||!hl(I[0].value)){P.options.bubbleLegend.autoRanges=!0;return}Ip(I,function(te,J){return J.value-te.value}),this.ranges=I,this.setOptions(),this.render();let G=this.getMaxLabelSize(),q=this.ranges[0].radius,$=2*q;b=(b=H-q+G.width)>0?b:0,this.maxLabel=G,this.movementX=O.labels.align==="left"?b:0,T.labelWidth=$+b+E,T.labelHeight=$+G.height/2}setOptions(){let P=this.ranges,b=this.options,E=this.chart.series[b.seriesIndex],T=this.legend.baseline,O={zIndex:b.zIndex,"stroke-width":b.borderWidth},I={zIndex:b.zIndex,"stroke-width":b.connectorWidth},H={align:this.legend.options.rtl||b.labels.align==="left"?"right":"left",zIndex:b.zIndex},G=E.options.marker.fillOpacity,q=this.chart.styledMode;P.forEach(function($,te){q||(O.stroke=kr($.borderColor,b.borderColor,E.color),O.fill=$.color||b.color,O.fill||(O.fill=E.color,O["fill-opacity"]=G??1),I.stroke=kr($.connectorColor,b.connectorColor,E.color)),P[te].radius=this.getRangeRadius($.value),P[te]=Kn(P[te],{center:P[0].radius-P[te].radius+T}),q||Kn(!0,P[te],{bubbleAttribs:Kn(O),connectorAttribs:Kn(I),labelAttribs:H})},this)}getRangeRadius(P){let b=this.options,E=this.options.seriesIndex,T=this.chart.series[E],O=b.ranges[0].value,I=b.ranges[b.ranges.length-1].value,H=b.minSize,G=b.maxSize;return T.getRadius.call(this,I,O,H,G,P)}render(){let P=this.legendItem||{},b=this.chart.renderer,E=this.options.zThreshold;for(let T of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),P.symbol=b.g("bubble-legend"),P.label=b.g("bubble-legend-item").css(this.legend.itemStyle||{}),P.symbol.translateX=0,P.symbol.translateY=0,P.symbol.add(P.label),P.label.add(P.group),this.ranges))T.value>=E&&this.renderRange(T);this.hideOverlappingLabels()}renderRange(P){let b=this.ranges[0],E=this.legend,T=this.options,O=T.labels,I=this.chart,H=I.series[T.seriesIndex],G=I.renderer,q=this.symbols,$=q.labels,te=P.center,J=Math.abs(P.radius),le=T.connectorDistance||0,ne=O.align,me=E.options.rtl,ve=T.borderWidth,we=T.connectorWidth,ye=b.radius||0,ue=te-J-ve/2+we/2,Ue=(ue%1?1:.5)-(we%2?0:.5),ke=G.styledMode,Ze=me||ne==="left"?-le:le;ne==="center"&&(Ze=0,T.connectorDistance=0,P.labelAttribs.align="center"),q.bubbleItems.push(G.circle(ye,te+Ue,J).attr(ke?{}:P.bubbleAttribs).addClass((ke?"highcharts-color-"+H.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(T.className||"")).add(this.legendItem.symbol)),q.connectors.push(G.path(G.crispLine([["M",ye,ue],["L",ye+Ze,ue]],T.connectorWidth)).attr(ke?{}:P.connectorAttribs).addClass((ke?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(T.connectorClassName||"")).add(this.legendItem.symbol));let Ve=G.text(this.formatLabel(P)).attr(ke?{}:P.labelAttribs).css(ke?{}:O.style).addClass("highcharts-bubble-legend-labels "+(T.labels.className||"")).add(this.legendItem.symbol),at={x:ye+Ze+T.labels.x,y:ue+T.labels.y+.4*Ve.getBBox().height};Ve.attr(at),$.push(Ve),Ve.placed=!0,Ve.alignAttr=at}getMaxLabelSize(){let P,b;return this.symbols.labels.forEach(function(E){b=E.getBBox(!0),P=P?b.width>P.width?b:P:b}),P||{}}formatLabel(P){let b=this.options,E=b.labels.formatter,T=b.labels.format,{numberFormatter:O}=this.chart;return T?fu().format(T,P,this.chart):E?E.call(P):O(P.value,1)}hideOverlappingLabels(){let P=this.chart,b=this.options.labels.allowOverlap,E=this.symbols;!b&&E&&(P.hideOverlappingLabels(E.labels),E.labels.forEach(function(T,O){T.newOpacity?T.newOpacity!==T.oldOpacity&&E.connectors[O].show():E.connectors[O].hide()}))}getRanges(){let P=this.legend.bubbleLegend,b=P.chart.series,E=P.options.ranges,T,O,I=Number.MAX_VALUE,H=-Number.MAX_VALUE;return b.forEach(function(G){G.isBubble&&!G.ignoreSeries&&(O=G.getColumn("z").filter(hl)).length&&(I=kr(G.options.zMin,Math.min(I,Math.max(At(O),G.options.displayNegative===!1?G.options.zThreshold:-Number.MAX_VALUE))),H=kr(G.options.zMax,Math.max(H,ll(O))))}),T=I===H?[{value:H}]:[{value:I},{value:(I+H)/2},{value:H,autoRanges:!0}],E.length&&E[0].radius&&T.reverse(),T.forEach(function(G,q){E&&E[q]&&(T[q]=Kn(E[q],G))}),T}predictBubbleSizes(){let P=this.chart,b=P.legend.options,E=b.floating,T=b.layout==="horizontal",O=T?P.legend.lastLineHeight:0,I=P.plotSizeX,H=P.plotSizeY,G=P.series[this.options.seriesIndex],q=G.getPxExtremes(),$=Math.ceil(q.minPxSize),te=Math.ceil(q.maxPxSize),J=Math.min(H,I),le,ne=G.options.maxSize;return E||!/%$/.test(ne)?le=te:(le=(J+O)*(ne=parseFloat(ne))/100/(ne/100+1),(T&&H-le>=I||!T&&I-le>=H)&&(le=te)),[$,Math.ceil(le)]}updateRanges(P,b){let E=this.legend.options.bubbleLegend;E.minSize=P,E.maxSize=b,E.ranges=this.getRanges()}correctSizes(){let P=this.legend,b=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(b.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,b.maxPxSize),P.render())}},{setOptions:Hp}=Z(),{composed:Bp}=Z(),{addEvent:gu,objectEach:_p,pushUnique:ul,wrap:bu}=Z();function jp(P,b,E){let T,O,I,H=this.legend,G=dl(this)>=0;H&&H.options.enabled&&H.bubbleLegend&&H.options.bubbleLegend.autoRanges&&G?(T=H.bubbleLegend.options,O=H.bubbleLegend.predictBubbleSizes(),H.bubbleLegend.updateRanges(O[0],O[1]),T.placed||(H.group.placed=!1,H.allItems.forEach(q=>{(I=q.legendItem||{}).group&&(I.group.translateY=void 0)})),H.render(),T.placed||(this.getMargins(),this.axes.forEach(q=>{q.setScale(),q.updateNames(),_p(q.ticks,function($){$.isNew=!0,$.isNewLabel=!0})}),this.getMargins()),T.placed=!0,P.call(this,b,E),H.bubbleLegend.correctSizes(),cl(H,Zo(H))):(P.call(this,b,E),H&&H.options.enabled&&H.bubbleLegend&&(H.render(),cl(H,Zo(H))))}function dl(P){let b=P.series,E=0;for(;E<b.length;){if(b[E]&&b[E].isBubble&&b[E].visible&&b[E].dataTable.rowCount)return E;E++}return-1}function Zo(P){let b=P.allItems,E=[],T=b.length,O,I,H,G=0,q=0;for(G=0;G<T;G++)if(I=b[G].legendItem||{},H=(b[G+1]||{}).legendItem||{},I.labelHeight&&(b[G].itemHeight=I.labelHeight),b[G]===b[T-1]||I.y!==H.y){for(E.push({height:0}),O=E[E.length-1];q<=G;q++)b[q].itemHeight>O.height&&(O.height=b[q].itemHeight);O.step=G}return E}function vu(P){let b=this.bubbleLegend,E=this.options,T=E.bubbleLegend,O=dl(this.chart);b&&b.ranges&&b.ranges.length&&(T.ranges.length&&(T.autoRanges=!!T.ranges[0].autoRanges),this.destroyItem(b)),O>=0&&E.enabled&&T.enabled&&(T.seriesIndex=O,this.bubbleLegend=new Ei(T,this),this.bubbleLegend.addToLegend(P.allItems))}function di(P){let b;if(P.defaultPrevented)return!1;let E=P.legendItem,T=this.chart,O=E.visible;this&&this.bubbleLegend&&(E.visible=!O,E.ignoreSeries=O,b=dl(T)>=0,this.bubbleLegend.visible!==b&&(this.update({bubbleLegend:{enabled:b}}),this.bubbleLegend.visible=b),E.visible=O)}function cl(P,b){let E=P.allItems,T=P.options.rtl,O,I,H,G,q=0;E.forEach(($,te)=>{(G=$.legendItem||{}).group&&(O=G.group.translateX||0,I=G.y||0,((H=$.movementX)||T&&$.ranges)&&(H=T?O-$.options.maxSize/2:O+H,G.group.attr({translateX:H})),te>b[q].step&&q++,G.group.attr({translateY:Math.round(I+b[q].height/2)}),G.y=I+b[q].height/2)})}let Wp={compose:function(P,b){ul(Bp,"Series.BubbleLegend")&&(Hp({legend:{bubbleLegend:Fp}}),bu(P.prototype,"drawChartBox",jp),gu(b,"afterGetAllItems",vu),gu(b,"itemClick",di))}};var Vp=B(260),Sr=B.n(Vp);let{seriesTypes:{scatter:{prototype:{pointClass:Up}}}}=fe(),{extend:yu}=Z();class wu extends Up{haloPath(b){let E=(b&&this.marker&&this.marker.radius||0)+b;if(this.series.chart.inverted){let T=this.pos()||[0,0],{xAxis:O,yAxis:I,chart:H}=this.series,G=2*E;return H.renderer.symbols.circle(((O==null?void 0:O.len)||0)-T[1]-E,((I==null?void 0:I.len)||0)-T[0]-E,G,G)}return Sr().prototype.haloPath.call(this,E)}}yu(wu.prototype,{ttBelow:!1});let{composed:xu,noop:Qo}=Z(),{series:Gp,seriesTypes:{column:{prototype:pl},scatter:qn}}=fe(),{addEvent:ea,arrayMax:Mt,arrayMin:Cu,clamp:Eu,extend:fl,isNumber:Mr,merge:Xp,pick:Tr,pushUnique:ku}=Z();function Yp(){let P=this.len,{coll:b,isXAxis:E,min:T}=this,O=(this.max||0)-(T||0),I=0,H=P,G=P/O,q;(b==="xAxis"||b==="yAxis")&&(this.series.forEach($=>{if($.bubblePadding&&$.reserveSpace()){this.allowZoomOutside=!0,q=!0;let te=$.getColumn(E?"x":"y");if(E&&(($.onPoint||$).getRadii(0,0,$),$.onPoint&&($.radii=$.onPoint.radii)),O>0){let J=te.length;for(;J--;)if(Mr(te[J])&&this.dataMin<=te[J]&&te[J]<=this.max){let le=$.radii&&$.radii[J]||0;I=Math.min((te[J]-T)*G-le,I),H=Math.max((te[J]-T)*G+le,H)}}}}),q&&O>0&&!this.logarithmic&&(H-=P,G*=(P+Math.max(0,I)-Math.min(H,P))/P,[["min","userMin",I],["max","userMax",H]].forEach($=>{Tr(this.options[$[0]],this[$[1]])===void 0&&(this[$[0]]+=$[2]/G)})))}function $p(){var H;let{ticks:P,tickPositions:b,dataMin:E=0,dataMax:T=0,categories:O}=this,I=this.options.type;if((O!=null&&O.length||I==="category")&&this.series.find(G=>G.bubblePadding)){let G=b.length;for(;G--;){let q=P[b[G]],$=q.pos||0;($>T||$<E)&&((H=q.label)==null||H.hide())}}}class en extends qn{static compose(b,E,T){Wp.compose(E,T),ku(xu,"Series.Bubble")&&(ea(b,"foundExtremes",Yp),ea(b,"afterRender",$p))}animate(b){!b&&this.points.length<this.options.animationLimit&&this.points.forEach(function(E){let{graphic:T,plotX:O=0,plotY:I=0}=E;T&&T.width&&(this.hasRendered||T.attr({x:O,y:I,width:1,height:1}),T.animate(this.markerAttribs(E),this.options.animation))},this)}getRadii(){let b=this.getColumn("z"),E=this.getColumn("y"),T=[],O,I,H,G=this.chart.bubbleZExtremes,{minPxSize:q,maxPxSize:$}=this.getPxExtremes();if(!G){let te,J=Number.MAX_VALUE,le=-Number.MAX_VALUE;this.chart.series.forEach(ne=>{if(ne.bubblePadding&&ne.reserveSpace()){let me=(ne.onPoint||ne).getZExtremes();me&&(J=Math.min(Tr(J,me.zMin),me.zMin),le=Math.max(Tr(le,me.zMax),me.zMax),te=!0)}}),te?(G={zMin:J,zMax:le},this.chart.bubbleZExtremes=G):G={zMin:0,zMax:0}}for(I=0,O=b.length;I<O;I++)H=b[I],T.push(this.getRadius(G.zMin,G.zMax,q,$,H,E&&E[I]));this.radii=T}getRadius(b,E,T,O,I,H){let G=this.options,q=G.sizeBy!=="width",$=G.zThreshold,te=E-b,J=.5;if(H===null||I===null)return null;if(Mr(I)){if(G.sizeByAbsoluteValue&&(I=Math.abs(I-$),E=te=Math.max(E-$,Math.abs(b-$)),b=0),I<b)return T/2-1;te>0&&(J=(I-b)/te)}return q&&J>=0&&(J=Math.sqrt(J)),Math.ceil(T+J*(O-T))/2}hasData(){return!!this.dataTable.rowCount}markerAttribs(b,E){let T=super.markerAttribs(b,E),{height:O=0,width:I=0}=T;return this.chart.inverted?fl(T,{x:(b.plotX||0)-I/2,y:(b.plotY||0)-O/2}):T}pointAttribs(b,E){let T=this.options.marker,O=T==null?void 0:T.fillOpacity,I=Gp.prototype.pointAttribs.call(this,b,E);return I["fill-opacity"]=O??1,I}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:b,options:E,radii:T}=this,{minPxSize:O}=this.getPxExtremes(),I=b.length;for(;I--;){let H=b[I],G=T?T[I]:0;this.zoneAxis==="z"&&(H.negative=(H.z||0)<(E.zThreshold||0)),Mr(G)&&G>=O/2?(H.marker=fl(H.marker,{radius:G,width:2*G,height:2*G}),H.dlBox={x:H.plotX-G,y:H.plotY-G,width:2*G,height:2*G}):(H.shapeArgs=H.plotY=H.dlBox=void 0,H.isInside=!1)}}getPxExtremes(){let b=Math.min(this.chart.plotWidth,this.chart.plotHeight),E=I=>{let H;return typeof I=="string"&&(H=/%$/.test(I),I=parseInt(I,10)),H?b*I/100:I},T=E(Tr(this.options.minSize,8)),O=Math.max(E(Tr(this.options.maxSize,"20%")),T);return{minPxSize:T,maxPxSize:O}}getZExtremes(){let b=this.options,E=this.getColumn("z").filter(Mr);if(E.length){let T=Tr(b.zMin,Eu(Cu(E),b.displayNegative===!1?b.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),O=Tr(b.zMax,Mt(E));if(Mr(T)&&Mr(O))return{zMin:T,zMax:O}}}searchKDTree(b,E,T,O=Qo,I=Qo){return O=(H,G,q)=>{var ne,me;let $=H[q]||0,te=G[q]||0,J,le=!1;return $===te?J=H.index>G.index?H:G:$<0&&te<0?(J=$-(((ne=H.marker)==null?void 0:ne.radius)||0)>=te-(((me=G.marker)==null?void 0:me.radius)||0)?H:G,le=!0):J=$<te?H:G,[J,le]},I=(H,G,q)=>!q&&H>G||H<G,super.searchKDTree(b,E,T,O,I)}}en.defaultOptions=Xp(qn.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:P}=this.series.chart,{z:b}=this.point;return Mr(b)?P(b,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),fl(en.prototype,{alignDataLabel:pl.alignDataLabel,applyZones:Qo,bubblePadding:!0,isBubble:!0,keysAffectYAxis:["y"],pointArrayMap:["y","z"],pointClass:wu,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),ea(en,"updatedData",P=>{delete P.target.chart.bubbleZExtremes}),ea(en,"remove",P=>{delete P.target.chart.bubbleZExtremes}),fe().registerSeriesType("bubble",en);let{seriesTypes:{column:{prototype:{pointClass:{prototype:Kp}}},arearange:{prototype:{pointClass:ta}}}}=fe(),{extend:Su,isNumber:Mu}=Z();class Jn extends ta{isValid(){return Mu(this.low)}}Su(Jn.prototype,{setState:Kp.setState});let{noop:ml}=Z(),{seriesTypes:{arearange:Di,column:Zn,column:{prototype:xs}}}=fe(),{addEvent:qp,clamp:Tu,extend:gl,isNumber:Qn,merge:bl,pick:Jp}=Z();class tn extends Di{setOptions(){return bl(!0,arguments[0],{stacking:void 0}),Di.prototype.setOptions.apply(this,arguments)}translate(){return xs.translate.apply(this)}pointAttribs(){return xs.pointAttribs.apply(this,arguments)}translate3dPoints(){return xs.translate3dPoints.apply(this,arguments)}translate3dShapes(){return xs.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let b,E,T,O,I=this.yAxis,H=this.xAxis,G=H.startAngleRad,q=this.chart,$=this.xAxis.isRadial,te=Math.max(q.chartWidth,q.chartHeight)+999;this.points.forEach(J=>{let le=J.shapeArgs||{},ne=this.options.minPointLength,me=J.plotY,ve=I.translate(J.high,0,1,0,1);if(Qn(ve)&&Qn(me))if(J.plotHigh=Tu(ve,-te,te),J.plotLow=Tu(me,-te,te),O=J.plotHigh,Math.abs(b=Jp(J.rectPlotY,J.plotY)-J.plotHigh)<ne?(E=ne-b,b+=E,O-=E/2):b<0&&(b*=-1,O-=b),$&&this.polar)T=J.barX+G,J.shapeType="arc",J.shapeArgs=this.polar.arc(O+b,O,T,T+J.pointWidth);else{le.height=b,le.y=O;let{x:we=0,width:ye=0}=le;J.shapeArgs=bl(J.shapeArgs,this.crispCol(we,O,ye,b)),J.tooltipPos=q.inverted?[I.len+I.pos-q.plotLeft-O-b/2,H.len+H.pos-q.plotTop-we-ye/2,b]:[H.left-q.plotLeft+we+ye/2,I.pos-q.plotTop+O+b/2,b]}})}}tn.defaultOptions=bl(Zn.defaultOptions,Di.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),qp(tn,"afterColumnTranslate",function(){tn.prototype.afterColumnTranslate.apply(this)},{order:5}),gl(tn.prototype,{directTouch:!0,pointClass:Jn,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:xs.adjustForMissingColumns,animate:xs.animate,crispCol:xs.crispCol,drawGraph:ml,drawPoints:xs.drawPoints,getSymbol:ml,drawTracker:xs.drawTracker,getColumnMetrics:xs.getColumnMetrics}),fe().registerSeriesType("columnrange",tn);let{column:vl}=fe().seriesTypes,{clamp:sn,merge:Zp,pick:rn}=Z();class Ru extends vl{translate(){let b=this.chart,E=this.options,T=this.dense=this.closestPointRange*this.xAxis.transA<2,O=this.borderWidth=rn(E.borderWidth,+!T),I=this.yAxis,H=E.threshold,G=rn(E.minPointLength,5),q=this.getColumnMetrics(),$=q.width,te=this.pointXOffset=q.offset,J=this.translatedThreshold=I.getThreshold(H),le=this.barW=Math.max($,1+2*O);for(let ne of(b.inverted&&(J-=.5),E.pointPadding&&(le=Math.ceil(le)),super.translate(),this.points)){let me=rn(ne.yBottom,J),ve=999+Math.abs(me),we=sn(ne.plotY,-ve,I.len+ve),ye=le/2,ue=Math.min(we,me),Ue=Math.max(we,me)-ue,ke=ne.plotX+te,Ze,Ve,at,dt,He,ge,Se,Me,Oe,qe,Be;E.centerInCategory&&(ke=this.adjustForMissingColumns(ke,$,ne,q)),ne.barX=ke,ne.pointWidth=$,ne.tooltipPos=b.inverted?[I.len+I.pos-b.plotLeft-we,this.xAxis.len-ke-ye,Ue]:[ke+ye,we+I.pos-b.plotTop,Ue],Ze=H+(ne.total||ne.y),E.stacking==="percent"&&(Ze=H+(ne.y<0)?-100:100);let We=I.toPixels(Ze,!0);at=(Ve=b.plotHeight-We-(b.plotHeight-J))?ye*(ue-We)/Ve:0,dt=Ve?ye*(ue+Ue-We)/Ve:0,ge=ke-at+ye,Se=ke+at+ye,Me=ke+dt+ye,Oe=ke-dt+ye,qe=ue-G,Be=ue+Ue,ne.y<0&&(qe=ue,Be=ue+Ue+G),b.inverted&&(He=I.width-ue,Ve=We-(I.width-J),at=ye*(We-He)/Ve,dt=ye*(We-(He-Ue))/Ve,Se=(ge=ke+ye+at)-2*at,Me=ke-dt+ye,Oe=ke+dt+ye,qe=ue,Be=ue+Ue-G,ne.y<0&&(Be=ue+Ue+G)),ne.shapeType="path",ne.shapeArgs={x:ge,y:qe,width:Se-ge,height:Ue,d:[["M",ge,qe],["L",Se,qe],["L",Me,Be],["L",Oe,Be],["Z"]]}}}}Ru.defaultOptions=Zp(vl.defaultOptions,{}),fe().registerSeriesType("columnpyramid",Ru);let{arearange:Lu}=fe().seriesTypes,{addEvent:Qp,merge:yl,extend:ef}=Z();class Rr extends pu{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||Jo().prototype.getColumnMetrics.call(this)}drawDataLabels(){let b=this.pointValKey;if(Lu)for(let E of(Lu.prototype.drawDataLabels.call(this),this.points))E.y=E[b]}toYData(b){return[b.low,b.high]}}Rr.defaultOptions=yl(pu.defaultOptions,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),Qp(Rr,"afterTranslate",function(){for(let P of this.points)P.plotLow=P.plotY},{order:0}),ef(Rr.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),fe().registerSeriesType("errorbar",Rr);let{series:{prototype:{pointClass:Pu}}}=fe(),{noop:Cs}=Z(),{series:ia,seriesTypes:{column:eo}}=fe(),{clamp:wl,isNumber:sa,extend:Au,merge:ra,pick:tf,pInt:xl,defined:Ou}=Z();class to extends ia{translate(){let b=this.yAxis,E=this.options,T=b.center;this.generatePoints(),this.points.forEach(O=>{let I=ra(E.dial,O.dial),H=xl(I.radius)*T[2]/200,G=xl(I.baseLength)*H/100,q=xl(I.rearLength)*H/100,$=I.baseWidth,te=I.topWidth,J=E.overshoot,le=b.startAngleRad+b.translate(O.y,void 0,void 0,void 0,!0);(sa(J)||E.wrap===!1)&&(J=sa(J)?J/180*Math.PI:0,le=wl(le,b.startAngleRad-J,b.endAngleRad+J)),le=180*le/Math.PI,O.shapeType="path",O.shapeArgs={d:I.path||[["M",-q,-$/2],["L",G,-$/2],["L",H,-te/2],["L",H,te/2],["L",G,$/2],["L",-q,$/2],["Z"]],translateX:T[0],translateY:T[1],rotation:le},O.plotX=T[0],O.plotY=T[1],Ou(O.y)&&b.max-b.min&&(O.percentage=(O.y-b.min)/(b.max-b.min)*100)})}drawPoints(){let b=this,E=b.chart,T=b.yAxis.center,O=b.pivot,I=b.options,H=I.pivot,G=E.renderer;b.points.forEach(q=>{let $=q.graphic,te=q.shapeArgs,J=te.d,le=ra(I.dial,q.dial);$?($.animate(te),te.d=J):q.graphic=G[q.shapeType](te).addClass("highcharts-dial").add(b.group),E.styledMode||q.graphic[$?"animate":"attr"]({stroke:le.borderColor,"stroke-width":le.borderWidth,fill:le.backgroundColor})}),O?O.animate({translateX:T[0],translateY:T[1]}):H&&(b.pivot=G.circle(0,0,H.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(T[0],T[1]).add(b.group),E.styledMode||b.pivot.attr({fill:H.backgroundColor,stroke:H.borderColor,"stroke-width":H.borderWidth}))}animate(b){let E=this;b||E.points.forEach(T=>{let O=T.graphic;O&&(O.attr({rotation:180*E.yAxis.startAngleRad/Math.PI}),O.animate({rotation:T.shapeArgs.rotation},E.options.animation))})}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),ia.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(b,E){ia.prototype.setData.call(this,b,!1),this.processData(),this.generatePoints(),tf(E,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}to.defaultOptions=ra(ia.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),Au(to.prototype,{angular:!0,directTouch:!0,drawGraph:Cs,drawTracker:eo.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:class extends Pu{setState(P){this.state=P}},trackerGroups:["group","dataLabelsGroup"]}),fe().registerSeriesType("gauge",to);var nn=B(620),Is=B.n(nn);let{composed:na}=Z(),{addEvent:io,pushUnique:sf}=Z();function rf(){let P,b,E,T,O=this;O.container&&(P=io(O.container,"mousedown",I=>{b&&b(),E&&E(),(T=O.hoverPoint)&&T.series&&T.series.hasDraggableNodes&&T.series.options.draggable&&(T.series.onMouseDown(T,I),b=io(O.container,"mousemove",H=>T&&T.series&&T.series.onMouseMove(T,H)),E=io(O.container.ownerDocument,"mouseup",H=>(b(),E(),T&&T.series&&T.series.onMouseUp(T,H))))})),io(O,"destroy",function(){P()})}let on={compose:function(P){sf(na,"DragNodes")&&io(P,"load",rf)},onMouseDown:function(P,b){var O;let{panKey:E}=this.chart.options.chart;if(E&&b[`${E}Key`])return;let T=((O=this.chart.pointer)==null?void 0:O.normalize(b))||b;P.fixedPosition={chartX:T.chartX,chartY:T.chartY,plotX:P.plotX,plotY:P.plotY},P.inDragMode=!0},onMouseMove:function(P,b){var E;if(P.fixedPosition&&P.inDragMode){let T,O,I=this.chart,H=((E=I.pointer)==null?void 0:E.normalize(b))||b,G=P.fixedPosition.chartX-H.chartX,q=P.fixedPosition.chartY-H.chartY,$=I.graphLayoutsLookup;(Math.abs(G)>5||Math.abs(q)>5)&&(T=P.fixedPosition.plotX-G,O=P.fixedPosition.plotY-q,I.isInsidePlot(T,O)&&(P.plotX=T,P.plotY=O,P.hasDragged=!0,this.redrawHalo(P),$.forEach(te=>{te.restartSimulation()})))}},onMouseUp:function(P){P.fixedPosition&&(P.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),P.inDragMode=P.hasDragged=!1,this.options.fixedDraggable||delete P.fixedPosition)},redrawHalo:function(P){P&&this.halo&&this.halo.attr({d:P.haloPath(this.options.states.hover.halo.size)})}},{setAnimation:si}=Z(),{composed:Es}=Z(),{addEvent:so,pushUnique:nf}=Z();function Du(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(P=>{P.updateSimulation()}),this.redraw())}function ro(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(P=>{P.updateSimulation(!1)}),this.redraw())}function of(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(P=>{P.stop()})}function oa(){var T;let P,b=!1,E=O=>{O.maxIterations--&&isFinite(O.temperature)&&!O.isStable()&&!O.enableSimulation&&(O.beforeStep&&O.beforeStep(),O.step(),P=!1,b=!0)};if(this.graphLayoutsLookup&&!((T=this.pointer)!=null&&T.hasDragged)){for(si(!1,this),this.graphLayoutsLookup.forEach(O=>O.start());!P;)P=!0,this.graphLayoutsLookup.forEach(E);b&&this.series.forEach(O=>{O&&O.layout&&O.render()})}}let us={compose:function(P){nf(Es,"GraphLayout")&&(so(P,"afterPrint",Du),so(P,"beforePrint",ro),so(P,"predraw",of),so(P,"render",oa))},integrations:{},layouts:{}};var Lr=B(960),zu=B.n(Lr);let{seriesTypes:{bubble:{prototype:{pointClass:af}}}}=fe(),no=class extends af{destroy(){var P;return(P=this.series)!=null&&P.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),Sr().prototype.destroy.apply(this,arguments)}firePointEvent(){let P=this.series.options;if(this.isParentNode&&P.parentNode){let b=P.allowPointSelect;P.allowPointSelect=P.parentNode.allowPointSelect,Sr().prototype.firePointEvent.apply(this,arguments),P.allowPointSelect=b}else Sr().prototype.firePointEvent.apply(this,arguments)}select(){let P=this.series.chart;this.isParentNode?(P.getSelectedPoints=P.getSelectedParentNodes,Sr().prototype.select.apply(this,arguments),P.getSelectedPoints=zu().prototype.getSelectedPoints):Sr().prototype.select.apply(this,arguments)}setState(P,b){var E,T;(T=(E=this==null?void 0:this.graphic)==null?void 0:E.parentGroup)!=null&&T.element&&super.setState(P,b)}},{isNumber:Nu}=Z(),Cl={attractive:function(P,b,E){let T=P.getMass(),O=-E.x*b*this.diffTemperature,I=-E.y*b*this.diffTemperature;P.fromNode.fixedPosition||(P.fromNode.plotX-=O*T.fromNode/P.fromNode.degree,P.fromNode.plotY-=I*T.fromNode/P.fromNode.degree),P.toNode.fixedPosition||(P.toNode.plotX+=O*T.toNode/P.toNode.degree,P.toNode.plotY+=I*T.toNode/P.toNode.degree)},attractiveForceFunction:function(P,b){return(b-P)/P},barycenter:function(){let P=this.options.gravitationalConstant||0,b=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*P,E=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*P;this.nodes.forEach(function(T){T.fixedPosition||(T.plotX-=b/T.mass/T.degree,T.plotY-=E/T.mass/T.degree)})},getK:function(P){return Math.pow(P.box.width*P.box.height/P.nodes.length,.5)},integrate:function(P,b){let E=-P.options.friction,T=P.options.maxSpeed,O=b.prevX,I=b.prevY,H=(b.plotX+b.dispX-O)*E,G=(b.plotY+b.dispY-I)*E,q=Math.abs,$=q(H)/(H||1),te=q(G)/(G||1),J=$*Math.min(T,Math.abs(H)),le=te*Math.min(T,Math.abs(G));b.prevX=b.plotX+b.dispX,b.prevY=b.plotY+b.dispY,b.plotX+=J,b.plotY+=le,b.temperature=P.vectorLength({x:J,y:le})},repulsive:function(P,b,E){let T=b*this.diffTemperature/P.mass/P.degree;P.fixedPosition||(P.plotX+=E.x*T,P.plotY+=E.y*T)},repulsiveForceFunction:function(P,b){return(b-P)/P*(b>P)}},{noop:El}=Z(),Fu={barycenter:function(){let P,b,E=this.options.gravitationalConstant||0,T=this.box,O=this.nodes,I=Math.sqrt(O.length);for(let H of O)if(!H.fixedPosition){let G=H.mass*I,q=H.plotX||0,$=H.plotY||0,te=H.series,J=te.parentNode;this.resolveSplitSeries(H)&&J&&!H.isParentNode?(P=J.plotX||0,b=J.plotY||0):(P=T.width/2,b=T.height/2),H.plotX=q-(q-P)*E/G,H.plotY=$-($-b)*E/G,te.chart.hoverPoint===H&&te.redrawHalo&&te.halo&&te.redrawHalo(H)}},getK:El,integrate:Cl.integrate,repulsive:function(P,b,E,T){let O=b*this.diffTemperature/P.mass/P.degree,I=E.x*O,H=E.y*O;P.fixedPosition||(P.plotX+=I,P.plotY+=H),T.fixedPosition||(T.plotX-=I,T.plotY-=H)},repulsiveForceFunction:function(P,b,E,T){return Math.min(P,(E.marker.radius+T.marker.radius)/2)}},kl={attractive:function(P,b,E,T){let O=P.getMass(),I=E.x/T*b,H=E.y/T*b;P.fromNode.fixedPosition||(P.fromNode.dispX-=I*O.fromNode/P.fromNode.degree,P.fromNode.dispY-=H*O.fromNode/P.fromNode.degree),P.toNode.fixedPosition||(P.toNode.dispX+=I*O.toNode/P.toNode.degree,P.toNode.dispY+=H*O.toNode/P.toNode.degree)},attractiveForceFunction:function(P,b){return P*P/b},barycenter:function(){let P=this.options.gravitationalConstant,b=this.barycenter.xFactor,E=this.barycenter.yFactor;this.nodes.forEach(function(T){if(!T.fixedPosition){let O=T.getDegree(),I=O*(1+O/2);T.dispX+=(b-T.plotX)*P*I/T.degree,T.dispY+=(E-T.plotY)*P*I/T.degree}})},getK:function(P){return Math.pow(P.box.width*P.box.height/P.nodes.length,.3)},integrate:function(P,b){b.dispX+=b.dispX*P.options.friction,b.dispY+=b.dispY*P.options.friction;let E=b.temperature=P.vectorLength({x:b.dispX,y:b.dispY});E!==0&&(b.plotX+=b.dispX/E*Math.min(Math.abs(b.dispX),P.temperature),b.plotY+=b.dispY/E*Math.min(Math.abs(b.dispY),P.temperature))},repulsive:function(P,b,E,T){P.dispX+=E.x/T*b/P.degree,P.dispY+=E.y/T*b/P.degree},repulsiveForceFunction:function(P,b){return b*b/P}};class Pr{constructor(b){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=b,this.boxSize=Math.min(b.width,b.height)}divideBox(){let b=this.box.width/2,E=this.box.height/2;this.nodes[0]=new Pr({left:this.box.left,top:this.box.top,width:b,height:E}),this.nodes[1]=new Pr({left:this.box.left+b,top:this.box.top,width:b,height:E}),this.nodes[2]=new Pr({left:this.box.left+b,top:this.box.top+E,width:b,height:E}),this.nodes[3]=new Pr({left:this.box.left,top:this.box.top+E,width:b,height:E})}getBoxPosition(b){let E=b.plotX<this.box.left+this.box.width/2,T=b.plotY<this.box.top+this.box.height/2;return E?3*!T:T?1:2}insert(b,E){let T;this.isInternal?this.nodes[this.getBoxPosition(b)].insert(b,E-1):(this.isEmpty=!1,this.body?E?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,E-1),this.body=!0),this.nodes[this.getBoxPosition(b)].insert(b,E-1)):((T=new Pr({top:b.plotX||NaN,left:b.plotY||NaN,width:.1,height:.1})).body=b,T.isInternal=!1,this.nodes.push(T)):(this.isInternal=!1,this.body=b))}updateMassAndCenter(){let b=0,E=0,T=0;if(this.isInternal){for(let O of this.nodes)O.isEmpty||(b+=O.mass,E+=O.plotX*O.mass,T+=O.plotY*O.mass);E/=b,T/=b}else this.body&&(b=this.body.mass,E=this.body.plotX,T=this.body.plotY);this.mass=b,this.plotX=E,this.plotY=T}}let Iu=class{constructor(P,b,E,T){this.box={left:P,top:b,width:E,height:T},this.maxDepth=25,this.root=new Pr(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(P){P.updateMassAndCenter()})}insertNodes(P){for(let b of P)this.root.insert(b,this.maxDepth)}visitNodeRecursive(P,b,E){let T;if(P||(P=this.root),P===this.root&&b&&(T=b(P)),T!==!1){for(let O of P.nodes){if(O.isInternal){if(b&&(T=b(O)),T===!1)continue;this.visitNodeRecursive(O,b,E)}else O.body&&b&&b(O.body);E&&E(O)}P===this.root&&E&&E(P)}}},{win:oo}=Z(),{clamp:Hu,defined:Bu,isFunction:lf,fireEvent:hf,pick:or}=Z();class ao{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(b){us.compose(b),us.integrations.euler=kl,us.integrations.verlet=Cl,us.layouts["reingold-fruchterman"]=ao}init(b){this.options=b,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=us.integrations[b.integration],this.enableSimulation=b.enableSimulation,this.attractiveForce=or(b.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=or(b.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=b.approximation}updateSimulation(b){this.enableSimulation=or(b,this.options.enableSimulation)}start(){let b=this.series,E=this.options;this.currentStep=0,this.forces=b[0]&&b[0].forces||[],this.chart=b[0]&&b[0].chart,this.initialRendering&&(this.initPositions(),b.forEach(function(T){T.finishedAnimating=!0,T.render()})),this.setK(),this.resetSimulation(E),this.enableSimulation&&this.step()}step(){let b=this.series;for(let E of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[E+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let E of b)E.chart&&E.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&oo.cancelAnimationFrame(this.simulation),this.simulation=oo.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(E=>{hf(E,"afterSimulation")}))}}stop(){this.simulation&&oo.cancelAnimationFrame(this.simulation)}setArea(b,E,T,O){this.box={left:b,top:E,width:T,height:O}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(b,E){for(let T of b)E.indexOf(T)===-1&&E.push(T)}removeElementFromCollection(b,E){let T=E.indexOf(b);T!==-1&&E.splice(T,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(b){this.maxIterations=or(b,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(b){this.initialRendering=b}createQuadTree(){this.quadTree=new Iu(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let b=this.options.initialPositions;if(lf(b))for(let E of(b.call(this),this.nodes))Bu(E.prevX)||(E.prevX=E.plotX),Bu(E.prevY)||(E.prevY=E.plotY),E.dispX=0,E.dispY=0;else b==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let b,E=this.box,T=this.nodes,O=2*Math.PI/(T.length+1),I=T.filter(function(te){return te.linksTo.length===0}),H={},G=this.options.initialPositionRadius,q=te=>{for(let J of te.linksFrom||[])H[J.toNode.id]||(H[J.toNode.id]=!0,$.push(J.toNode),q(J.toNode))},$=[];for(let te of I)$.push(te),q(te);if($.length)for(let te of T)$.indexOf(te)===-1&&$.push(te);else $=T;for(let te=0,J=$.length;te<J;++te)(b=$[te]).plotX=b.prevX=or(b.plotX,E.width/2+G*Math.cos(te*O)),b.plotY=b.prevY=or(b.plotY,E.height/2+G*Math.sin(te*O)),b.dispX=0,b.dispY=0}setRandomPositions(){let b,E=this.box,T=this.nodes,O=T.length+1,I=H=>{let G=H*H/Math.PI;return G-Math.floor(G)};for(let H=0,G=T.length;H<G;++H)(b=T[H]).plotX=b.prevX=or(b.plotX,E.width*I(H)),b.plotY=b.prevY=or(b.plotY,E.height*I(O+H)),b.dispX=0,b.dispY=0}force(b,...E){this.integration[b].apply(this,E)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let b=0,E=0,T=0;for(let O of this.nodes)E+=O.plotX*O.mass,T+=O.plotY*O.mass,b+=O.mass;return this.barycenter={x:E,y:T,xFactor:E/b,yFactor:T/b},this.barycenter}barnesHutApproximation(b,E){let T,O,I=this.getDistXY(b,E),H=this.vectorLength(I);return b!==E&&H!==0&&(E.isInternal?E.boxSize/H<this.options.theta&&H!==0?(O=this.repulsiveForce(H,this.k),this.force("repulsive",b,O*E.mass,I,H),T=!1):T=!0:(O=this.repulsiveForce(H,this.k),this.force("repulsive",b,O*E.mass,I,H))),T}repulsiveForces(){if(this.approximation==="barnes-hut")for(let b of this.nodes)this.quadTree.visitNodeRecursive(null,E=>this.barnesHutApproximation(b,E));else{let b,E,T;for(let O of this.nodes)for(let I of this.nodes)O===I||O.fixedPosition||(T=this.getDistXY(O,I),(E=this.vectorLength(T))!==0&&(b=this.repulsiveForce(E,this.k),this.force("repulsive",O,b*I.mass,T,E)))}}attractiveForces(){let b,E,T;for(let O of this.links)O.fromNode&&O.toNode&&(b=this.getDistXY(O.fromNode,O.toNode),(E=this.vectorLength(b))!==0&&(T=this.attractiveForce(E,this.k),this.force("attractive",O,T,b,E)))}applyLimits(){for(let b of this.nodes)b.fixedPosition||(this.integration.integrate(this,b),this.applyLimitBox(b,this.box),b.dispX=0,b.dispY=0)}applyLimitBox(b,E){let T=b.radius;b.plotX=Hu(b.plotX,E.left+T,E.width-T),b.plotY=Hu(b.plotY,E.top+T,E.height-T)}coolDown(b,E,T){return b-E*T}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let b=0;for(let E of this.nodes)b+=E.temperature;return b}vectorLength(b){return Math.sqrt(b.x*b.x+b.y*b.y)}getDistR(b,E){let T=this.getDistXY(b,E);return this.vectorLength(T)}getDistXY(b,E){let T=b.plotX-E.plotX,O=b.plotY-E.plotY;return{x:T,y:O,absX:Math.abs(T),absY:Math.abs(O)}}}let _u=ao,{addEvent:uf,defined:df,pick:Sl}=Z();function an(){let P=this.series,b=[];return P.forEach(E=>{E.parentNode&&E.parentNode.selected&&b.push(E.parentNode)}),b}function ju(){this.allDataPoints&&delete this.allDataPoints}class lo extends _u{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(b){_u.compose(b),us.integrations.packedbubble=Fu,us.layouts.packedbubble=lo;let E=b.prototype;E.getSelectedParentNodes||(uf(b,"beforeRedraw",ju),E.getSelectedParentNodes=an),E.allParentNodes||(E.allParentNodes=[])}beforeStep(){this.options.marker&&this.series.forEach(b=>{b&&b.calculateParentRadius()})}isStable(){let b=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&b<1e-5||this.temperature<=0}setCircularPositions(){var q;let b=this.box,E=[...this.nodes,...((q=this==null?void 0:this.chart)==null?void 0:q.allParentNodes)||[]],T=2*Math.PI/(E.length+1),O=this.options.initialPositionRadius,I,H,G=0;for(let $ of E)this.resolveSplitSeries($)&&!$.isParentNode?(I=$.series.parentNode.plotX,H=$.series.parentNode.plotY):(I=b.width/2,H=b.height/2),$.plotX=$.prevX=Sl($.plotX,I+O*Math.cos($.index||G*T)),$.plotY=$.prevY=Sl($.plotY,H+O*Math.sin($.index||G*T)),$.dispX=0,$.dispY=0,G++}repulsiveForces(){var H,G,q;let{options:b,k:E}=this,{bubblePadding:T=0,seriesInteraction:O}=b,I=[...this.nodes,...((H=this==null?void 0:this.chart)==null?void 0:H.allParentNodes)||[]];for(let $ of I){let te=$.series,J=$.fixedPosition,le=(((G=$.marker)==null?void 0:G.radius)||0)+T;for(let ne of($.degree=$.mass,$.neighbours=0,I)){let me=ne.series;if($!==ne&&!J&&(O||te===me)&&!(te===me&&(ne.isParentNode||$.isParentNode))){let ve,we=this.getDistXY($,ne),ye=this.vectorLength(we)-(le+(((q=ne.marker)==null?void 0:q.radius)||0));ye<0&&($.degree+=.01,ve=this.repulsiveForce(-ye/Math.sqrt(++$.neighbours),E,$,ne)*ne.mass),this.force("repulsive",$,ve||0,we,ne,ye)}}}}resolveSplitSeries(b){var T,O,I,H,G,q,$,te;let E=(I=(O=(T=b.series)==null?void 0:T.options)==null?void 0:O.layoutAlgorithm)==null?void 0:I.splitSeries;return!df(E)&&((te=($=(q=(G=(H=b.series.chart)==null?void 0:H.options)==null?void 0:G.plotOptions)==null?void 0:q.packedbubble)==null?void 0:$.layoutAlgorithm)==null?void 0:te.splitSeries)||E||!1}applyLimitBox(b,E){let T,O;this.resolveSplitSeries(b)&&!b.isParentNode&&this.options.parentNodeLimit&&(T=this.getDistXY(b,b.series.parentNode),(O=b.series.parentNodeRadius-b.marker.radius-this.vectorLength(T))<0&&O>-2*b.marker.radius&&(b.plotX-=.01*T.x,b.plotY-=.01*T.y)),super.applyLimitBox(b,E)}}us.layouts.packedbubble=lo;let{merge:cf,syncTimeout:pf}=Z(),{animObject:ff}=Z();var Ml=B(28),Tl=B.n(Ml);let{deg2rad:aa}=Z(),{addEvent:ln,merge:mf,uniqueKey:Wu,defined:ho,extend:Ar}=Z();function gf(P,b){b=mf(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},b);let E=this.renderer.url,T=this.text||this,O=T.textPath,{attributes:I,enabled:H}=b;if(P=P||O&&O.path,O&&O.undo(),P&&H){let G=ln(T,"afterModifyTree",q=>{if(P&&H){let $=P.attr("id");$||P.attr("id",$=Wu());let te={x:0,y:0};ho(I.dx)&&(te.dx=I.dx,delete I.dx),ho(I.dy)&&(te.dy=I.dy,delete I.dy),T.attr(te),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let J=q.nodes.slice(0);q.nodes.length=0,q.nodes[0]={tagName:"textPath",attributes:Ar(I,{"text-anchor":I.textAnchor,href:`${E}#${$}`}),children:J}}});T.textPath={path:P,undo:G}}else T.attr({dx:0,dy:0}),delete T.textPath;return this.added&&(T.textCache="",this.renderer.buildText(T)),this}function Or(P){var T;let b=P.bBox,E=(T=this.element)==null?void 0:T.querySelector("textPath");if(E){let O=[],{b:I,h:H}=this.renderer.fontMetrics(this.element),G=H-I,q=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),$=E.innerHTML.replace(q,"").split(/<tspan class="highcharts-br"[^>]*>/),te=$.length,J=(le,ne)=>{let{x:me,y:ve}=ne,we=(E.getRotationOfChar(le)-90)*aa,ye=Math.cos(we),ue=Math.sin(we);return[[me-G*ye,ve-G*ue],[me+I*ye,ve+I*ue]]};for(let le=0,ne=0;ne<te;ne++){let me=$[ne].length;for(let ve=0;ve<me;ve+=5)try{let we=le+ve+ne,[ye,ue]=J(we,E.getStartPositionOfChar(we));ve===0?(O.push(ue),O.push(ye)):(ne===0&&O.unshift(ue),ne===te-1&&O.push(ye))}catch{break}le+=me-1;try{let ve=le+ne,we=E.getEndPositionOfChar(ve),[ye,ue]=J(ve,we);O.unshift(ue),O.unshift(ye)}catch{break}}O.length&&O.push(O[0].slice()),b.polygon=O}return b}function bf(P){var O;let b=P.labelOptions,E=P.point,T=b[E.formatPrefix+"TextPath"]||b.textPath;T&&!b.useHTML&&(this.setTextPath(((O=E.getDataLabelPath)==null?void 0:O.call(E,this))||E.graphic,T),E.dataLabelPath&&!T.enabled&&(E.dataLabelPath=E.dataLabelPath.destroy()))}let{parse:ar}=Is(),{noop:hn}=Z(),{series:{prototype:lr},seriesTypes:{bubble:uo}}=fe(),{initDataLabels:Rl,initDataLabelsDefer:vf}={initDataLabels:function(){let P=this.options.dataLabels;if(!this.dataLabelsGroup){let b=this.initDataLabelsGroup();return!this.chart.styledMode&&(P!=null&&P.style)&&b.css(P.style),b.attr({opacity:0}),this.visible&&(this.options.animation&&(P!=null&&P.animation)?b.animate({opacity:1},P==null?void 0:P.animation):b.attr({opacity:1}),b.show()),b}return this.dataLabelsGroup.attr(cf({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var b;let P=this.options.dataLabels;P!=null&&P.defer&&((b=this.options.layoutAlgorithm)!=null&&b.enableSimulation)?pf(()=>{this.deferDataLabels=!1},P?ff(P.animation).defer:0):this.deferDataLabels=!1}},{addEvent:yf,clamp:Vu,defined:ds,extend:Uu,fireEvent:wf,isArray:Gu,isNumber:Hs,merge:co,pick:po}=Z();({compose:function(P){ln(P,"afterGetBBox",Or),ln(P,"beforeAddingDataLabel",bf);let b=P.prototype;b.setTextPath||(b.setTextPath=gf)}}).compose(Tl());class la extends uo{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(b,E,T){uo.compose(b,E,T),on.compose(E),lo.compose(E)}accumulateAllPoints(){let b=this.chart,E=[];for(let T of b.series)if(T.is("packedbubble")&&T.reserveSpace()){let O=T.getColumn("value");for(let I=0;I<O.length;I++)E.push([null,null,O[I],T.index,I,{id:I,marker:{radius:0}}])}return E}addLayout(){let b=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},E=b.type||"packedbubble",T=this.chart.options.chart,O=this.chart.graphLayoutsStorage,I=this.chart.graphLayoutsLookup,H;O||(this.chart.graphLayoutsStorage=O={},this.chart.graphLayoutsLookup=I=[]),(H=O[E])||(b.enableSimulation=ds(T.forExport)?!T.forExport:b.enableSimulation,O[E]=H=new us.layouts[E],H.init(b),I.splice(H.index,0,H)),this.layout=H,this.points.forEach(G=>{G.mass=2,G.degree=1,G.collisionNmb=1}),H.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),H.addElementsToCollection([this],H.series),H.addElementsToCollection(this.points,H.nodes)}addSeriesLayout(){let b=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},E=b.type||"packedbubble",T=this.chart.graphLayoutsStorage,O=this.chart.graphLayoutsLookup,I=co(b,b.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),H=T[E+"-series"];H||(T[E+"-series"]=H=new us.layouts[E],H.init(I),O.splice(H.index,0,H)),this.parentNodeLayout=H,this.createParentNodes()}calculateParentRadius(){let b=this.seriesBox();this.parentNodeRadius=Vu(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,b?Math.max(Math.sqrt(Math.pow(b.width,2)+Math.pow(b.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let b=this.chart.series,E=this.options.zMin,T=this.options.zMax,O=1/0,I=-1/0;return E&&T?[E,T]:(b.forEach(H=>{H.getColumn("value").forEach(G=>{ds(G)&&(G>I&&(I=G),G<O&&(O=G))})}),[E=po(E,O),T=po(T,I)])}checkOverlap(b,E){let T=b[0]-E[0],O=b[1]-E[1];return Math.sqrt(T*T+O*O)-Math.abs(b[2]+E[2])<-.001}createParentNodes(){let b=this.pointClass,E=this.chart,T=this.parentNodeLayout,O=this.layout.options,I,H=this.parentNode,G={radius:this.parentNodeRadius,lineColor:this.color,fillColor:ar(this.color).brighten(.4).get()};O.parentNodeOptions&&(G=co(O.parentNodeOptions.marker||{},G)),this.parentNodeMass=0,this.points.forEach(q=>{this.parentNodeMass+=Math.PI*Math.pow(q.marker.radius,2)}),this.calculateParentRadius(),T.nodes.forEach(q=>{q.seriesIndex===this.index&&(I=!0)}),T.setArea(0,0,E.plotWidth,E.plotHeight),I||(H||(H=new b(this,{mass:this.parentNodeRadius/2,marker:G,dataLabels:{inside:!1},states:{normal:{marker:G},hover:{marker:G}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index}),this.chart.allParentNodes.push(H)),this.parentNode&&(H.plotX=this.parentNode.plotX,H.plotY=this.parentNode.plotY),this.parentNode=H,T.addElementsToCollection([this],T.series),T.addElementsToCollection([H],T.nodes))}deferLayout(){let b=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),b.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(b=>{b.removeElementFromCollection(this,b.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),lr.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(lr.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",lr.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var I;if(!this.layout||!this.layout.options.splitSeries)return;let b=this.chart,E=this.layout.options.parentNodeOptions.marker,T={fill:E.fillColor||ar(this.color).brighten(.4).get(),opacity:E.fillOpacity,stroke:E.lineColor||this.color,"stroke-width":po(E.lineWidth,this.options.lineWidth)},O={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,b.seriesGroup),(I=this.group)==null||I.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&ds(this.parentNode.plotX)&&ds(this.parentNode.plotY)&&ds(this.parentNodeRadius)&&(O=co({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},T),this.parentNode.graphic||(this.graph=this.parentNode.graphic=b.renderer.symbol(T.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(O))}drawTracker(){let b,E=this.parentNode;super.drawTracker(),E&&(b=Gu(E.dataLabels)?E.dataLabels:E.dataLabel?[E.dataLabel]:[],E.graphic&&(E.graphic.element.point=E),b.forEach(T=>{(T.div||T.element).point=E}))}getPointRadius(){let b,E,T,O,I=this.chart,H=I.plotWidth,G=I.plotHeight,q=this.options,$=q.useSimulation,te=Math.min(H,G),J={},le=[],ne=I.allDataPoints||[],me=ne.length;["minSize","maxSize"].forEach(we=>{let ye=parseInt(q[we],10),ue=/%$/.test(q[we]);J[we]=ue?te*ye/100:ye*Math.sqrt(me)}),I.minRadius=b=J.minSize/Math.sqrt(me),I.maxRadius=E=J.maxSize/Math.sqrt(me);let ve=$?this.calculateZExtremes():[b,E];ne.forEach((we,ye)=>{T=$?Vu(we[2],ve[0],ve[1]):we[2],(O=this.getRadius(ve[0],ve[1],b,E,T))===0&&(O=null),ne[ye][2]=O,le.push(O)}),this.radii=le}init(){return lr.init.apply(this,arguments),vf.call(this),this.eventsToUnbind.push(yf(this,"updatedData",function(){this.chart.series.forEach(b=>{b.type===this.type&&(b.isDirty=!0)},this)})),this}onMouseUp(b){if(b.fixedPosition&&!b.removed){let E,T=this.layout,O=this.parentNodeLayout;!b.isParentNode&&O&&T.options.dragBetweenSeries&&O.nodes.forEach(I=>{b&&b.marker&&I!==b.series.parentNode&&(E=T.getDistXY(b,I),T.vectorLength(E)-I.marker.radius-b.marker.radius<0&&(I.series.addPoint(co(b.options,{plotX:b.plotX,plotY:b.plotY}),!1),T.removeElementFromCollection(b,T.nodes),b.remove()))}),on.onMouseUp.apply(this,arguments)}}placeBubbles(b){let E=this.checkOverlap,T=this.positionBubble,O=[],I=1,H=0,G=0,q,$=[],te,J=b.sort((le,ne)=>ne[2]-le[2]);if(J.length){if(O.push([[0,0,J[0][2],J[0][3],J[0][4]]]),J.length>1)for(O.push([[0,0-J[1][2]-J[0][2],J[1][2],J[1][3],J[1][4]]]),te=2;te<J.length;te++)J[te][2]=J[te][2]||1,E(q=T(O[I][H],O[I-1][G],J[te]),O[I][0])?(O.push([]),G=0,O[I+1].push(T(O[I][H],O[I][0],J[te])),I++,H=0):I>1&&O[I-1][G+1]&&E(q,O[I-1][G+1])?(G++,O[I].push(T(O[I][H],O[I-1][G],J[te])),H++):(H++,O[I].push(q));this.chart.stages=O,this.chart.rawPositions=[].concat.apply([],O),this.resizeRadius(),$=this.chart.rawPositions}return $}pointAttribs(b,E){let T=this.options,O=b&&b.isParentNode,I=T.marker;O&&T.layoutAlgorithm&&T.layoutAlgorithm.parentNodeOptions&&(I=T.layoutAlgorithm.parentNodeOptions.marker);let H=I.fillOpacity,G=lr.pointAttribs.call(this,b,E);return H!==1&&(G["fill-opacity"]=H),G}positionBubble(b,E,T){let O=Math.asin,I=Math.acos,H=Math.pow,G=Math.abs,q=(0,Math.sqrt)(H(b[0]-E[0],2)+H(b[1]-E[1],2)),$=I((H(q,2)+H(T[2]+E[2],2)-H(T[2]+b[2],2))/(2*(T[2]+E[2])*q)),te=O(G(b[0]-E[0])/q),J=(b[1]-E[1]<0?0:Math.PI)+$+te*((b[0]-E[0])*(b[1]-E[1])<0?1:-1),le=Math.cos(J),ne=Math.sin(J);return[E[0]+(E[2]+T[2])*ne,E[1]-(E[2]+T[2])*le,T[2],T[3],T[4]]}render(){let b=[];lr.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach(E=>{Gu(E.dataLabels)&&E.dataLabels.forEach(T=>{b.push(T)})}),this.options.useSimulation&&this.chart.hideOverlappingLabels(b))}resizeRadius(){let b,E,T,O,I,H=this.chart,G=H.rawPositions,q=Math.min,$=Math.max,te=H.plotLeft,J=H.plotTop,le=H.plotHeight,ne=H.plotWidth;for(let ye of(b=T=Number.POSITIVE_INFINITY,E=O=Number.NEGATIVE_INFINITY,G))I=ye[2],b=q(b,ye[0]-I),E=$(E,ye[0]+I),T=q(T,ye[1]-I),O=$(O,ye[1]+I);let me=[E-b,O-T],ve=[(ne-te)/me[0],(le-J)/me[1]],we=q.apply([],ve);if(Math.abs(we-1)>1e-10){for(let ye of G)ye[2]*=we;this.placeBubbles(G)}else H.diffY=le/2+J-T-(O-T)/2,H.diffX=ne/2+te-b-(E-b)/2}seriesBox(){let b,E=this.chart,T=this.data,O=Math.max,I=Math.min,H=[E.plotLeft,E.plotLeft+E.plotWidth,E.plotTop,E.plotTop+E.plotHeight];return T.forEach(G=>{ds(G.plotX)&&ds(G.plotY)&&G.marker.radius&&(b=G.marker.radius,H[0]=I(H[0],G.plotX-b),H[1]=O(H[1],G.plotX+b),H[2]=I(H[2],G.plotY-b),H[3]=O(H[3],G.plotY+b))}),Hs(H.width/H.height)?H:null}setVisible(){let b=this;lr.setVisible.apply(b,arguments),b.parentNodeLayout&&b.graph?b.visible?(b.graph.show(),b.parentNode.dataLabel&&b.parentNode.dataLabel.show()):(b.graph.hide(),b.parentNodeLayout.removeElementFromCollection(b.parentNode,b.parentNodeLayout.nodes),b.parentNode.dataLabel&&b.parentNode.dataLabel.hide()):b.layout&&(b.visible?b.layout.addElementsToCollection(b.points,b.layout.nodes):b.points.forEach(E=>{b.layout.removeElementFromCollection(E,b.layout.nodes)}))}translate(){let b,E,T,O=this.chart,I=this.data,H=this.index,G=this.options.useSimulation;for(let q of(this.generatePoints(),ds(O.allDataPoints)||(O.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),G?T=O.allDataPoints:(T=this.placeBubbles(O.allDataPoints),this.options.draggable=!1),T))q[3]===H&&(b=I[q[4]],E=po(q[2],void 0),G||(b.plotX=q[0]-O.plotLeft+O.diffX,b.plotY=q[1]-O.plotTop+O.diffY),Hs(E)&&(b.marker=Uu(b.marker,{radius:E,width:2*E,height:2*E}),b.radius=E));G&&this.deferLayout(),wf(this,"afterTranslate")}}la.defaultOptions=co(uo.defaultOptions,{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:P}=this.series.chart,{value:b}=this.point;return Nu(b)?P(b,-1):""},parentNodeFormatter:function(){return this.name||""},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981},stickyTracking:!1}),Uu(la.prototype,{pointClass:no,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:Rl,alignDataLabel:lr.alignDataLabel,indexateNodes:hn,onMouseDown:on.onMouseDown,onMouseMove:on.onMouseMove,redrawHalo:on.redrawHalo,searchPoint:hn}),fe().registerSeriesType("packedbubble",la);let{noop:xf}=Z(),{area:ha,line:Xu,scatter:Yu}=fe().seriesTypes,{extend:$u,merge:Cf}=Z();class hr extends Yu{getGraphPath(){let b=Xu.prototype.getGraphPath.call(this),E=b.length+1;for(;E--;)(E===b.length||b[E][0]==="M")&&E>0&&b.splice(E,0,["Z"]);return this.areaPath=b,b}drawGraph(){this.options.fillColor=this.color,ha.prototype.drawGraph.call(this)}}hr.defaultOptions=Cf(Yu.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),$u(hr.prototype,{type:"polygon",drawTracker:Xu.prototype.drawTracker,setStackedPoints:xf}),fe().registerSeriesType("polygon",hr);let{defaultOptions:un}=Z(),{noop:_v}=Z(),{addEvent:jv,extend:Wv,isObject:Ef,merge:kf,relativeLength:Ll}=Z(),Pl={radius:0,scope:"stack",where:void 0};function Sf(P,b){return Ef(P)||(P={radius:P||0}),kf(Pl,b,P)}let ua={circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}},{defaultOptions:ur}=Z(),{composed:Mf,noop:dn}=Z(),{addEvent:Zi,correctFloat:Ku,defined:ks,extend:Tf,fireEvent:Rf,isObject:Ss,merge:Qi,pick:cs,pushUnique:qu,relativeLength:Al,splat:Ol,wrap:Lf}=Z();(function(P){function b(){this.autoConnect=this.isCircular&&cs(this.userMax,this.options.max)===void 0&&Ku(this.endAngleRad-this.startAngleRad)===Ku(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)}function E(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&this.options.labels.allowOverlap!==!0)return this.tickPositions.map(ge=>{var Se;return(Se=this.ticks[ge])==null?void 0:Se.label}).filter(ge=>!!ge)}}function T(){return dn}function O(ge,Se,Me){let Oe=this.pane.center,qe=ge.value,Be,We,bt;return this.isCircular?(ks(qe)?ge.point&&(ge.point.shapeArgs||{}).start&&(qe=this.chart.inverted?this.translate(ge.point.rectPlotY,!0):ge.point.x):(We=ge.chartX||0,bt=ge.chartY||0,qe=this.translate(Math.atan2(bt-Me,We-Se)-this.startAngleRad,!0)),We=(Be=this.getPosition(qe)).x,bt=Be.y):(ks(qe)||(We=ge.chartX,bt=ge.chartY),ks(We)&&ks(bt)&&(Me=Oe[1]+this.chart.plotTop,qe=this.translate(Math.min(Math.sqrt(Math.pow(We-Se,2)+Math.pow(bt-Me,2)),Oe[2]/2)-Oe[3]/2,!0))),[qe,We||0,bt||0]}function I(ge,Se,Me){let Oe=this.pane.center,qe=this.chart,Be=this.left||0,We=this.top||0,bt,Ct=cs(Se,Oe[2]/2-this.offset),Xt;return Me===void 0&&(Me=this.horiz?0:this.center&&-this.center[3]/2),Me&&(Ct+=Me),this.isCircular||Se!==void 0?((Xt=this.chart.renderer.symbols.arc(Be+Oe[0],We+Oe[1],Ct,Ct,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[Be+Oe[0]],Xt.yBounds=[We+Oe[1]-Ct]):(bt=this.postTranslate(this.angleRad,Ct),Xt=[["M",this.center[0]+qe.plotLeft,this.center[1]+qe.plotTop],["L",bt.x,bt.y]]),Xt}function H(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function G(ge,Se,Me){let Oe=this.chart,qe=vi=>{if(typeof vi=="string"){let pr=parseInt(vi,10);return Xi.test(vi)&&(pr=pr*Ct/100),pr}return vi},Be=this.center,We=this.startAngleRad,bt=Me.borderRadius,Ct=Be[2]/2,Xt=Math.min(this.offset,0),zi=this.left||0,Ot=this.top||0,Xi=/%$/,vt=this.isCircular,Et=this.options.plotBands||[],ai=Et.indexOf(Me),Yt,Ni,ci,_s,dr,Dt,js=cs(qe(Me.outerRadius),Ct),Ws=qe(Me.innerRadius),It=cs(qe(Me.thickness),10),Vs=!0,cr=!0;if(bt&&ai>-1&&(Et[ai-1]&&Et[ai-1].to===ge&&(Vs=!1),Et[ai+1]&&Et[ai+1].from===Se&&(cr=!1)),this.options.gridLineInterpolation==="polygon")Dt=this.getPlotLinePath({value:ge}).concat(this.getPlotLinePath({value:Se,reverse:!0}));else{ge=Math.max(ge,this.min),Se=Math.min(Se,this.max);let vi=this.translate(ge),pr=this.translate(Se);vt||(js=vi||0,Ws=pr||0),Me.shape!=="circle"&&vt?(Yt=We+(vi||0),Ni=We+(pr||0)):(Yt=-Math.PI/2,Ni=1.5*Math.PI,dr=!0),js-=Xt,It-=Xt,Dt=Oe.renderer.symbols.arc(zi+Be[0],Ot+Be[1],js,js,{start:Math.min(Yt,Ni),end:Math.max(Yt,Ni),innerR:cs(Ws,js-It),open:dr,borderRadius:bt,brStart:Vs,brEnd:cr}),vt&&(ci=(Ni+Yt)/2,_s=zi+Be[0]+Be[2]/2*Math.cos(ci),Dt.xBounds=ci>-Math.PI/2&&ci<Math.PI/2?[_s,Oe.plotWidth]:[0,_s],Dt.yBounds=[Ot+Be[1]+Be[2]/2*Math.sin(ci)],Dt.yBounds[0]+=ci>-Math.PI&&ci<0||ci>Math.PI?-10:10)}return Dt}function q(ge){let Se=this.pane.center,Me=this.chart,Oe=Me.inverted,qe=ge.reverse,Be=this.pane.options.background,We=Be?Ol(Be)[0]:{},bt=We.innerRadius||"0%",Ct=We.outerRadius||"100%",Xt=Se[0]+Me.plotLeft,zi=Se[1]+Me.plotTop,Ot=this.height,Xi=ge.isCrosshair,vt=Se[3]/2,Et=ge.value,ai,Yt,Ni,ci,_s,dr,Dt,js,Ws,It=this.getPosition(Et),Vs=It.x,cr=It.y;if(Xi&&(Et=(js=this.getCrosshairPosition(ge,Xt,zi))[0],Vs=js[1],cr=js[2]),this.isCircular)Yt=Math.sqrt(Math.pow(Vs-Xt,2)+Math.pow(cr-zi,2)),Ni=typeof bt=="string"?Al(bt,1):bt/Yt,ci=typeof Ct=="string"?Al(Ct,1):Ct/Yt,Se&&vt&&(Ni<(ai=vt/Yt)&&(Ni=ai),ci<ai&&(ci=ai)),Ws=[["M",Xt+Ni*(Vs-Xt),zi-Ni*(zi-cr)],["L",Vs-(1-ci)*(Vs-Xt),cr+(1-ci)*(zi-cr)]];else if((Et=this.translate(Et))&&(Et<0||Et>Ot)&&(Et=0),this.options.gridLineInterpolation==="circle")Ws=this.getLinePath(0,Et,vt);else if(Ws=[],Me[Oe?"yAxis":"xAxis"].forEach(vi=>{vi.pane===this.pane&&(_s=vi)}),_s){Dt=_s.tickPositions,_s.autoConnect&&(Dt=Dt.concat([Dt[0]])),qe&&(Dt=Dt.slice().reverse()),Et&&(Et+=vt);for(let vi=0;vi<Dt.length;vi++)dr=_s.getPosition(Dt[vi],Et),Ws.push(vi?["L",dr.x,dr.y]:["M",dr.x,dr.y])}return Ws}function $(ge,Se){let Me=this.translate(ge);return this.postTranslate(this.isCircular?Me:this.angleRad,cs(this.isCircular?Se:Me<0?0:Me,this.center[2]/2)-this.offset)}function te(){let ge=this.center,Se=this.chart,Me=this.options.title;return{x:Se.plotLeft+ge[0]+(Me.x||0),y:Se.plotTop+ge[1]-{high:.5,middle:.25,low:0}[Me.align]*ge[2]+(Me.y||0)}}function J(ge){ge.beforeSetTickPositions=b,ge.createLabelCollector=E,ge.getCrosshairPosition=O,ge.getLinePath=I,ge.getOffset=H,ge.getPlotBandPath=G,ge.getPlotLinePath=q,ge.getPosition=$,ge.getTitlePosition=te,ge.postTranslate=ke,ge.setAxisSize=Ve,ge.setAxisTranslation=at,ge.setOptions=dt}function le(){let ge=this.chart,Se=this.options,Me=ge.angular&&this.isXAxis,Oe=this.pane,qe=Oe==null?void 0:Oe.options;if(!Me&&Oe&&(ge.angular||ge.polar)){let Be=2*Math.PI,We=(cs(qe.startAngle,0)-90)*Math.PI/180,bt=(cs(qe.endAngle,cs(qe.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(Se.angle||0)*Math.PI/180,this.startAngleRad=We,this.endAngleRad=bt,this.offset=Se.offset||0;let Ct=(We%Be+Be)%Be,Xt=(bt%Be+Be)%Be;Ct>Math.PI&&(Ct-=Be),Xt>Math.PI&&(Xt-=Be),this.normalizedStartAngleRad=Ct,this.normalizedEndAngleRad=Xt}}function ne(ge){this.isRadial&&(ge.align=void 0,ge.preventDefault())}function me(){var ge;if((ge=this.chart)!=null&&ge.labelCollectors){let Se=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;Se>=0&&this.chart.labelCollectors.splice(Se,1)}}function ve(ge){let Se,Me=this.chart,Oe=Me.angular,qe=Me.polar,Be=this.isXAxis,We=this.coll,bt=ge.userOptions.pane||0,Ct=this.pane=Me.pane&&Me.pane[bt];if(We==="colorAxis"){this.isRadial=!1;return}Oe?(Oe&&Be?(this.isHidden=!0,this.createLabelCollector=T,this.getOffset=dn,this.redraw=Ze,this.render=Ze,this.setScale=dn,this.setCategories=dn,this.setTitle=dn):J(this),Se=!Be):qe&&(J(this),Se=this.horiz),Oe||qe?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&Me.labelCollectors.push(this.labelCollector)):this.isRadial=!1,Ct&&Se&&(Ct.axis=this),this.isCircular=Se}function we(){this.isRadial&&this.beforeSetTickPositions()}function ye(ge){let Se=this.label;if(!Se)return;let Me=this.axis,Oe=Se.getBBox(),qe=Me.options.labels,Be=(Me.translate(this.pos)+Me.startAngleRad+Math.PI/2)/Math.PI*180%360,We=Math.round(Be),bt=ks(qe.y)?0:-(.3*Oe.height),Ct=qe.y,Xt,zi=20,Ot=qe.align,Xi="end",vt=We<0?We+360:We,Et=vt,ai=0,Yt=0;Me.isRadial&&(Xt=Me.getPosition(this.pos,Me.center[2]/2+Al(cs(qe.distance,-25),Me.center[2]/2,-Me.center[2]/2)),qe.rotation==="auto"?Se.attr({rotation:Be}):ks(Ct)||(Ct=Me.chart.renderer.fontMetrics(Se).b-Oe.height/2),ks(Ot)||(Me.isCircular?(Oe.width>Me.len*Me.tickInterval/(Me.max-Me.min)&&(zi=0),Ot=Be>zi&&Be<180-zi?"left":Be>180+zi&&Be<360-zi?"right":"center"):Ot="center",Se.attr({align:Ot})),Ot==="auto"&&Me.tickPositions.length===2&&Me.isCircular&&(vt>90&&vt<180?vt=180-vt:vt>270&&vt<=360&&(vt=540-vt),Et>180&&Et<=360&&(Et=360-Et),(Me.pane.options.startAngle===We||Me.pane.options.startAngle===We+360||Me.pane.options.startAngle===We-360)&&(Xi="start"),Ot=We>=-90&&We<=90||We>=-360&&We<=-270||We>=270&&We<=360?Xi==="start"?"right":"left":Xi==="start"?"left":"right",Et>70&&Et<110&&(Ot="center"),vt<15||vt>=180&&vt<195?ai=.3*Oe.height:vt>=15&&vt<=35?ai=Xi==="start"?0:.75*Oe.height:vt>=195&&vt<=215?ai=Xi==="start"?.75*Oe.height:0:vt>35&&vt<=90?ai=Xi==="start"?-(.25*Oe.height):Oe.height:vt>215&&vt<=270&&(ai=Xi==="start"?Oe.height:-(.25*Oe.height)),Et<15?Yt=Xi==="start"?-(.15*Oe.height):.15*Oe.height:Et>165&&Et<=180&&(Yt=Xi==="start"?.15*Oe.height:-(.15*Oe.height)),Se.attr({align:Ot}),Se.translate(Yt,ai+bt)),ge.pos.x=Xt.x+(qe.x||0),ge.pos.y=Xt.y+(Ct||0))}function ue(ge){this.axis.getPosition&&Tf(ge.pos,this.axis.getPosition(this.pos))}function Ue({options:ge}){ge.xAxis&&Qi(!0,P.radialDefaultOptions.circular,ge.xAxis),ge.yAxis&&Qi(!0,P.radialDefaultOptions.radialGauge,ge.yAxis)}function ke(ge,Se){let Me=this.chart,Oe=this.center;return ge=this.startAngleRad+ge,{x:Me.plotLeft+Oe[0]+Math.cos(ge)*Se,y:Me.plotTop+Oe[1]+Math.sin(ge)*Se}}function Ze(){this.isDirty=!1}function Ve(){let ge,Se;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),ge=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(Se=this.postTranslate(this.angleRad,ge[3]/2),ge[0]=Se.x-this.chart.plotLeft,ge[1]=Se.y-this.chart.plotTop),this.len=this.width=this.height=(ge[2]-ge[3])*cs(this.sector,1)/2)}function at(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function dt(ge){let{coll:Se}=this,{angular:Me,inverted:Oe,polar:qe}=this.chart,Be={};Me?this.isXAxis||(Be=Qi(ur.yAxis,P.radialDefaultOptions.radialGauge)):qe&&(Be=this.horiz?Qi(ur.xAxis,P.radialDefaultOptions.circular):Qi(Se==="xAxis"?ur.xAxis:ur.yAxis,P.radialDefaultOptions.radial)),Oe&&Se==="yAxis"&&(Be.stackLabels=Ss(ur.yAxis,!0)?ur.yAxis.stackLabels:{},Be.reversedStacks=!0);let We=this.options=Qi(Be,ge);We.plotBands||(We.plotBands=[]),Rf(this,"afterSetOptions")}function He(ge,Se,Me,Oe,qe,Be,We){let bt,Ct=this.axis;return Ct.isRadial?["M",Se,Me,"L",(bt=Ct.getPosition(this.pos,Ct.center[2]/2+Oe)).x,bt.y]:ge.call(this,Se,Me,Oe,qe,Be,We)}P.radialDefaultOptions=Qi(ua),P.compose=function(ge,Se){return qu(Mf,"Axis.Radial")&&(Zi(ge,"afterInit",le),Zi(ge,"autoLabelAlign",ne),Zi(ge,"destroy",me),Zi(ge,"init",ve),Zi(ge,"initialAxisTranslation",we),Zi(Se,"afterGetLabelPosition",ye),Zi(Se,"afterGetPosition",ue),Zi(Z(),"setOptions",Ue),Lf(Se.prototype,"getMarkPath",He)),ge}})(W||(W={}));let Ju=W,{animObject:Zu}=Z(),{optionsToObject:Pf}={optionsToObject:Sf},{defaultOptions:Dl}=Z(),{composed:Gi}=Z(),{addEvent:ot,defined:fo,find:da,isNumber:ps,isObject:ca,merge:Tt,pick:Dr,pushUnique:Af,relativeLength:Qu,splat:je,uniqueKey:ed,wrap:es}=Z();function Of(){(this.pane||[]).forEach(P=>{P.render()})}function pa(P){let b=P.args[0].xAxis,E=P.args[0].yAxis,T=P.args[0].chart;b&&E&&(E.gridLineInterpolation==="polygon"?(b.startOnTick=!0,b.endOnTick=!0):b.gridLineInterpolation==="polygon"&&T.inverted&&(E.startOnTick=!0,E.endOnTick=!0))}function Qe(){this.pane||(this.pane=[]),this.options.pane=je(this.options.pane||{}),je(this.userOptions.pane||{}).forEach(P=>{new Zt(P,this)},this)}function fa(P){let b=P.args.marker,E=this.chart.xAxis[0],T=this.chart.yAxis[0],O=this.chart.inverted,I=O?T:E,H=O?E:T;if(this.chart.polar){P.preventDefault();let G=(b.attr?b.attr("start"):b.start)-I.startAngleRad,q=b.attr?b.attr("r"):b.r,$=(b.attr?b.attr("end"):b.end)-I.startAngleRad,te=b.attr?b.attr("innerR"):b.innerR;P.result.x=G+I.pos,P.result.width=$-G,P.result.y=H.len+H.pos-q,P.result.height=q-te}}function Df(P){let b=this.chart;if(b.polar&&b.hoverPane&&b.hoverPane.axis){P.preventDefault();let E=b.hoverPane.center,T=b.mouseDownX||0,O=b.mouseDownY||0,I=P.args.chartY,H=P.args.chartX,G=2*Math.PI,q=b.hoverPane.axis.startAngleRad,$=b.hoverPane.axis.endAngleRad,te=b.inverted?b.xAxis[0]:b.yAxis[0],J={},le="arc";if(J.x=E[0]+b.plotLeft,J.y=E[1]+b.plotTop,this.zoomHor){let ne=q>0?$-q:Math.abs(q)+Math.abs($),me=Math.atan2(O-b.plotTop-E[1],T-b.plotLeft-E[0])-q,ve=Math.atan2(I-b.plotTop-E[1],H-b.plotLeft-E[0])-q;J.r=E[2]/2,J.innerR=E[3]/2,me<=0&&(me+=G),ve<=0&&(ve+=G),ve<me&&(ve=[me,me=ve][0]),ne<G&&q+ve>$+(G-ne)/2&&(ve=me,me=q<=0?q:0);let we=J.start=Math.max(me+q,q),ye=J.end=Math.min(ve+q,$);if(te.options.gridLineInterpolation==="polygon"){let ue=b.hoverPane.axis,Ue=we-ue.startAngleRad+ue.pos,ke=te.getPlotLinePath({value:te.max}),Ze=ue.toValue(Ue),Ve=ue.toValue(Ue+(ye-we));if(Ze<ue.getExtremes().min){let{min:at,max:dt}=ue.getExtremes();Ze=dt-(at-Ze)}if(Ve<ue.getExtremes().min){let{min:at,max:dt}=ue.getExtremes();Ve=dt-(at-Ve)}Ve<Ze&&(Ve=[Ze,Ze=Ve][0]),(ke=zl(ke,Ze,Ve,ue)).push(["L",E[0]+b.plotLeft,b.plotTop+E[1]]),J.d=ke,le="path"}}if(this.zoomVert){let ne=b.inverted?b.xAxis[0]:b.yAxis[0],me=Math.sqrt(Math.pow(T-b.plotLeft-E[0],2)+Math.pow(O-b.plotTop-E[1],2)),ve=Math.sqrt(Math.pow(H-b.plotLeft-E[0],2)+Math.pow(I-b.plotTop-E[1],2));if(ve<me&&(me=[ve,ve=me][0]),ve>E[2]/2&&(ve=E[2]/2),me<E[3]/2&&(me=E[3]/2),this.zoomHor||(J.start=q,J.end=$),J.r=ve,J.innerR=me,ne.options.gridLineInterpolation==="polygon"){let we=ne.toValue(ne.len+ne.pos-me),ye=ne.toValue(ne.len+ne.pos-ve);J.d=ne.getPlotLinePath({value:ye}).concat(ne.getPlotLinePath({value:we,reverse:!0})),le="path"}}if(this.zoomHor&&this.zoomVert&&te.options.gridLineInterpolation==="polygon"){let ne=b.hoverPane.axis,me=J.start||0,ve=J.end||0,we=me-ne.startAngleRad+ne.pos,ye=ne.toValue(we),ue=ne.toValue(we+(ve-me));if(J.d instanceof Array){let Ue=J.d.slice(0,J.d.length/2),ke=J.d.slice(J.d.length/2,J.d.length);ke=[...ke].reverse();let Ze=b.hoverPane.axis;Ue=zl(Ue,ye,ue,Ze),(ke=zl(ke,ye,ue,Ze))&&(ke[0][0]="L"),ke=[...ke].reverse(),J.d=Ue.concat(ke),le="path"}}P.attrs=J,P.shapeType=le}}function zf(){let P=this.chart;P.polar&&(this.polar=new rd(this),P.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function Nf(){var T,O;let{chart:P,options:b,yAxis:E}=this;if(b.borderRadius&&P.polar&&P.inverted){let I=(O=(T=Dl.plotOptions)==null?void 0:T[this.type])==null?void 0:O.borderRadius,{scope:H,where:G="end"}=Pf(b.borderRadius,ca(I)?I:{});for(let q of this.points){let{shapeArgs:$}=q;if(q.shapeType==="arc"&&$){let te=G==="all",J=!0;b.stacking&&H==="stack"&&(te=q.stackY===q.y&&G==="all",J=q.stackY===q.stackTotal),E.reversed&&([te,J]=[J,te]),$.brStart=te,$.brEnd=J}}}}function td(){if(this.chart.polar&&this.xAxis){let{xAxis:P,yAxis:b}=this,E=this.chart;this.kdByAngle=E.tooltip&&E.tooltip.shared,this.kdByAngle||E.inverted?this.searchPoint=cn:this.options.findNearestPointBy="xy";let T=this.points,O=T.length;for(;O--;)this.is("column")||this.is("columnrange")||this.polar.toXY(T[O]),E.hasParallelCoordinates||this.yAxis.reversed||(Dr(T[O].y,Number.MIN_VALUE)<b.min||T[O].x<P.min||T[O].x>P.max?(T[O].isNull=!0,T[O].plotY=NaN):T[O].isNull=T[O].isValid&&!T[O].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(ot(this,"afterRender",function(){let I;E.polar&&this.options.clip!==!1&&(I=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:I[0],y:I[1],r:I[2]/2,innerR:I[3]/2}):this.clipCircle=function(H,G,q,$,te){let J=ed(),le=H.createElement("clipPath").attr({id:J}).add(H.defs),ne=te?H.arc(G,q,$,te,0,2*Math.PI).add(le):H.circle(G,q,$).add(le);return ne.id=J,ne.clipPath=le,ne}(E.renderer,I[0],I[1],I[2]/2,I[3]/2),this.group.clip(this.clipCircle),this.setClip=Z().noop)})))}}function cn(P){let b=this.chart,E=this.xAxis,T=this.yAxis,O=E.pane&&E.pane.center,I=P.chartX-(O&&O[0]||0)-b.plotLeft,H=P.chartY-(O&&O[1]||0)-b.plotTop,G=b.inverted?{clientX:P.chartX-T.pos,plotY:P.chartY-E.pos}:{clientX:180+-180/Math.PI*Math.atan2(I,H)};return this.searchKDTree(G)}function zl(P,b,E,T){let O=T.tickInterval,I=T.tickPositions,H=da(I,q=>q>=E),G=da([...I].reverse(),q=>q<=b);return fo(H)||(H=I[I.length-1]),fo(G)||(G=I[0],H+=O,P[0][0]="L",P.unshift(P[P.length-3])),(P=P.slice(I.indexOf(G),I.indexOf(H)+1))[0][0]="M",P}function Ff(P,b){return da(this.pane||[],E=>E.options.id===b)||P.call(this,b)}function If(P,b,E,T,O,I){let H,G,q,$=this.chart,te=Dr(T.inside,!!this.options.stacking);if($.polar){if(H=b.rectPlotX/Math.PI*180,$.inverted)this.forceDL=$.isInsidePlot(b.plotX,b.plotY),te&&b.shapeArgs?(G=b.shapeArgs,O=Tt(O,{x:(q=this.yAxis.postTranslate(((G.start||0)+(G.end||0))/2-this.xAxis.startAngleRad,b.barX+b.pointWidth/2)).x-$.plotLeft,y:q.y-$.plotTop})):b.tooltipPos&&(O=Tt(O,{x:b.tooltipPos[0],y:b.tooltipPos[1]})),T.align=Dr(T.align,"center"),T.verticalAlign=Dr(T.verticalAlign,"middle");else{var J;(J=T).align===null&&(J.align=H>20&&H<160?"left":H>200&&H<340?"right":"center"),J.verticalAlign===null&&(J.verticalAlign=H<45||H>315?"bottom":H>135&&H<225?"top":"middle"),T=J}se().prototype.alignDataLabel.call(this,b,E,T,O,I),this.isRadialBar&&b.shapeArgs&&b.shapeArgs.start===b.shapeArgs.end?E.hide():E.show()}else P.call(this,b,E,T,O,I)}function ma(){let P=this.options,b=P.stacking,E=this.chart,T=this.xAxis,O=this.yAxis,I=O.reversed,H=O.center,G=T.startAngleRad,q=T.endAngleRad-G,$=P.threshold,te=0,J,le,ne,me,ve,we=0,ye=0,ue,Ue,ke,Ze,Ve,at,dt,He;if(T.isRadial)for(ne=(J=this.points).length,me=O.translate(O.min),ve=O.translate(O.max),$=P.threshold||0,E.inverted&&ps($)&&fo(te=O.translate($))&&(te<0?te=0:te>q&&(te=q),this.translatedThreshold=te+G);ne--;){if(at=(le=J[ne]).barX,Ue=le.x,ke=le.y,le.shapeType="arc",E.inverted){le.plotY=O.translate(ke),b&&O.stacking?(Ve=O.stacking.stacks[(ke<0?"-":"")+this.stackKey],this.visible&&Ve&&Ve[Ue]&&!le.isNull&&(Ze=Ve[Ue].points[this.getStackIndicator(void 0,Ue,this.index).key],we=O.translate(Ze[0]),ye=O.translate(Ze[1]),fo(we)&&(we=Z().clamp(we,0,q)))):(we=te,ye=le.plotY),we>ye&&(ye=[we,we=ye][0]),I?ye>me?ye=me:we<ve?we=ve:(we>me||ye<ve)&&(we=ye=q):we<me?we=me:ye>ve?ye=ve:(ye<me||we>ve)&&(we=ye=0),O.min>O.max&&(we=ye=I?q:0),we+=G,ye+=G,H&&(le.barX=at+=H[3]/2),dt=Math.max(at,0),He=Math.max(at+le.pointWidth,0);let ge=P.borderRadius,Se=Qu((typeof ge=="object"?ge.radius:ge)||0,He-dt);le.shapeArgs={x:H[0],y:H[1],r:He,innerR:dt,start:we,end:ye,borderRadius:Se},le.opacity=we===ye?0:void 0,le.plotY=(fo(this.translatedThreshold)&&(we<this.translatedThreshold?we:ye))-G}else we=at+G,le.shapeArgs=this.polar.arc(le.yBottom,le.plotY,we,we+le.pointWidth),le.shapeArgs.borderRadius=0;this.polar.toXY(le),E.inverted?(ue=O.postTranslate(le.rectPlotY,at+le.pointWidth/2),le.tooltipPos=[ue.x-E.plotLeft,ue.y-E.plotTop]):le.tooltipPos=[le.plotX,le.plotY],H&&(le.ttBelow=le.plotY>H[1])}}function Hf(P,b){let E,T,O=this;if(this.chart.polar){b=b||this.points;for(let H=0;H<b.length;H++)if(!b[H].isNull){E=H;break}this.options.connectEnds!==!1&&E!==void 0&&(this.connectEnds=!0,b.splice(b.length,0,b[E]),T=!0),b.forEach(H=>{H.polarPlotY===void 0&&O.polar.toXY(H)})}let I=P.apply(this,[].slice.call(arguments,1));return T&&b.pop(),I}function id(P,b){let E=this.chart,T={xAxis:[],yAxis:[]};return E.polar?E.axes.forEach(O=>{if(O.coll==="colorAxis")return;let I=O.isXAxis,H=O.center,G=b.chartX-H[0]-E.plotLeft,q=b.chartY-H[1]-E.plotTop;T[I?"xAxis":"yAxis"].push({axis:O,value:O.translate(I?Math.PI-Math.atan2(G,q):Math.sqrt(Math.pow(G,2)+Math.pow(q,2)),!0)})}):T=P.call(this,b),T}function Bf(P,b){this.chart.polar||P.call(this,b)}function sd(P,b){let E=this,T=this.chart,O=this.group,I=this.markerGroup,H=this.xAxis&&this.xAxis.center,G=T.plotLeft,q=T.plotTop,$=this.options.animation,te,J,le,ne,me,ve;T.polar?E.isRadialBar?b||(E.startAngleRad=Dr(E.translatedThreshold,E.xAxis.startAngleRad),Z().seriesTypes.pie.prototype.animate.call(E,b)):($=Zu($),E.is("column")?b||(J=H[3]/2,E.points.forEach(we=>{le=we.graphic,me=(ne=we.shapeArgs)&&ne.r,ve=ne&&ne.innerR,le&&ne&&(le.attr({r:J,innerR:J}),le.animate({r:me,innerR:ve},E.options.animation))})):b?(te={translateX:H[0]+G,translateY:H[1]+q,scaleX:.001,scaleY:.001},O.attr(te),I&&I.attr(te)):(te={translateX:G,translateY:q,scaleX:1,scaleY:1},O.animate(te,$),I&&I.animate(te,$))):P.call(this,b)}function _f(P,b,E,T){let O,I;if(this.chart.polar)if(T){let H=(I=function q($,te,J,le){let ne,me,ve,we,ye,ue,Ue=+!!le,ke=(ne=te>=0&&te<=$.length-1?te:te<0?$.length-1+te:0)-1<0?$.length-(1+Ue):ne-1,Ze=ne+1>$.length-1?Ue:ne+1,Ve=$[ke],at=$[Ze],dt=Ve.plotX,He=Ve.plotY,ge=at.plotX,Se=at.plotY,Me=$[ne].plotX,Oe=$[ne].plotY;me=(1.5*Me+dt)/2.5,ve=(1.5*Oe+He)/2.5,we=(1.5*Me+ge)/2.5,ye=(1.5*Oe+Se)/2.5;let qe=Math.sqrt(Math.pow(me-Me,2)+Math.pow(ve-Oe,2)),Be=Math.sqrt(Math.pow(we-Me,2)+Math.pow(ye-Oe,2)),We=Math.atan2(ve-Oe,me-Me);ue=Math.PI/2+(We+Math.atan2(ye-Oe,we-Me))/2,Math.abs(We-ue)>Math.PI/2&&(ue-=Math.PI),me=Me+Math.cos(ue)*qe,ve=Oe+Math.sin(ue)*qe;let bt={rightContX:we=Me+Math.cos(Math.PI+ue)*Be,rightContY:ye=Oe+Math.sin(Math.PI+ue)*Be,leftContX:me,leftContY:ve,plotX:Me,plotY:Oe};return J&&(bt.prevPointCont=q($,ke,!1,le)),bt}(b,T,!0,this.connectEnds)).prevPointCont&&I.prevPointCont.rightContX,G=I.prevPointCont&&I.prevPointCont.rightContY;O=["C",ps(H)?H:I.plotX,ps(G)?G:I.plotY,ps(I.leftContX)?I.leftContX:I.plotX,ps(I.leftContY)?I.leftContY:I.plotY,I.plotX,I.plotY]}else O=["M",E.plotX,E.plotY];else O=P.call(this,b,E,T);return O}function jf(P,b,E=this.plotY){if(!this.destroyed){let{plotX:T,series:O}=this,{chart:I}=O;return I.polar&&ps(T)&&ps(E)?[T+(b?I.plotLeft:0),E+(b?I.plotTop:0)]:P.call(this,b,E)}}class rd{static compose(b,E,T,O,I,H,G,q,$,te){if(Zt.compose(E,T),Ju.compose(b,I),Af(Gi,"Polar")){let J=E.prototype,le=H.prototype,ne=T.prototype,me=O.prototype;if(ot(E,"afterDrawChartBox",Of),ot(E,"createAxes",Qe),ot(E,"init",pa),es(J,"get",Ff),es(ne,"getCoordinates",id),es(ne,"pinch",Bf),ot(T,"getSelectionMarkerAttrs",Df),ot(T,"getSelectionBox",fa),ot(O,"afterInit",zf),ot(O,"afterColumnTranslate",Nf,{order:9}),ot(O,"afterTranslate",td,{order:2}),ot(O,"afterColumnTranslate",ma,{order:4}),es(me,"animate",sd),es(le,"pos",jf),q){let ve=q.prototype;es(ve,"alignDataLabel",If),es(ve,"animate",sd)}if($&&es($.prototype,"getGraphPath",Hf),te){let ve=te.prototype;es(ve,"getPointSpline",_f),G&&(G.prototype.getPointSpline=ve.getPointSpline)}}}constructor(b){this.series=b}arc(b,E,T,O){let I=this.series,H=I.xAxis.center,G=I.yAxis.len,q=H[3]/2,$=G-E+q,te=G-Dr(b,G)+q;return I.yAxis.reversed&&($<0&&($=q),te<0&&(te=q)),{x:H[0],y:H[1],r:$,innerR:te,start:T,end:O}}toXY(b){let E=this.series,T=E.chart,O=E.xAxis,I=E.yAxis,H=b.plotX,G=T.inverted,q=b.y,$=b.plotY,te=G?H:I.len-$,J;if(G&&E&&!E.isRadialBar&&(b.plotY=$=ps(q)?I.translate(q):0),b.rectPlotX=H,b.rectPlotY=$,I.center&&(te+=I.center[3]/2),ps($)){let le=G?I.postTranslate($,te):O.postTranslate(H,te);b.plotX=b.polarPlotX=le.x-T.plotLeft,b.plotY=b.polarPlotY=le.y-T.plotTop}E.kdByAngle?((J=(H/Math.PI*180+O.pane.options.startAngle)%360)<0&&(J+=360),b.clientX=J):b.clientX=b.plotX}}var nd=B(184),od=B.n(nd);let{composed:Wf}=Z(),{addEvent:mo,objectEach:Nl,pushUnique:Ms}=Z();(function(P){function b(){var G;let H=(G=this.waterfall)==null?void 0:G.stacks;H&&(H.changed=!1,delete H.alreadyChanged)}function E(){var G;let H=this.options.stackLabels;H!=null&&H.enabled&&((G=this.waterfall)!=null&&G.stacks)&&this.waterfall.renderStackTotals()}function T(){this.waterfall||(this.waterfall=new I(this))}function O(){let H=this.axes;for(let G of this.series)if(G.options.stacking){for(let q of H)!q.isXAxis&&q.waterfall&&(q.waterfall.stacks.changed=!0);break}}P.compose=function(H,G){Ms(Wf,"Axis.Waterfall")&&(mo(H,"init",T),mo(H,"afterBuildStacks",b),mo(H,"afterRender",E),mo(G,"beforeRedraw",O))};class I{constructor(G){this.axis=G,this.stacks={changed:!1}}renderStackTotals(){var J,le;let G=this.axis,q=(J=G.waterfall)==null?void 0:J.stacks,$=(le=G.stacking)==null?void 0:le.stackTotalGroup,te=new(od())(G,G.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=te,$&&Nl(q,ne=>{Nl(ne,(me,ve)=>{te.total=me.stackTotal,te.x=+ve,me.label&&(te.label=me.label),od().prototype.render.call(te,$),me.label=te.label,delete te.label})}),te.total=null}}P.Composition=I})(V||(V={}));let Vf=V,{isNumber:Uf}=Z();class Gf extends Jo().prototype.pointClass{getClassName(){let b=Sr().prototype.getClassName.call(this);return this.isSum?b+=" highcharts-sum":this.isIntermediateSum&&(b+=" highcharts-intermediate-sum"),b}isValid(){return Uf(this.y)||this.isSum||!!this.isIntermediateSum}}let{column:go,line:Xf}=fe().seriesTypes,{addEvent:Yf,arrayMax:bo,arrayMin:ad,correctFloat:ga,crisp:ba,extend:ld,isNumber:zr,merge:hd,objectEach:ud,pick:$f}=Z();function Bs(P,b){return Object.hasOwnProperty.call(P,b)}class Nr extends go{generatePoints(){go.prototype.generatePoints.apply(this);let b=this.getColumn("y",!0);for(let E=0,T=this.points.length;E<T;E++){let O=this.points[E],I=b[E];zr(I)&&(O.isIntermediateSum||O.isSum)&&(O.y=ga(I))}}processData(b){let E,T,O,I,H,G,q=this.options,$=this.getColumn("y"),te=q.data,J=$.length,le=q.threshold||0;O=T=I=H=0;for(let ne=0;ne<J;ne++)G=$[ne],E=(te==null?void 0:te[ne])||{},G==="sum"||E.isSum?$[ne]=ga(O):G==="intermediateSum"||E.isIntermediateSum?($[ne]=ga(T),T=0):(O+=G,T+=G),I=Math.min(O,I),H=Math.max(O,H);super.processData.call(this,b),q.stacking||(this.dataMin=I+le,this.dataMax=H)}toYData(b){return b.isSum?"sum":b.isIntermediateSum?"intermediateSum":b.y}pointAttribs(b,E){let T=this.options.upColor;T&&!b.options.color&&zr(b.y)&&(b.color=b.y>0?T:void 0);let O=go.prototype.pointAttribs.call(this,b,E);return delete O.dashstyle,O}getGraphPath(){var b;return((b=this.graph)==null?void 0:b.pathArray)||[["M",0,0]]}getCrispPath(){var $,te;let b=this.points.filter(J=>zr(J.y)),E=this.yAxis,T=b.length,O=(($=this.graph)==null?void 0:$.strokeWidth())||0,I=this.xAxis.reversed,H=this.yAxis.reversed,G=this.options.stacking,q=[];for(let J=1;J<T;J++){if(!(this.options.connectNulls||zr(this.data[b[J].index-1].y)))continue;let le=b[J].box,ne=b[J-1],me=ne.y||0,ve=b[J-1].box;if(!le||!ve)continue;let we=(te=E.waterfall)==null?void 0:te.stacks[this.stackKey],ye=me>0?-ve.height:0;if(we&&ve&&le){let ue,Ue=we[J-1];ue=ba(G?E.translate(Ue.connectorThreshold||0,!1,!0,!1,!0)+(H?ye:0):ve.y+(ne.minPointLengthOffset||0),O),q.push(["M",(ve.x||0)+(I?0:ve.width||0),ue],["L",(le.x||0)+(I&&le.width||0),ue])}if(ve&&q.length&&(!G&&me<0&&!H||me>0&&H)){let ue=q[q.length-2];ue&&typeof ue[2]=="number"&&(ue[2]+=ve.height||0);let Ue=q[q.length-1];Ue&&typeof Ue[2]=="number"&&(Ue[2]+=ve.height||0)}}return q}drawGraph(){var b;Xf.prototype.drawGraph.call(this),(b=this.graph)==null||b.animate({d:this.getCrispPath()})}setStackedPoints(b){var dt;let E=this.options,T=(dt=b.waterfall)==null?void 0:dt.stacks,O=E.threshold||0,I=this.stackKey,H=this.getColumn("x"),G=this.getColumn("y"),q=H.length,$=O,te=$,J,le=0,ne=0,me=0,ve,we,ye,ue,Ue,ke,Ze,Ve,at=(He,ge,Se,Me)=>{if(J){if(ve)for(;Se<ve;Se++)J.stackState[Se]+=Me;else J.stackState[0]=He,ve=J.stackState.length;J.stackState.push(J.stackState[ve-1]+ge)}};if(b.stacking&&T&&this.reserveSpace()){Ve=T.changed,(Ze=T.alreadyChanged)&&0>Ze.indexOf(I)&&(Ve=!0),T[I]||(T[I]={});let He=T[I];if(He)for(let ge=0;ge<q;ge++)(!He[ke=H[ge]]||Ve)&&(He[ke]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:Ve&&He[ke]?He[ke].label:void 0}),J=He[ke],(Ue=G[ge])>=0?J.posTotal+=Ue:J.negTotal+=Ue,ue=E.data[ge],we=J.absolutePos=J.posTotal,ye=J.absoluteNeg=J.negTotal,J.stackTotal=we+ye,ve=J.stackState.length,ue!=null&&ue.isIntermediateSum?(at(me,ne,0,me),me=ne,ne=O,$^=te,te^=$,$^=te):ue!=null&&ue.isSum?(at(O,le,ve,0),$=O):(at($,Ue,0,le),ue&&(le+=Ue,ne+=Ue)),J.stateIndex++,J.threshold=$,$+=J.stackTotal;T.changed=!1,T.alreadyChanged||(T.alreadyChanged=[]),T.alreadyChanged.push(I)}}getExtremes(){var H;let b,E,T=this.options.stacking,O=this.yAxis,I=(H=O.waterfall)==null?void 0:H.stacks;return T&&I?(b=this.stackedYNeg=[],E=this.stackedYPos=[],T==="overlap"?ud(I[this.stackKey],function(G){b.push(ad(G.stackState)),E.push(bo(G.stackState))}):ud(I[this.stackKey],function(G){b.push(G.negTotal+G.threshold),E.push(G.posTotal+G.threshold)}),{dataMin:ad(b),dataMax:bo(E)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}Nr.defaultOptions=hd(go.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),Nr.compose=Vf.compose,ld(Nr.prototype,{pointValKey:"y",showLine:!0,pointClass:Gf}),Yf(Nr,"afterColumnTranslate",function(){var ve,we;let{options:P,points:b,yAxis:E}=this,T=$f(P.minPointLength,5),O=T/2,I=P.threshold||0,H=P.stacking,G=(ve=E.waterfall)==null?void 0:ve.stacks[this.stackKey],q=this.getColumn("y",!0),$=I,te=I,J,le,ne,me;for(let ye=0;ye<b.length;ye++){let ue=b[ye],Ue=q[ye],ke=ld({x:0,y:0,width:0,height:0},ue.shapeArgs||{});ue.box=ke;let Ze=[0,Ue],Ve=ue.y||0;if(H){if(G){let He=G[ye];H==="overlap"?(le=He.stackState[He.stateIndex--],J=Ve>=0?le:le-Ve,Bs(He,"absolutePos")&&delete He.absolutePos,Bs(He,"absoluteNeg")&&delete He.absoluteNeg):(Ve>=0?(le=He.threshold+He.posTotal,He.posTotal-=Ve,J=le):(le=He.threshold+He.negTotal,He.negTotal-=Ve,J=le-Ve),!He.posTotal&&zr(He.absolutePos)&&Bs(He,"absolutePos")&&(He.posTotal=He.absolutePos,delete He.absolutePos),!He.negTotal&&zr(He.absoluteNeg)&&Bs(He,"absoluteNeg")&&(He.negTotal=He.absoluteNeg,delete He.absoluteNeg)),ue.isSum||(He.connectorThreshold=He.threshold+He.stackTotal),E.reversed?(ne=Ve>=0?J-Ve:J+Ve,me=J):(ne=J,me=J-Ve),ue.below=ne<=I,ke.y=E.translate(ne,!1,!0,!1,!0),ke.height=Math.abs(ke.y-E.translate(me,!1,!0,!1,!0));let ge=(we=E.waterfall)==null?void 0:we.dummyStackItem;ge&&(ge.x=ye,ge.label=G[ye].label,ge.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[ye],this.stackedYPos[ye],void 0,this.xAxis))}}else J=Math.max(te,te+Ve)+Ze[0],ke.y=E.translate(J,!1,!0,!1,!0),ue.isSum?(ke.y=E.translate(Ze[1],!1,!0,!1,!0),ke.height=Math.min(E.translate(Ze[0],!1,!0,!1,!0),E.len)-ke.y,ue.below=Ze[1]<=I):ue.isIntermediateSum?(Ve>=0?(ne=Ze[1]+$,me=$):(ne=$,me=Ze[1]+$),E.reversed&&(ne^=me,me^=ne,ne^=me),ke.y=E.translate(ne,!1,!0,!1,!0),ke.height=Math.abs(ke.y-Math.min(E.translate(me,!1,!0,!1,!0),E.len)),$+=Ze[1],ue.below=ne<=I):(ke.height=Ue>0?E.translate(te,!1,!0,!1,!0)-ke.y:E.translate(te,!1,!0,!1,!0)-E.translate(te-Ue,!1,!0,!1,!0),ue.below=(te+=Ue)<I),ke.height<0&&(ke.y+=ke.height,ke.height*=-1);ue.plotY=ke.y,ue.yBottom=ke.y+ke.height,ke.height<=T&&!ue.isNull?(ke.height=T,ke.y-=O,ue.yBottom=ke.y+ke.height,ue.plotY=ke.y,Ve<0?ue.minPointLengthOffset=-O:ue.minPointLengthOffset=O):(ue.isNull&&(ke.width=0),ue.minPointLengthOffset=0);let at=ue.plotY+(ue.negative?ke.height:0);ue.below&&(ue.plotY+=ke.height),ue.tooltipPos&&(this.chart.inverted?ue.tooltipPos[0]=E.len-at:ue.tooltipPos[1]=at),ue.isInside=this.isPointInside(ue);let dt=ba(ue.yBottom,this.borderWidth);ke.y=ba(ke.y,this.borderWidth),ke.height=dt-ke.y,hd(!0,ue.shapeArgs,ke)}},{order:2}),fe().registerSeriesType("waterfall",Nr);let oi=Z();oi.RadialAxis=Ju,en.compose(oi.Axis,oi.Chart,oi.Legend),la.compose(oi.Axis,oi.Chart,oi.Legend),Zt.compose(oi.Chart,oi.Pointer),rd.compose(oi.Axis,oi.Chart,oi.Pointer,oi.Series,oi.Tick,oi.Point,fe().seriesTypes.areasplinerange,fe().seriesTypes.column,fe().seriesTypes.line,fe().seriesTypes.spline),Nr.compose(oi.Axis,oi.Chart);let Kf=oi;return j.default})())})(AD);const OD={chart:{height:500,type:"line",zooming:{type:"xy"},backgroundColor:"transparent"},title:{text:""},credits:{enabled:!1},legend:{enabled:!1},xAxis:{type:"datetime",title:{text:"Year"}},yAxis:{title:{text:"GBP"},softMin:0},tooltip:{shared:!0,xDateFormat:"%Y"},plotOptions:{series:{marker:{enabled:!1}},arearange:{lineWidth:0,enableMouseTracking:!0}},series:[{name:"Median",zIndex:9,type:"line",color:"rgba(0,0,255,0.9)",data:[[17040672e5,110],[17356896e5,120],[17672256e5,115],[17987616e5,130],[18302976e5,125]],tooltip:{pointFormat:"Median: {point.y:,.2f}<br/>"}},{name:"Mean",zIndex:10,type:"line",color:"rgba(0,0,0,0.9)",data:[[17040672e5,115],[17356896e5,125],[17672256e5,120],[17987616e5,135],[18302976e5,130]],tooltip:{pointFormat:"Mean: {point.y:,.2f}<br/>"}},{name:"1%-99%",zIndex:4,type:"arearange",color:"rgba(0, 0, 255, 0.10)",data:[[17040672e5,50,170],[17356896e5,60,180],[17672256e5,55,175],[17987616e5,70,190],[18302976e5,65,185]],tooltip:{pointFormat:"1%-99%: {point.low:,.2f}{point.high:,.2f}<br/>"}},{name:"5%-95%",zIndex:6,type:"arearange",color:"rgba(0, 0, 255, 0.20)",data:[[17040672e5,70,150],[17356896e5,80,160],[17672256e5,75,155],[17987616e5,90,170],[18302976e5,85,165]],tooltip:{pointFormat:"5%-95%: {point.low:,.2f}{point.high:,.2f}<br/>"}},{name:"25%-75%",zIndex:8,type:"arearange",color:"rgba(0, 0, 255, 0.30)",data:[[17040672e5,90,130],[17356896e5,100,140],[17672256e5,95,135],[17987616e5,110,150],[18302976e5,105,145]],tooltip:{pointFormat:"25%-75%: {point.low:,.2f}{point.high:,.2f}<br/>"}}]},DD=()=>U.jsx("div",{className:"bg-white p-4 border-gray-200",children:U.jsx(PD,{highcharts:RD,options:OD})}),zD=["Initial Valuation","Value Sensitivity","Headlines","Cashflow Chart","IRR","Leases","Cashflows - Asset","Cashflows - Unit","Cashflows - Expenses","Values Forecast","Macro Economy","Internal MLA Assumptions"],ND=()=>{var $e,Xe,ht,gt,ni,Ut,Pi,Ai;const i=Jh(),{enquiryId:e}=zR(),[t,s]=he.useState(!1),[r,o]=he.useState(!1),[h,p]=he.useState(""),[g,x]=he.useState(!1),[k,R]=he.useState(null),[D,W]=he.useState("Initial Valuation"),[V,Y]=he.useState(!0),[ee,B]=he.useState(!1),[j,X]=he.useState(null),[Z,ce]=he.useState(null),{assets:fe}=UE(),Te=async Ke=>{try{Y(!0);const it=await zw(Ke);R(it),Hi.success("Version loaded")}catch(it){Hi.error((it==null?void 0:it.message)??"Failed to load version")}finally{Y(!1)}},se=async()=>{if(!k)return Hi.error("No enquiry to version.");p(""),o(!0)},nt=async()=>{if(!k)return;const Ke=h??"",it=Hi.loading("Saving version...");x(!0);try{const ut=await jE(e,Ke);Hi.success("Version saved",{id:it}),o(!1),s(!0)}catch(ut){Hi.error((ut==null?void 0:ut.message)??"Save version failed",{id:it})}finally{x(!1)}},_e=he.useRef(null);he.useEffect(()=>{var ut;const Ke=(ut=fe==null?void 0:fe.find)==null?void 0:ut.call(fe,Gt=>String(Gt.enquiryId)===String(e));ce(Ke||null),e?(async()=>{Y(!0),X(null);try{const Gt=await zw(e);R(Gt)}catch(Gt){X((Gt==null?void 0:Gt.message)||"An unknown error occurred during data fetching.")}finally{Y(!1)}})():(Y(!1),X("Enquiry ID not provided in the URL."))},[e,fe]),he.useEffect(()=>{var ut,Gt,Zt,Er;if(!k||_e.current!==null)return;const Ke=(typeof((Gt=(ut=k==null?void 0:k.buildings)==null?void 0:ut[0])==null?void 0:Gt.currentValuation)<"u"?(Er=(Zt=k==null?void 0:k.buildings)==null?void 0:Zt[0])==null?void 0:Er.currentValuation:k==null?void 0:k.currentValuation)??null,it=typeof Ke=="string"?Number(Ke):typeof Ke=="number"?Ke:null;it!==null&&!Number.isNaN(it)&&(_e.current=it)},[k]);const mt=async()=>{if(!k){X("No enquiry to grade.");return}const Ke=Hi.loading("Running Save and Grade...");B(!0),X(null);try{const it=await oA(k),ut=it&&(it.result??it);R(ut),Hi.success("Analysis complete",{id:Ke})}catch(it){const ut=(it==null?void 0:it.message)??"Save and Grade failed";X(ut),Hi.error(ut,{id:Ke})}finally{B(!1)}},Ye=async()=>{var ut,Gt;if(!k){X("No enquiry data to save.");return}const Ke=(Gt=(ut=k==null?void 0:k.buildings)==null?void 0:ut[0])==null?void 0:Gt.currentValuation;if(Ke==null||Number.isNaN(Number(Ke))){R(Zt=>Zt&&{...Zt,_error:"Offer price is invalid"});return}const it=Hi.loading("Saving enquiry...");B(!0),X(null);try{const Zt=await nA(k);if(Zt.status!==200)throw new Error(Zt.message||`Failed to save. Server returned ${Zt.status}`);Hi.success("Saved successfully",{id:it})}catch(Zt){const Er=(Zt==null?void 0:Zt.message)??"An unknown error occurred while saving.";X(Er),Hi.error(Er,{id:it})}finally{B(!1)}},ii=he.useMemo(()=>{var ut,Gt;const Ke=((Gt=(ut=k==null?void 0:k.buildings)==null?void 0:ut[0])==null?void 0:Gt.currentValuation)??null;return typeof Ke=="string"?Number(Ke):typeof Ke=="number"?Ke:null},[k]),{minOffer:Vt,maxOffer:Vi}=he.useMemo(()=>{const Ke=_e.current??ii??0,it=Math.max(0,Math.floor(Ke*.5)),ut=Math.max(it+1e3,Math.ceil(Ke*1.5));return{minOffer:it,maxOffer:ut}},[ii]),Pt=Ke=>{R(it=>{if(!it)return it;const ut=Array.isArray(it.buildings)&&it.buildings.length>0,Gt=ut?[{...it.buildings[0],currentValuation:Ke},...it.buildings.slice(1)]:it.buildings;return{...it,...ut?{buildings:Gt}:{}}})},Ui=[{blank:"NOI (Gross Up)",today:" ",year1:"US$7,521,280",year2:"US$7,495,394",year3:"US$7,769,666",year4:"US$7,848,936",year5:"US$8,214,355",year6:"US$8,570,025",year7:"US$8,891,258",year8:"US$9,238,423",year9:"US$9,421,371",year10:"US$9,982,497",year11:"US$9,926,231"},{blank:"Cashflow before Debt",today:" ",year1:"US$6,445,081",year2:"US$4,462,982",year3:"US$8,171,955",year4:"US$3,644,972",year5:"US$5,484,080",year6:"US$6,023,132",year7:"US$7,314,219",year8:"US$8,295,895",year9:"US$4,773,804",year10:"US$10,499,998",year11:"US$5,387,028"},{blank:"Exit at Cap Rate",today:"5.80%",year1:" ",year2:" ",year3:" ",year4:" ",year5:" ",year6:" ",year7:" ",year8:" ",year9:" ",year10:"US$171,141,907",year11:" "},{blank:"Exit after Sales Costs",today:"2.50%",year1:" ",year2:" ",year3:" ",year4:" ",year5:" ",year6:" ",year7:" ",year8:" ",year9:" ",year10:"US$166,863,359",year11:" "},{blank:"Discounted CF Each Year",today:"8.00%",year1:"US$5,967,668",year2:"US$3,826,287",year3:"US$6,487,161",year4:"US$2,679,163",year5:"US$3,732,373",year6:"US$3,795,595",year7:"US$4,267,776",year8:"US$4,482,014",year9:"US$2,388,090",year10:"US$4,863,531",year11:" "},{blank:"Present Value CF",today:"US$42,489,659",year1:" ",year2:" ",year3:" ",year4:" ",year5:" ",year6:" ",year7:" ",year8:" ",year9:" ",year10:" ",year11:" "},{blank:"Present Value Exit",today:"US$77,290,021",year1:" ",year2:" ",year3:" ",year4:" ",year5:" ",year6:" ",year7:" ",year8:" ",year9:" ",year10:" ",year11:" "},{bold:!0,blank:"Total Present Value",today:"US$119,779,680",year1:" ",year2:" ",year3:" ",year4:" ",year5:" ",year6:" ",year7:" ",year8:" ",year9:" ",year10:" ",year11:" "}],Pe=[{title:"",field:"blank",formatter:"textarea",width:125,frozen:!0,headerSort:!1},{title:"Today",field:"today",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2024 - 31 Aug 2025",field:"year1",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2025 - 31 Aug 2026",field:"year2",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2026 - 31 Aug 2027",field:"year3",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2027 - 31 Aug 2028",field:"year4",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2028 - 31 Aug 2029",field:"year5",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2029 - 31 Aug 2030",field:"year6",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2030 - 31 Aug 2031",field:"year7",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2031 - 31 Aug 2032",field:"year8",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2032 - 31 Aug 2033",field:"year9",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2033 - 31 Aug 2034",field:"year10",formatter:"textarea",width:125,headerSort:!1},{title:"1 Sep 2034 - 31 Aug 2035",field:"year11",formatter:"textarea",width:125,headerSort:!1}];return V?U.jsx("div",{className:"flex items-center justify-center bg-gray-50",children:U.jsxs("div",{className:"text-center",children:[U.jsx("img",{src:WE,alt:"Loading...",className:"mx-auto"}),U.jsx("p",{className:"mt-3 text-sm text-slate-600",children:"Loading asset data"})]})}):U.jsx(U.Fragment,{children:U.jsxs("div",{className:"bg-gray-50 font-sans text-sm",children:[U.jsxs("nav",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-6 bg-white p-3 rounded-md shadow-sm",children:[U.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[U.jsx("button",{className:"text-white bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded font-semibold text-xs",children:"Executive"}),["Rent Roll","Expenses","Debt","Assumptions"].map(Ke=>U.jsx("button",{className:"hover:bg-gray-200 px-3 py-1 rounded text-xs",children:Ke},Ke))]}),U.jsx("div",{className:"mt-2 sm:mt-0 sm:ml-auto flex items-center gap-2",children:U.jsx(i2,{isSaving:ee,onSave:Ye,onSaveVersion:se,onOpenVersions:()=>s(!0),onBack:()=>i("/assets")})}),U.jsxs("div",{className:"w-full sm:w-auto sm:ml-6 text-xs text-slate-600 mt-1 sm:mt-0",children:["Deal ref: ",U.jsx("span",{className:"font-medium text-slate-800",children:(Z==null?void 0:Z.obligorRef)??""})]})]}),(j||(k==null?void 0:k._error))&&U.jsx("div",{className:"mt-3 max-w-7xl mx-auto px-4",children:U.jsxs("div",{className:"flex items-center justify-between bg-rose-50 border border-rose-200 text-rose-700 px-4 py-2 rounded",children:[U.jsx("div",{className:"text-sm",children:j??(k==null?void 0:k._error)}),U.jsx("button",{onClick:()=>{X(null),R(Ke=>Ke&&{...Ke,_error:void 0})},className:"text-sm px-2 py-1 bg-rose-100 rounded","aria-label":"Dismiss error",children:"Dismiss"})]})}),U.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-8 gap-4 px-4",children:[U.jsxs("aside",{className:"lg:col-span-2 space-y-4",children:[U.jsx(r2,{offerPrice:ii,minOffer:Vt,maxOffer:Vi,onOfferChange:Pt,onRerun:mt,formatNumber:$d}),U.jsx(Iw,{title:"Valuation",children:U.jsxs("div",{className:"mt-4 space-y-3",children:[U.jsx(Kd,{label:"Exit Cap Rate",value:10.7}),U.jsx(Kd,{label:"Discount Rate",value:13.6}),U.jsx(Kd,{label:"Sales Costs",value:7.4})]})}),U.jsx(Iw,{title:"Rental Assumptions",children:U.jsx("div",{className:"mt-4",children:U.jsx(Kd,{label:"Rental Value Growth",value:5.6})})}),U.jsx("div",{className:"flex flex-col gap-2",children:U.jsx("button",{className:"w-full text-center text-blue-600 border border-blue-600 hover:bg-blue-50 py-2 rounded text-xs font-medium",children:"Change ERV for all units"})})]}),U.jsxs("main",{className:"lg:col-span-6 space-y-4",children:[U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[U.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[U.jsx("h3",{className:"font-bold text-gray-600 mb-2 border-b pb-1",children:"Asset Summary"}),U.jsx("div",{className:"text-xs mt-2",children:U.jsxs("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-y-2 gap-x-4",children:[U.jsx("div",{className:"text-gray-500",children:"Type"}),U.jsx("div",{className:"text-gray-800 font-medium",children:(Z==null?void 0:Z.sector)??""}),U.jsx("div",{className:"text-gray-500",children:"Market Rent"}),U.jsxs("div",{className:"text-gray-800 font-medium",children:["US$",$d(10273645)," ",U.jsxs("span",{className:"text-gray-400 text-xs ml-2",children:["(","US$27.3 PSF",")"]})]}),U.jsx("div",{className:"text-gray-500",children:"Occupancy"}),U.jsx("div",{className:"text-gray-800 font-medium",children:"0%"}),U.jsx("div",{className:"text-gray-500",children:"Contracted Rent"}),U.jsxs("div",{className:"text-gray-800 font-medium",children:["US$",$d(8035255)," ",U.jsxs("span",{className:"text-gray-400 text-xs ml-2",children:["(","US$21.35 PSF",")"]})]}),U.jsx("div",{className:"text-gray-500",children:"Cap Rate NTM"}),U.jsx("div",{className:"text-gray-800 font-medium",children:"-69,907,772.87%"})]})})]}),U.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[U.jsx("h3",{className:"font-bold text-gray-600 mb-2 border-b pb-1",children:"Results"}),U.jsx("div",{className:"text-xs",children:U.jsxs("table",{className:"w-full",children:[U.jsx("thead",{children:U.jsxs("tr",{className:"text-gray-500",children:[U.jsx("th",{className:"font-normal text-left pb-1"}),U.jsx("th",{className:"font-medium text-right pb-1",children:"This Run"}),U.jsx("th",{className:"font-normal text-right pb-1 border-l pl-2",children:"Previous Run"})]})}),U.jsxs("tbody",{children:[U.jsxs("tr",{className:"h-6",children:[U.jsx("td",{className:"text-gray-500",children:"IRR:"}),U.jsxs("td",{className:`text-right font-bold bg-yellow-50 px-2 rounded ${(($e=k==null?void 0:k.apiOutputs)==null?void 0:$e.irrmean)>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(((Xe=k==null?void 0:k.apiOutputs)==null?void 0:Xe.irrmean)??0),"%",U.jsx("span",{className:"text-xs ml-1",children:((ht=k==null?void 0:k.apiOutputs)==null?void 0:ht.irrmean)>=0?"":""})]}),U.jsx("td",{className:"text-right text-gray-800 border-l pl-2",children:"73.12%"})]}),U.jsxs("tr",{className:"h-6",children:[U.jsx("td",{className:"text-gray-500",children:"Present Val:"}),U.jsxs("td",{className:`text-right font-bold bg-yellow-50 px-2 rounded ${((gt=k==null?void 0:k.apiOutputs)==null?void 0:gt.dcfmean)>=0?"text-green-600":"text-red-600"}`,children:["US$",$d(Math.abs(((ni=k==null?void 0:k.apiOutputs)==null?void 0:ni.dcfmean)??0)),U.jsx("span",{className:"text-xs ml-1",children:((Ut=k==null?void 0:k.apiOutputs)==null?void 0:Ut.dcfmean)>=0?"":""})]}),U.jsx("td",{className:"text-right text-gray-800 border-l pl-2",children:"US$137,555,166.86"})]})]})]})})]})]}),U.jsx("div",{className:"bg-white border-b border-gray-300",children:U.jsx("div",{className:"overflow-x-auto overflow-y-hidden",style:{top:"var(--header-height, 64px)"},children:U.jsx("div",{className:"inline-flex whitespace-nowrap min-w-max bg-gray-100",children:zD.map(Ke=>U.jsx("button",{onClick:()=>W(Ke),className:`flex-shrink-0 text-xs px-4 py-2 border-r border-gray-300 last:border-r-0 transition-colors
                        ${D===Ke?"bg-white text-blue-600 border-t-2 border-blue-600 -mb-[1px]":"text-gray-600 hover:bg-gray-200"}`,children:Ke},Ke))})})}),U.jsx("div",{className:"bg-white border border-gray-300 h-[60vh] mt-0.5 rounded-b-lg shadow-md p-4 overflow-auto",children:D==="Headlines"?U.jsx(MD,{columns:Pe,data:Ui,height:"52vh"}):U.jsx(DD,{})})]})]}),U.jsx(s2,{open:r,description:h,setDescription:p,isSaving:g,onClose:()=>o(!1),onConfirm:nt}),U.jsx(t2,{open:t,onClose:()=>s(!1),obligorRef:String(((Pi=k==null?void 0:k.obligor)==null?void 0:Pi.ref)??""),customer:String(((Ai=k==null?void 0:k.obligor)==null?void 0:Ai.customerName)??""),currentEnquiryId:String(e??""),onLoadVersion:Te})]})})};function FD(){const{isAuthenticated:i}=Cp(),e=({children:t})=>i?t:U.jsx(pw,{to:"/login",replace:!0});return U.jsxs(QR,{children:[i&&U.jsx(tL,{logo:pE}),U.jsxs(qR,{children:[U.jsx(hh,{path:"/login",element:U.jsx(aA,{})}),U.jsx(hh,{path:"/assets",element:U.jsx(e,{children:U.jsx(cA,{})})}),U.jsx(hh,{path:"/asset-analysis/:enquiryId",element:U.jsx(e,{children:U.jsx(ND,{})})}),U.jsx(hh,{path:"/",element:U.jsx(pw,{to:i?"/assets":"/login"})})]})]})}lg.createRoot(document.getElementById("root")).render(U.jsx(Jw.StrictMode,{children:U.jsx(eL,{children:U.jsxs(lA,{children:[U.jsx(FD,{}),U.jsx(e2,{position:"top-right"})]})})}));
